(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(r){if(r.ep)return;r.ep=!0;const c=o(r);fetch(r.href,c)}})();function ec(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Su={exports:{}},il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function Jv(){if(Tm)return il;Tm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,r,c){var p=null;if(c!==void 0&&(p=""+c),r.key!==void 0&&(p=""+r.key),"key"in r){c={};for(var g in r)g!=="key"&&(c[g]=r[g])}else c=r;return r=c.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:c}}return il.Fragment=t,il.jsx=o,il.jsxs=o,il}var Sm;function Kv(){return Sm||(Sm=1,Su.exports=Jv()),Su.exports}var _=Kv(),Eu={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function Xv(){if(Em)return me;Em=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),E=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,D={};function P(M,F,j){this.props=M,this.context=F,this.refs=D,this.updater=j||N}P.prototype.isReactComponent={},P.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},P.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function z(){}z.prototype=P.prototype;function Y(M,F,j){this.props=M,this.context=F,this.refs=D,this.updater=j||N}var H=Y.prototype=new z;H.constructor=Y,I(H,P.prototype),H.isPureReactComponent=!0;var X=Array.isArray;function k(){}var J={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function Z(M,F,j){var ie=j.ref;return{$$typeof:i,type:M,key:F,ref:ie!==void 0?ie:null,props:j}}function ue(M,F){return Z(M.type,F,M.props)}function he(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function ve(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(j){return F[j]})}var $=/\/+/g;function te(M,F){return typeof M=="object"&&M!==null&&M.key!=null?ve(""+M.key):F.toString(36)}function se(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(k,k):(M.status="pending",M.then(function(F){M.status==="pending"&&(M.status="fulfilled",M.value=F)},function(F){M.status==="pending"&&(M.status="rejected",M.reason=F)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function b(M,F,j,ie,pe){var W=typeof M;(W==="undefined"||W==="boolean")&&(M=null);var Te=!1;if(M===null)Te=!0;else switch(W){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(M.$$typeof){case i:case t:Te=!0;break;case v:return Te=M._init,b(Te(M._payload),F,j,ie,pe)}}if(Te)return pe=pe(M),Te=ie===""?"."+te(M,0):ie,X(pe)?(j="",Te!=null&&(j=Te.replace($,"$&/")+"/"),b(pe,F,j,"",function(Tn){return Tn})):pe!=null&&(he(pe)&&(pe=ue(pe,j+(pe.key==null||M&&M.key===pe.key?"":(""+pe.key).replace($,"$&/")+"/")+Te)),F.push(pe)),1;Te=0;var Ye=ie===""?".":ie+":";if(X(M))for(var He=0;He<M.length;He++)ie=M[He],W=Ye+te(ie,He),Te+=b(ie,F,j,W,pe);else if(He=A(M),typeof He=="function")for(M=He.call(M),He=0;!(ie=M.next()).done;)ie=ie.value,W=Ye+te(ie,He++),Te+=b(ie,F,j,W,pe);else if(W==="object"){if(typeof M.then=="function")return b(se(M),F,j,ie,pe);throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Te}function K(M,F,j){if(M==null)return M;var ie=[],pe=0;return b(M,ie,"","",function(W){return F.call(j,W,pe++)}),ie}function ne(M){if(M._status===-1){var F=M._result;F=F(),F.then(function(j){(M._status===0||M._status===-1)&&(M._status=1,M._result=j)},function(j){(M._status===0||M._status===-1)&&(M._status=2,M._result=j)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var de=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},xe={map:K,forEach:function(M,F,j){K(M,function(){F.apply(this,arguments)},j)},count:function(M){var F=0;return K(M,function(){F++}),F},toArray:function(M){return K(M,function(F){return F})||[]},only:function(M){if(!he(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return me.Activity=S,me.Children=xe,me.Component=P,me.Fragment=o,me.Profiler=r,me.PureComponent=Y,me.StrictMode=a,me.Suspense=y,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,me.__COMPILER_RUNTIME={__proto__:null,c:function(M){return J.H.useMemoCache(M)}},me.cache=function(M){return function(){return M.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(M,F,j){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ie=I({},M.props),pe=M.key;if(F!=null)for(W in F.key!==void 0&&(pe=""+F.key),F)!le.call(F,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&F.ref===void 0||(ie[W]=F[W]);var W=arguments.length-2;if(W===1)ie.children=j;else if(1<W){for(var Te=Array(W),Ye=0;Ye<W;Ye++)Te[Ye]=arguments[Ye+2];ie.children=Te}return Z(M.type,pe,ie)},me.createContext=function(M){return M={$$typeof:p,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},me.createElement=function(M,F,j){var ie,pe={},W=null;if(F!=null)for(ie in F.key!==void 0&&(W=""+F.key),F)le.call(F,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(pe[ie]=F[ie]);var Te=arguments.length-2;if(Te===1)pe.children=j;else if(1<Te){for(var Ye=Array(Te),He=0;He<Te;He++)Ye[He]=arguments[He+2];pe.children=Ye}if(M&&M.defaultProps)for(ie in Te=M.defaultProps,Te)pe[ie]===void 0&&(pe[ie]=Te[ie]);return Z(M,W,pe)},me.createRef=function(){return{current:null}},me.forwardRef=function(M){return{$$typeof:g,render:M}},me.isValidElement=he,me.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ne}},me.memo=function(M,F){return{$$typeof:h,type:M,compare:F===void 0?null:F}},me.startTransition=function(M){var F=J.T,j={};J.T=j;try{var ie=M(),pe=J.S;pe!==null&&pe(j,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(k,de)}catch(W){de(W)}finally{F!==null&&j.types!==null&&(F.types=j.types),J.T=F}},me.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},me.use=function(M){return J.H.use(M)},me.useActionState=function(M,F,j){return J.H.useActionState(M,F,j)},me.useCallback=function(M,F){return J.H.useCallback(M,F)},me.useContext=function(M){return J.H.useContext(M)},me.useDebugValue=function(){},me.useDeferredValue=function(M,F){return J.H.useDeferredValue(M,F)},me.useEffect=function(M,F){return J.H.useEffect(M,F)},me.useEffectEvent=function(M){return J.H.useEffectEvent(M)},me.useId=function(){return J.H.useId()},me.useImperativeHandle=function(M,F,j){return J.H.useImperativeHandle(M,F,j)},me.useInsertionEffect=function(M,F){return J.H.useInsertionEffect(M,F)},me.useLayoutEffect=function(M,F){return J.H.useLayoutEffect(M,F)},me.useMemo=function(M,F){return J.H.useMemo(M,F)},me.useOptimistic=function(M,F){return J.H.useOptimistic(M,F)},me.useReducer=function(M,F,j){return J.H.useReducer(M,F,j)},me.useRef=function(M){return J.H.useRef(M)},me.useState=function(M){return J.H.useState(M)},me.useSyncExternalStore=function(M,F,j){return J.H.useSyncExternalStore(M,F,j)},me.useTransition=function(){return J.H.useTransition()},me.version="19.2.4",me}var _m;function tc(){return _m||(_m=1,Eu.exports=Xv()),Eu.exports}var Q=tc();const yg=ec(Q);var _u={exports:{}},ol={},Cu={exports:{}},Au={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function Qv(){return Cm||(Cm=1,(function(i){function t(b,K){var ne=b.length;b.push(K);e:for(;0<ne;){var de=ne-1>>>1,xe=b[de];if(0<r(xe,K))b[de]=K,b[ne]=xe,ne=de;else break e}}function o(b){return b.length===0?null:b[0]}function a(b){if(b.length===0)return null;var K=b[0],ne=b.pop();if(ne!==K){b[0]=ne;e:for(var de=0,xe=b.length,M=xe>>>1;de<M;){var F=2*(de+1)-1,j=b[F],ie=F+1,pe=b[ie];if(0>r(j,ne))ie<xe&&0>r(pe,j)?(b[de]=pe,b[ie]=ne,de=ie):(b[de]=j,b[F]=ne,de=F);else if(ie<xe&&0>r(pe,ne))b[de]=pe,b[ie]=ne,de=ie;else break e}}return K}function r(b,K){var ne=b.sortIndex-K.sortIndex;return ne!==0?ne:b.id-K.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],h=[],v=1,S=null,E=3,A=!1,N=!1,I=!1,D=!1,P=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function H(b){for(var K=o(h);K!==null;){if(K.callback===null)a(h);else if(K.startTime<=b)a(h),K.sortIndex=K.expirationTime,t(y,K);else break;K=o(h)}}function X(b){if(I=!1,H(b),!N)if(o(y)!==null)N=!0,k||(k=!0,ve());else{var K=o(h);K!==null&&se(X,K.startTime-b)}}var k=!1,J=-1,le=5,Z=-1;function ue(){return D?!0:!(i.unstable_now()-Z<le)}function he(){if(D=!1,k){var b=i.unstable_now();Z=b;var K=!0;try{e:{N=!1,I&&(I=!1,z(J),J=-1),A=!0;var ne=E;try{t:{for(H(b),S=o(y);S!==null&&!(S.expirationTime>b&&ue());){var de=S.callback;if(typeof de=="function"){S.callback=null,E=S.priorityLevel;var xe=de(S.expirationTime<=b);if(b=i.unstable_now(),typeof xe=="function"){S.callback=xe,H(b),K=!0;break t}S===o(y)&&a(y),H(b)}else a(y);S=o(y)}if(S!==null)K=!0;else{var M=o(h);M!==null&&se(X,M.startTime-b),K=!1}}break e}finally{S=null,E=ne,A=!1}K=void 0}}finally{K?ve():k=!1}}}var ve;if(typeof Y=="function")ve=function(){Y(he)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,te=$.port2;$.port1.onmessage=he,ve=function(){te.postMessage(null)}}else ve=function(){P(he,0)};function se(b,K){J=P(function(){b(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(b){b.callback=null},i.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<b?Math.floor(1e3/b):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(b){switch(E){case 1:case 2:case 3:var K=3;break;default:K=E}var ne=E;E=K;try{return b()}finally{E=ne}},i.unstable_requestPaint=function(){D=!0},i.unstable_runWithPriority=function(b,K){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var ne=E;E=b;try{return K()}finally{E=ne}},i.unstable_scheduleCallback=function(b,K,ne){var de=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?de+ne:de):ne=de,b){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ne+xe,b={id:v++,callback:K,priorityLevel:b,startTime:ne,expirationTime:xe,sortIndex:-1},ne>de?(b.sortIndex=ne,t(h,b),o(y)===null&&b===o(h)&&(I?(z(J),J=-1):I=!0,se(X,ne-de))):(b.sortIndex=xe,t(y,b),N||A||(N=!0,k||(k=!0,ve()))),b},i.unstable_shouldYield=ue,i.unstable_wrapCallback=function(b){var K=E;return function(){var ne=E;E=K;try{return b.apply(this,arguments)}finally{E=ne}}}})(Au)),Au}var Am;function Zv(){return Am||(Am=1,Cu.exports=Qv()),Cu.exports}var xu={exports:{}},st={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function $v(){if(xm)return st;xm=1;var i=tc();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(y,h,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:y,containerInfo:h,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return st.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,st.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return c(y,h,null,v)},st.flushSync=function(y){var h=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=h,a.p=v,a.d.f()}},st.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},st.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},st.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,S=g(v,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,A=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:A}):v==="script"&&a.d.X(y,{crossOrigin:S,integrity:E,fetchPriority:A,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},st.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},st.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,S=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},st.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},st.requestFormReset=function(y){a.d.r(y)},st.unstable_batchedUpdates=function(y,h){return y(h)},st.useFormState=function(y,h,v){return p.H.useFormState(y,h,v)},st.useFormStatus=function(){return p.H.useHostTransitionStatus()},st.version="19.2.4",st}var Nm;function Wv(){if(Nm)return xu.exports;Nm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),xu.exports=$v(),xu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function jv(){if(Rm)return ol;Rm=1;var i=Zv(),t=tc(),o=Wv();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var l=e,s=n;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(s=d.return,s!==null){l=s;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return y(d),e;if(m===s)return y(d),n;m=m.sibling}throw Error(a(188))}if(l.return!==s.return)l=d,s=m;else{for(var T=!1,C=d.child;C;){if(C===l){T=!0,l=d,s=m;break}if(C===s){T=!0,s=d,l=m;break}C=C.sibling}if(!T){for(C=m.child;C;){if(C===l){T=!0,l=m,s=d;break}if(C===s){T=!0,s=m,l=d;break}C=C.sibling}if(!T)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function ve(e){return e===null||typeof e!="object"?null:(e=he&&e[he]||e["@@iterator"],typeof e=="function"?e:null)}var $=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===$?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case I:return"Fragment";case P:return"Profiler";case D:return"StrictMode";case X:return"Suspense";case k:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case Y:return e.displayName||"Context";case z:return(e._context.displayName||"Context")+".Consumer";case H:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return n=e.displayName||null,n!==null?n:te(e.type)||"Memo";case le:n=e._payload,e=e._init;try{return te(e(n))}catch{}}return null}var se=Array.isArray,b=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},de=[],xe=-1;function M(e){return{current:e}}function F(e){0>xe||(e.current=de[xe],de[xe]=null,xe--)}function j(e,n){xe++,de[xe]=e.current,e.current=n}var ie=M(null),pe=M(null),W=M(null),Te=M(null);function Ye(e,n){switch(j(W,n),j(pe,e),j(ie,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Bp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Bp(n),e=Op(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(ie),j(ie,e)}function He(){F(ie),F(pe),F(W)}function Tn(e){e.memoizedState!==null&&j(Te,e);var n=ie.current,l=Op(n,e.type);n!==l&&(j(pe,e),j(ie,l))}function Kn(e){pe.current===e&&(F(ie),F(pe)),Te.current===e&&(F(Te),jo._currentValue=ne)}var Xn,yc;function Qn(e){if(Xn===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Xn=n&&n[1]||"",yc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xn+e+yc}var is=!1;function os(e,n){if(!e||is)return"";is=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var O=function(){throw Error()};if(Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(V){var G=V}Reflect.construct(e,[],O)}else{try{O.call()}catch(V){G=V}e.call(O.prototype)}}else{try{throw Error()}catch(V){G=V}(O=e())&&typeof O.catch=="function"&&O.catch(function(){})}}catch(V){if(V&&G&&typeof V.stack=="string")return[V.stack,G.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),T=m[0],C=m[1];if(T&&C){var x=T.split(`
`),L=C.split(`
`);for(d=s=0;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;for(;d<L.length&&!L[d].includes("DetermineComponentFrameRoot");)d++;if(s===x.length||d===L.length)for(s=x.length-1,d=L.length-1;1<=s&&0<=d&&x[s]!==L[d];)d--;for(;1<=s&&0<=d;s--,d--)if(x[s]!==L[d]){if(s!==1||d!==1)do if(s--,d--,0>d||x[s]!==L[d]){var q=`
`+x[s].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=s&&0<=d);break}}}finally{is=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Qn(l):""}function Cy(e,n){switch(e.tag){case 26:case 27:case 5:return Qn(e.type);case 16:return Qn("Lazy");case 13:return e.child!==n&&n!==null?Qn("Suspense Fallback"):Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return os(e.type,!1);case 11:return os(e.type.render,!1);case 1:return os(e.type,!0);case 31:return Qn("Activity");default:return""}}function vc(e){try{var n="",l=null;do n+=Cy(e,l),l=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ls=Object.prototype.hasOwnProperty,as=i.unstable_scheduleCallback,ss=i.unstable_cancelCallback,Ay=i.unstable_shouldYield,xy=i.unstable_requestPaint,vt=i.unstable_now,Ny=i.unstable_getCurrentPriorityLevel,Tc=i.unstable_ImmediatePriority,Sc=i.unstable_UserBlockingPriority,ml=i.unstable_NormalPriority,Ry=i.unstable_LowPriority,Ec=i.unstable_IdlePriority,My=i.log,by=i.unstable_setDisableYieldValue,co=null,Tt=null;function Sn(e){if(typeof My=="function"&&by(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(co,e)}catch{}}var St=Math.clz32?Math.clz32:Dy,wy=Math.log,Iy=Math.LN2;function Dy(e){return e>>>=0,e===0?32:31-(wy(e)/Iy|0)|0}var hl=256,gl=262144,yl=4194304;function Zn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vl(e,n,l){var s=e.pendingLanes;if(s===0)return 0;var d=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var C=s&134217727;return C!==0?(s=C&~m,s!==0?d=Zn(s):(T&=C,T!==0?d=Zn(T):l||(l=C&~e,l!==0&&(d=Zn(l))))):(C=s&~m,C!==0?d=Zn(C):T!==0?d=Zn(T):l||(l=s&~e,l!==0&&(d=Zn(l)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,l=n&-n,m>=l||m===32&&(l&4194048)!==0)?n:d}function fo(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Uy(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _c(){var e=yl;return yl<<=1,(yl&62914560)===0&&(yl=4194304),e}function rs(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function po(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ly(e,n,l,s,d,m){var T=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var C=e.entanglements,x=e.expirationTimes,L=e.hiddenUpdates;for(l=T&~l;0<l;){var q=31-St(l),O=1<<q;C[q]=0,x[q]=-1;var G=L[q];if(G!==null)for(L[q]=null,q=0;q<G.length;q++){var V=G[q];V!==null&&(V.lane&=-536870913)}l&=~O}s!==0&&Cc(e,s,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~n))}function Cc(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-St(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function Ac(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var s=31-St(l),d=1<<s;d&n|e[s]&n&&(e[s]|=n),l&=~d}}function xc(e,n){var l=n&-n;return l=(l&42)!==0?1:us(l),(l&(e.suspendedLanes|n))!==0?0:l}function us(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function cs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Nc(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:dm(e.type))}function Rc(e,n){var l=K.p;try{return K.p=e,n()}finally{K.p=l}}var En=Math.random().toString(36).slice(2),tt="__reactFiber$"+En,ft="__reactProps$"+En,gi="__reactContainer$"+En,fs="__reactEvents$"+En,Gy="__reactListeners$"+En,ky="__reactHandles$"+En,Mc="__reactResources$"+En,mo="__reactMarker$"+En;function ds(e){delete e[tt],delete e[ft],delete e[fs],delete e[Gy],delete e[ky]}function yi(e){var n=e[tt];if(n)return n;for(var l=e.parentNode;l;){if(n=l[gi]||l[tt]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Zp(e);e!==null;){if(l=e[tt])return l;e=Zp(e)}return n}e=l,l=e.parentNode}return null}function vi(e){if(e=e[tt]||e[gi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ho(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ti(e){var n=e[Mc];return n||(n=e[Mc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function $e(e){e[mo]=!0}var bc=new Set,wc={};function $n(e,n){Si(e,n),Si(e+"Capture",n)}function Si(e,n){for(wc[e]=n,e=0;e<n.length;e++)bc.add(n[e])}var Vy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ic={},Dc={};function Hy(e){return ls.call(Dc,e)?!0:ls.call(Ic,e)?!1:Vy.test(e)?Dc[e]=!0:(Ic[e]=!0,!1)}function Tl(e,n,l){if(Hy(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function Sl(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function $t(e,n,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+s)}}function bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zy(e,n,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ps(e){if(!e._valueTracker){var n=Uc(e)?"checked":"value";e._valueTracker=zy(e,n,""+e[n])}}function Lc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),s="";return e&&(s=Uc(e)?e.checked?"true":"false":e.value),e=s,e!==l?(n.setValue(e),!0):!1}function El(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var qy=/[\n"\\]/g;function wt(e){return e.replace(qy,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ms(e,n,l,s,d,m,T,C){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+bt(n)):e.value!==""+bt(n)&&(e.value=""+bt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?hs(e,T,bt(n)):l!=null?hs(e,T,bt(l)):s!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+bt(C):e.removeAttribute("name")}function Gc(e,n,l,s,d,m,T,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){ps(e);return}l=l!=null?""+bt(l):"",n=n!=null?""+bt(n):l,C||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=C?e.checked:!!s,e.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),ps(e)}function hs(e,n,l){n==="number"&&El(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ei(e,n,l,s){if(e=e.options,n){n={};for(var d=0;d<l.length;d++)n["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=n.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&s&&(e[l].defaultSelected=!0)}else{for(l=""+bt(l),n=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function kc(e,n,l){if(n!=null&&(n=""+bt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+bt(l):""}function Vc(e,n,l,s){if(n==null){if(s!=null){if(l!=null)throw Error(a(92));if(se(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),n=l}l=bt(n),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),ps(e)}function _i(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var Py=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hc(e,n,l){var s=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,l):typeof l!="number"||l===0||Py.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function zc(e,n,l){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&l[d]!==s&&Hc(e,d,s)}else for(var m in n)n.hasOwnProperty(m)&&Hc(e,m,n[m])}function gs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var By=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _l(e){return Oy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wt(){}var ys=null;function vs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ci=null,Ai=null;function qc(e){var n=vi(e);if(n&&(e=n.stateNode)){var l=e[ft]||null;e:switch(e=n.stateNode,n.type){case"input":if(ms(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+wt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var s=l[n];if(s!==e&&s.form===e.form){var d=s[ft]||null;if(!d)throw Error(a(90));ms(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<l.length;n++)s=l[n],s.form===e.form&&Lc(s)}break e;case"textarea":kc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Ei(e,!!l.multiple,n,!1)}}}var Ts=!1;function Pc(e,n,l){if(Ts)return e(n,l);Ts=!0;try{var s=e(n);return s}finally{if(Ts=!1,(Ci!==null||Ai!==null)&&(ua(),Ci&&(n=Ci,e=Ai,Ai=Ci=null,qc(n),e)))for(n=0;n<e.length;n++)qc(e[n])}}function go(e,n){var l=e.stateNode;if(l===null)return null;var s=l[ft]||null;if(s===null)return null;l=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,n,typeof l));return l}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ss=!1;if(jt)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){Ss=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{Ss=!1}var _n=null,Es=null,Cl=null;function Bc(){if(Cl)return Cl;var e,n=Es,l=n.length,s,d="value"in _n?_n.value:_n.textContent,m=d.length;for(e=0;e<l&&n[e]===d[e];e++);var T=l-e;for(s=1;s<=T&&n[l-s]===d[m-s];s++);return Cl=d.slice(e,1<s?1-s:void 0)}function Al(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xl(){return!0}function Oc(){return!1}function dt(e){function n(l,s,d,m,T){this._reactName=l,this._targetInst=d,this.type=s,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(l=e[C],this[C]=l?l(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?xl:Oc,this.isPropagationStopped=Oc,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),n}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nl=dt(Wn),vo=S({},Wn,{view:0,detail:0}),Fy=dt(vo),_s,Cs,To,Rl=S({},vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==To&&(To&&e.type==="mousemove"?(_s=e.screenX-To.screenX,Cs=e.screenY-To.screenY):Cs=_s=0,To=e),_s)},movementY:function(e){return"movementY"in e?e.movementY:Cs}}),Fc=dt(Rl),Yy=S({},Rl,{dataTransfer:0}),Jy=dt(Yy),Ky=S({},vo,{relatedTarget:0}),As=dt(Ky),Xy=S({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Qy=dt(Xy),Zy=S({},Wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$y=dt(Zy),Wy=S({},Wn,{data:0}),Yc=dt(Wy),jy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=t0[e])?!!n[e]:!1}function xs(){return n0}var i0=S({},vo,{key:function(e){if(e.key){var n=jy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?e0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(e){return e.type==="keypress"?Al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o0=dt(i0),l0=S({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jc=dt(l0),a0=S({},vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),s0=dt(a0),r0=S({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),u0=dt(r0),c0=S({},Rl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),f0=dt(c0),d0=S({},Wn,{newState:0,oldState:0}),p0=dt(d0),m0=[9,13,27,32],Ns=jt&&"CompositionEvent"in window,So=null;jt&&"documentMode"in document&&(So=document.documentMode);var h0=jt&&"TextEvent"in window&&!So,Kc=jt&&(!Ns||So&&8<So&&11>=So),Xc=" ",Qc=!1;function Zc(e,n){switch(e){case"keyup":return m0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $c(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xi=!1;function g0(e,n){switch(e){case"compositionend":return $c(n);case"keypress":return n.which!==32?null:(Qc=!0,Xc);case"textInput":return e=n.data,e===Xc&&Qc?null:e;default:return null}}function y0(e,n){if(xi)return e==="compositionend"||!Ns&&Zc(e,n)?(e=Bc(),Cl=Es=_n=null,xi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Kc&&n.locale!=="ko"?null:n.data;default:return null}}var v0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!v0[e.type]:n==="textarea"}function jc(e,n,l,s){Ci?Ai?Ai.push(s):Ai=[s]:Ci=s,n=ga(n,"onChange"),0<n.length&&(l=new Nl("onChange","change",null,l,s),e.push({event:l,listeners:n}))}var Eo=null,_o=null;function T0(e){kp(e,0)}function Ml(e){var n=ho(e);if(Lc(n))return e}function ef(e,n){if(e==="change")return n}var tf=!1;if(jt){var Rs;if(jt){var Ms="oninput"in document;if(!Ms){var nf=document.createElement("div");nf.setAttribute("oninput","return;"),Ms=typeof nf.oninput=="function"}Rs=Ms}else Rs=!1;tf=Rs&&(!document.documentMode||9<document.documentMode)}function of(){Eo&&(Eo.detachEvent("onpropertychange",lf),_o=Eo=null)}function lf(e){if(e.propertyName==="value"&&Ml(_o)){var n=[];jc(n,_o,e,vs(e)),Pc(T0,n)}}function S0(e,n,l){e==="focusin"?(of(),Eo=n,_o=l,Eo.attachEvent("onpropertychange",lf)):e==="focusout"&&of()}function E0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ml(_o)}function _0(e,n){if(e==="click")return Ml(n)}function C0(e,n){if(e==="input"||e==="change")return Ml(n)}function A0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Et=typeof Object.is=="function"?Object.is:A0;function Co(e,n){if(Et(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),s=Object.keys(n);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var d=l[s];if(!ls.call(n,d)||!Et(e[d],n[d]))return!1}return!0}function af(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sf(e,n){var l=af(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=n&&s>=n)return{node:l,offset:n-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=af(l)}}function rf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?rf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function uf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=El(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=El(e.document)}return n}function bs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var x0=jt&&"documentMode"in document&&11>=document.documentMode,Ni=null,ws=null,Ao=null,Is=!1;function cf(e,n,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Is||Ni==null||Ni!==El(s)||(s=Ni,"selectionStart"in s&&bs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ao&&Co(Ao,s)||(Ao=s,s=ga(ws,"onSelect"),0<s.length&&(n=new Nl("onSelect","select",null,n,l),e.push({event:n,listeners:s}),n.target=Ni)))}function jn(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Ri={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionrun:jn("Transition","TransitionRun"),transitionstart:jn("Transition","TransitionStart"),transitioncancel:jn("Transition","TransitionCancel"),transitionend:jn("Transition","TransitionEnd")},Ds={},ff={};jt&&(ff=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function ei(e){if(Ds[e])return Ds[e];if(!Ri[e])return e;var n=Ri[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in ff)return Ds[e]=n[l];return e}var df=ei("animationend"),pf=ei("animationiteration"),mf=ei("animationstart"),N0=ei("transitionrun"),R0=ei("transitionstart"),M0=ei("transitioncancel"),hf=ei("transitionend"),gf=new Map,Us="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Us.push("scrollEnd");function Pt(e,n){gf.set(e,n),$n(n,[e])}var bl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},It=[],Mi=0,Ls=0;function wl(){for(var e=Mi,n=Ls=Mi=0;n<e;){var l=It[n];It[n++]=null;var s=It[n];It[n++]=null;var d=It[n];It[n++]=null;var m=It[n];if(It[n++]=null,s!==null&&d!==null){var T=s.pending;T===null?d.next=d:(d.next=T.next,T.next=d),s.pending=d}m!==0&&yf(l,d,m)}}function Il(e,n,l,s){It[Mi++]=e,It[Mi++]=n,It[Mi++]=l,It[Mi++]=s,Ls|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Gs(e,n,l,s){return Il(e,n,l,s),Dl(e)}function ti(e,n){return Il(e,null,null,n),Dl(e)}function yf(e,n,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var d=!1,m=e.return;m!==null;)m.childLanes|=l,s=m.alternate,s!==null&&(s.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&n!==null&&(d=31-St(l),e=m.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=l|536870912),m):null}function Dl(e){if(50<Jo)throw Jo=0,Fr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var bi={};function b0(e,n,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,n,l,s){return new b0(e,n,l,s)}function ks(e){return e=e.prototype,!(!e||!e.isReactComponent)}function en(e,n){var l=e.alternate;return l===null?(l=_t(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function vf(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ul(e,n,l,s,d,m){var T=0;if(s=e,typeof e=="function")ks(e)&&(T=1);else if(typeof e=="string")T=Lv(e,l,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=_t(31,l,n,d),e.elementType=Z,e.lanes=m,e;case I:return ni(l.children,d,m,n);case D:T=8,d|=24;break;case P:return e=_t(12,l,n,d|2),e.elementType=P,e.lanes=m,e;case X:return e=_t(13,l,n,d),e.elementType=X,e.lanes=m,e;case k:return e=_t(19,l,n,d),e.elementType=k,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:T=10;break e;case z:T=9;break e;case H:T=11;break e;case J:T=14;break e;case le:T=16,s=null;break e}T=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=_t(T,l,n,d),n.elementType=e,n.type=s,n.lanes=m,n}function ni(e,n,l,s){return e=_t(7,e,s,n),e.lanes=l,e}function Vs(e,n,l){return e=_t(6,e,null,n),e.lanes=l,e}function Tf(e){var n=_t(18,null,null,0);return n.stateNode=e,n}function Hs(e,n,l){return n=_t(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Sf=new WeakMap;function Dt(e,n){if(typeof e=="object"&&e!==null){var l=Sf.get(e);return l!==void 0?l:(n={value:e,source:n,stack:vc(n)},Sf.set(e,n),n)}return{value:e,source:n,stack:vc(n)}}var wi=[],Ii=0,Ll=null,xo=0,Ut=[],Lt=0,Cn=null,Kt=1,Xt="";function tn(e,n){wi[Ii++]=xo,wi[Ii++]=Ll,Ll=e,xo=n}function Ef(e,n,l){Ut[Lt++]=Kt,Ut[Lt++]=Xt,Ut[Lt++]=Cn,Cn=e;var s=Kt;e=Xt;var d=32-St(s)-1;s&=~(1<<d),l+=1;var m=32-St(n)+d;if(30<m){var T=d-d%5;m=(s&(1<<T)-1).toString(32),s>>=T,d-=T,Kt=1<<32-St(n)+d|l<<d|s,Xt=m+e}else Kt=1<<m|l<<d|s,Xt=e}function zs(e){e.return!==null&&(tn(e,1),Ef(e,1,0))}function qs(e){for(;e===Ll;)Ll=wi[--Ii],wi[Ii]=null,xo=wi[--Ii],wi[Ii]=null;for(;e===Cn;)Cn=Ut[--Lt],Ut[Lt]=null,Xt=Ut[--Lt],Ut[Lt]=null,Kt=Ut[--Lt],Ut[Lt]=null}function _f(e,n){Ut[Lt++]=Kt,Ut[Lt++]=Xt,Ut[Lt++]=Cn,Kt=n.id,Xt=n.overflow,Cn=e}var nt=null,ke=null,Ae=!1,An=null,Gt=!1,Ps=Error(a(519));function xn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw No(Dt(n,e)),Ps}function Cf(e){var n=e.stateNode,l=e.type,s=e.memoizedProps;switch(n[tt]=e,n[ft]=s,l){case"dialog":Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":case"embed":Ee("load",n);break;case"video":case"audio":for(l=0;l<Xo.length;l++)Ee(Xo[l],n);break;case"source":Ee("error",n);break;case"img":case"image":case"link":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"input":Ee("invalid",n),Gc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ee("invalid",n);break;case"textarea":Ee("invalid",n),Vc(n,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||s.suppressHydrationWarning===!0||qp(n.textContent,l)?(s.popover!=null&&(Ee("beforetoggle",n),Ee("toggle",n)),s.onScroll!=null&&Ee("scroll",n),s.onScrollEnd!=null&&Ee("scrollend",n),s.onClick!=null&&(n.onclick=Wt),n=!0):n=!1,n||xn(e,!0)}function Af(e){for(nt=e.return;nt;)switch(nt.tag){case 5:case 31:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:nt=nt.return}}function Di(e){if(e!==nt)return!1;if(!Ae)return Af(e),Ae=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||lu(e.type,e.memoizedProps)),l=!l),l&&ke&&xn(e),Af(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ke=Qp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ke=Qp(e)}else n===27?(n=ke,zn(e.type)?(e=cu,cu=null,ke=e):ke=n):ke=nt?Vt(e.stateNode.nextSibling):null;return!0}function ii(){ke=nt=null,Ae=!1}function Bs(){var e=An;return e!==null&&(gt===null?gt=e:gt.push.apply(gt,e),An=null),e}function No(e){An===null?An=[e]:An.push(e)}var Os=M(null),oi=null,nn=null;function Nn(e,n,l){j(Os,n._currentValue),n._currentValue=l}function on(e){e._currentValue=Os.current,F(Os)}function Fs(e,n,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===l)break;e=e.return}}function Ys(e,n,l,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var T=d.child;m=m.firstContext;e:for(;m!==null;){var C=m;m=d;for(var x=0;x<n.length;x++)if(C.context===n[x]){m.lanes|=l,C=m.alternate,C!==null&&(C.lanes|=l),Fs(m.return,l,e),s||(T=null);break e}m=C.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(a(341));T.lanes|=l,m=T.alternate,m!==null&&(m.lanes|=l),Fs(T,l,e),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===e){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Ui(e,n,l,s){e=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var C=d.type;Et(d.pendingProps.value,T.value)||(e!==null?e.push(C):e=[C])}}else if(d===Te.current){if(T=d.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(jo):e=[jo])}d=d.return}e!==null&&Ys(n,e,l,s),n.flags|=262144}function Gl(e){for(e=e.firstContext;e!==null;){if(!Et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function li(e){oi=e,nn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return xf(oi,e)}function kl(e,n){return oi===null&&li(e),xf(e,n)}function xf(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},nn===null){if(e===null)throw Error(a(308));nn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else nn=nn.next=n;return l}var w0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},I0=i.unstable_scheduleCallback,D0=i.unstable_NormalPriority,Je={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Js(){return{controller:new w0,data:new Map,refCount:0}}function Ro(e){e.refCount--,e.refCount===0&&I0(D0,function(){e.controller.abort()})}var Mo=null,Ks=0,Li=0,Gi=null;function U0(e,n){if(Mo===null){var l=Mo=[];Ks=0,Li=Zr(),Gi={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Ks++,n.then(Nf,Nf),n}function Nf(){if(--Ks===0&&Mo!==null){Gi!==null&&(Gi.status="fulfilled");var e=Mo;Mo=null,Li=0,Gi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function L0(e,n){var l=[],s={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<l.length;d++)(0,l[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),s}var Rf=b.S;b.S=function(e,n){cp=vt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&U0(e,n),Rf!==null&&Rf(e,n)};var ai=M(null);function Xs(){var e=ai.current;return e!==null?e:Ge.pooledCache}function Vl(e,n){n===null?j(ai,ai.current):j(ai,n.pool)}function Mf(){var e=Xs();return e===null?null:{parent:Je._currentValue,pool:e}}var ki=Error(a(460)),Qs=Error(a(474)),Hl=Error(a(542)),zl={then:function(){}};function bf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wf(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(Wt,Wt),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Df(e),e;default:if(typeof n.status=="string")n.then(Wt,Wt);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Df(e),e}throw ri=n,ki}}function si(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ri=l,ki):l}}var ri=null;function If(){if(ri===null)throw Error(a(459));var e=ri;return ri=null,e}function Df(e){if(e===ki||e===Hl)throw Error(a(483))}var Vi=null,bo=0;function ql(e){var n=bo;return bo+=1,Vi===null&&(Vi=[]),wf(Vi,e,n)}function wo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pl(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Uf(e){function n(w,R){if(e){var U=w.deletions;U===null?(w.deletions=[R],w.flags|=16):U.push(R)}}function l(w,R){if(!e)return null;for(;R!==null;)n(w,R),R=R.sibling;return null}function s(w){for(var R=new Map;w!==null;)w.key!==null?R.set(w.key,w):R.set(w.index,w),w=w.sibling;return R}function d(w,R){return w=en(w,R),w.index=0,w.sibling=null,w}function m(w,R,U){return w.index=U,e?(U=w.alternate,U!==null?(U=U.index,U<R?(w.flags|=67108866,R):U):(w.flags|=67108866,R)):(w.flags|=1048576,R)}function T(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function C(w,R,U,B){return R===null||R.tag!==6?(R=Vs(U,w.mode,B),R.return=w,R):(R=d(R,U),R.return=w,R)}function x(w,R,U,B){var re=U.type;return re===I?q(w,R,U.props.children,B,U.key):R!==null&&(R.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===le&&si(re)===R.type)?(R=d(R,U.props),wo(R,U),R.return=w,R):(R=Ul(U.type,U.key,U.props,null,w.mode,B),wo(R,U),R.return=w,R)}function L(w,R,U,B){return R===null||R.tag!==4||R.stateNode.containerInfo!==U.containerInfo||R.stateNode.implementation!==U.implementation?(R=Hs(U,w.mode,B),R.return=w,R):(R=d(R,U.children||[]),R.return=w,R)}function q(w,R,U,B,re){return R===null||R.tag!==7?(R=ni(U,w.mode,B,re),R.return=w,R):(R=d(R,U),R.return=w,R)}function O(w,R,U){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Vs(""+R,w.mode,U),R.return=w,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case A:return U=Ul(R.type,R.key,R.props,null,w.mode,U),wo(U,R),U.return=w,U;case N:return R=Hs(R,w.mode,U),R.return=w,R;case le:return R=si(R),O(w,R,U)}if(se(R)||ve(R))return R=ni(R,w.mode,U,null),R.return=w,R;if(typeof R.then=="function")return O(w,ql(R),U);if(R.$$typeof===Y)return O(w,kl(w,R),U);Pl(w,R)}return null}function G(w,R,U,B){var re=R!==null?R.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return re!==null?null:C(w,R,""+U,B);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return U.key===re?x(w,R,U,B):null;case N:return U.key===re?L(w,R,U,B):null;case le:return U=si(U),G(w,R,U,B)}if(se(U)||ve(U))return re!==null?null:q(w,R,U,B,null);if(typeof U.then=="function")return G(w,R,ql(U),B);if(U.$$typeof===Y)return G(w,R,kl(w,U),B);Pl(w,U)}return null}function V(w,R,U,B,re){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return w=w.get(U)||null,C(R,w,""+B,re);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return w=w.get(B.key===null?U:B.key)||null,x(R,w,B,re);case N:return w=w.get(B.key===null?U:B.key)||null,L(R,w,B,re);case le:return B=si(B),V(w,R,U,B,re)}if(se(B)||ve(B))return w=w.get(U)||null,q(R,w,B,re,null);if(typeof B.then=="function")return V(w,R,U,ql(B),re);if(B.$$typeof===Y)return V(w,R,U,kl(R,B),re);Pl(R,B)}return null}function oe(w,R,U,B){for(var re=null,Ne=null,ae=R,ye=R=0,Ce=null;ae!==null&&ye<U.length;ye++){ae.index>ye?(Ce=ae,ae=null):Ce=ae.sibling;var Re=G(w,ae,U[ye],B);if(Re===null){ae===null&&(ae=Ce);break}e&&ae&&Re.alternate===null&&n(w,ae),R=m(Re,R,ye),Ne===null?re=Re:Ne.sibling=Re,Ne=Re,ae=Ce}if(ye===U.length)return l(w,ae),Ae&&tn(w,ye),re;if(ae===null){for(;ye<U.length;ye++)ae=O(w,U[ye],B),ae!==null&&(R=m(ae,R,ye),Ne===null?re=ae:Ne.sibling=ae,Ne=ae);return Ae&&tn(w,ye),re}for(ae=s(ae);ye<U.length;ye++)Ce=V(ae,w,ye,U[ye],B),Ce!==null&&(e&&Ce.alternate!==null&&ae.delete(Ce.key===null?ye:Ce.key),R=m(Ce,R,ye),Ne===null?re=Ce:Ne.sibling=Ce,Ne=Ce);return e&&ae.forEach(function(Fn){return n(w,Fn)}),Ae&&tn(w,ye),re}function ce(w,R,U,B){if(U==null)throw Error(a(151));for(var re=null,Ne=null,ae=R,ye=R=0,Ce=null,Re=U.next();ae!==null&&!Re.done;ye++,Re=U.next()){ae.index>ye?(Ce=ae,ae=null):Ce=ae.sibling;var Fn=G(w,ae,Re.value,B);if(Fn===null){ae===null&&(ae=Ce);break}e&&ae&&Fn.alternate===null&&n(w,ae),R=m(Fn,R,ye),Ne===null?re=Fn:Ne.sibling=Fn,Ne=Fn,ae=Ce}if(Re.done)return l(w,ae),Ae&&tn(w,ye),re;if(ae===null){for(;!Re.done;ye++,Re=U.next())Re=O(w,Re.value,B),Re!==null&&(R=m(Re,R,ye),Ne===null?re=Re:Ne.sibling=Re,Ne=Re);return Ae&&tn(w,ye),re}for(ae=s(ae);!Re.done;ye++,Re=U.next())Re=V(ae,w,ye,Re.value,B),Re!==null&&(e&&Re.alternate!==null&&ae.delete(Re.key===null?ye:Re.key),R=m(Re,R,ye),Ne===null?re=Re:Ne.sibling=Re,Ne=Re);return e&&ae.forEach(function(Yv){return n(w,Yv)}),Ae&&tn(w,ye),re}function Le(w,R,U,B){if(typeof U=="object"&&U!==null&&U.type===I&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case A:e:{for(var re=U.key;R!==null;){if(R.key===re){if(re=U.type,re===I){if(R.tag===7){l(w,R.sibling),B=d(R,U.props.children),B.return=w,w=B;break e}}else if(R.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===le&&si(re)===R.type){l(w,R.sibling),B=d(R,U.props),wo(B,U),B.return=w,w=B;break e}l(w,R);break}else n(w,R);R=R.sibling}U.type===I?(B=ni(U.props.children,w.mode,B,U.key),B.return=w,w=B):(B=Ul(U.type,U.key,U.props,null,w.mode,B),wo(B,U),B.return=w,w=B)}return T(w);case N:e:{for(re=U.key;R!==null;){if(R.key===re)if(R.tag===4&&R.stateNode.containerInfo===U.containerInfo&&R.stateNode.implementation===U.implementation){l(w,R.sibling),B=d(R,U.children||[]),B.return=w,w=B;break e}else{l(w,R);break}else n(w,R);R=R.sibling}B=Hs(U,w.mode,B),B.return=w,w=B}return T(w);case le:return U=si(U),Le(w,R,U,B)}if(se(U))return oe(w,R,U,B);if(ve(U)){if(re=ve(U),typeof re!="function")throw Error(a(150));return U=re.call(U),ce(w,R,U,B)}if(typeof U.then=="function")return Le(w,R,ql(U),B);if(U.$$typeof===Y)return Le(w,R,kl(w,U),B);Pl(w,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,R!==null&&R.tag===6?(l(w,R.sibling),B=d(R,U),B.return=w,w=B):(l(w,R),B=Vs(U,w.mode,B),B.return=w,w=B),T(w)):l(w,R)}return function(w,R,U,B){try{bo=0;var re=Le(w,R,U,B);return Vi=null,re}catch(ae){if(ae===ki||ae===Hl)throw ae;var Ne=_t(29,ae,null,w.mode);return Ne.lanes=B,Ne.return=w,Ne}finally{}}}var ui=Uf(!0),Lf=Uf(!1),Rn=!1;function Zs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $s(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Mn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bn(e,n,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(be&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Dl(e),yf(e,null,l),n}return Il(e,s,n,l),Dl(e)}function Io(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,Ac(e,l)}}function Ws(e,n){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=T:m=m.next=T,l=l.next}while(l!==null);m===null?d=m=n:m=m.next=n}else d=m=n;l={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var js=!1;function Do(){if(js){var e=Gi;if(e!==null)throw e}}function Uo(e,n,l,s){js=!1;var d=e.updateQueue;Rn=!1;var m=d.firstBaseUpdate,T=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var x=C,L=x.next;x.next=null,T===null?m=L:T.next=L,T=x;var q=e.alternate;q!==null&&(q=q.updateQueue,C=q.lastBaseUpdate,C!==T&&(C===null?q.firstBaseUpdate=L:C.next=L,q.lastBaseUpdate=x))}if(m!==null){var O=d.baseState;T=0,q=L=x=null,C=m;do{var G=C.lane&-536870913,V=G!==C.lane;if(V?(_e&G)===G:(s&G)===G){G!==0&&G===Li&&(js=!0),q!==null&&(q=q.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var oe=e,ce=C;G=n;var Le=l;switch(ce.tag){case 1:if(oe=ce.payload,typeof oe=="function"){O=oe.call(Le,O,G);break e}O=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ce.payload,G=typeof oe=="function"?oe.call(Le,O,G):oe,G==null)break e;O=S({},O,G);break e;case 2:Rn=!0}}G=C.callback,G!==null&&(e.flags|=64,V&&(e.flags|=8192),V=d.callbacks,V===null?d.callbacks=[G]:V.push(G))}else V={lane:G,tag:C.tag,payload:C.payload,callback:C.callback,next:null},q===null?(L=q=V,x=O):q=q.next=V,T|=G;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;V=C,C=V.next,V.next=null,d.lastBaseUpdate=V,d.shared.pending=null}}while(!0);q===null&&(x=O),d.baseState=x,d.firstBaseUpdate=L,d.lastBaseUpdate=q,m===null&&(d.shared.lanes=0),Ln|=T,e.lanes=T,e.memoizedState=O}}function Gf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function kf(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Gf(l[e],n)}var Hi=M(null),Bl=M(0);function Vf(e,n){e=pn,j(Bl,e),j(Hi,n),pn=e|n.baseLanes}function er(){j(Bl,pn),j(Hi,Hi.current)}function tr(){pn=Bl.current,F(Hi),F(Bl)}var Ct=M(null),kt=null;function wn(e){var n=e.alternate;j(Oe,Oe.current&1),j(Ct,e),kt===null&&(n===null||Hi.current!==null||n.memoizedState!==null)&&(kt=e)}function nr(e){j(Oe,Oe.current),j(Ct,e),kt===null&&(kt=e)}function Hf(e){e.tag===22?(j(Oe,Oe.current),j(Ct,e),kt===null&&(kt=e)):In()}function In(){j(Oe,Oe.current),j(Ct,Ct.current)}function At(e){F(Ct),kt===e&&(kt=null),F(Oe)}var Oe=M(0);function Ol(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||ru(l)||uu(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ln=0,ge=null,De=null,Ke=null,Fl=!1,zi=!1,ci=!1,Yl=0,Lo=0,qi=null,G0=0;function Pe(){throw Error(a(321))}function ir(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Et(e[l],n[l]))return!1;return!0}function or(e,n,l,s,d,m){return ln=m,ge=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,b.H=e===null||e.memoizedState===null?Ed:Tr,ci=!1,m=l(s,d),ci=!1,zi&&(m=qf(n,l,s,d)),zf(e),m}function zf(e){b.H=Vo;var n=De!==null&&De.next!==null;if(ln=0,Ke=De=ge=null,Fl=!1,Lo=0,qi=null,n)throw Error(a(300));e===null||Xe||(e=e.dependencies,e!==null&&Gl(e)&&(Xe=!0))}function qf(e,n,l,s){ge=e;var d=0;do{if(zi&&(qi=null),Lo=0,zi=!1,25<=d)throw Error(a(301));if(d+=1,Ke=De=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}b.H=_d,m=n(l,s)}while(zi);return m}function k0(){var e=b.H,n=e.useState()[0];return n=typeof n.then=="function"?Go(n):n,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(ge.flags|=1024),n}function lr(){var e=Yl!==0;return Yl=0,e}function ar(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function sr(e){if(Fl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Fl=!1}ln=0,Ke=De=ge=null,zi=!1,Lo=Yl=0,qi=null}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ge.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Fe(){if(De===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var n=Ke===null?ge.memoizedState:Ke.next;if(n!==null)Ke=n,De=e;else{if(e===null)throw ge.alternate===null?Error(a(467)):Error(a(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ke===null?ge.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Jl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(e){var n=Lo;return Lo+=1,qi===null&&(qi=[]),e=wf(qi,e,n),n=ge,(Ke===null?n.memoizedState:Ke.next)===null&&(n=n.alternate,b.H=n===null||n.memoizedState===null?Ed:Tr),e}function Kl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Go(e);if(e.$$typeof===Y)return it(e)}throw Error(a(438,String(e)))}function rr(e){var n=null,l=ge.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var s=ge.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Jl(),ge.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),s=0;s<e;s++)l[s]=ue;return n.index++,l}function an(e,n){return typeof n=="function"?n(e):n}function Xl(e){var n=Fe();return ur(n,De,e)}function ur(e,n,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var d=e.baseQueue,m=s.pending;if(m!==null){if(d!==null){var T=d.next;d.next=m.next,m.next=T}n.baseQueue=d=m,s.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{n=d.next;var C=T=null,x=null,L=n,q=!1;do{var O=L.lane&-536870913;if(O!==L.lane?(_e&O)===O:(ln&O)===O){var G=L.revertLane;if(G===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),O===Li&&(q=!0);else if((ln&G)===G){L=L.next,G===Li&&(q=!0);continue}else O={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},x===null?(C=x=O,T=m):x=x.next=O,ge.lanes|=G,Ln|=G;O=L.action,ci&&l(m,O),m=L.hasEagerState?L.eagerState:l(m,O)}else G={lane:O,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},x===null?(C=x=G,T=m):x=x.next=G,ge.lanes|=O,Ln|=O;L=L.next}while(L!==null&&L!==n);if(x===null?T=m:x.next=C,!Et(m,e.memoizedState)&&(Xe=!0,q&&(l=Gi,l!==null)))throw l;e.memoizedState=m,e.baseState=T,e.baseQueue=x,s.lastRenderedState=m}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function cr(e){var n=Fe(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,d=l.pending,m=n.memoizedState;if(d!==null){l.pending=null;var T=d=d.next;do m=e(m,T.action),T=T.next;while(T!==d);Et(m,n.memoizedState)||(Xe=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,s]}function Pf(e,n,l){var s=ge,d=Fe(),m=Ae;if(m){if(l===void 0)throw Error(a(407));l=l()}else l=n();var T=!Et((De||d).memoizedState,l);if(T&&(d.memoizedState=l,Xe=!0),d=d.queue,pr(Ff.bind(null,s,d,e),[e]),d.getSnapshot!==n||T||Ke!==null&&Ke.memoizedState.tag&1){if(s.flags|=2048,Pi(9,{destroy:void 0},Of.bind(null,s,d,l,n),null),Ge===null)throw Error(a(349));m||(ln&127)!==0||Bf(s,n,l)}return l}function Bf(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=ge.updateQueue,n===null?(n=Jl(),ge.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Of(e,n,l,s){n.value=l,n.getSnapshot=s,Yf(n)&&Jf(e)}function Ff(e,n,l){return l(function(){Yf(n)&&Jf(e)})}function Yf(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Et(e,l)}catch{return!0}}function Jf(e){var n=ti(e,2);n!==null&&yt(n,e,2)}function fr(e){var n=rt();if(typeof e=="function"){var l=e;if(e=l(),ci){Sn(!0);try{l()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:e},n}function Kf(e,n,l,s){return e.baseState=l,ur(e,De,typeof s=="function"?s:an)}function V0(e,n,l,s,d){if($l(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};b.T!==null?l(!0):m.isTransition=!1,s(m),l=n.pending,l===null?(m.next=n.pending=m,Xf(n,m)):(m.next=l.next,n.pending=l.next=m)}}function Xf(e,n){var l=n.action,s=n.payload,d=e.state;if(n.isTransition){var m=b.T,T={};b.T=T;try{var C=l(d,s),x=b.S;x!==null&&x(T,C),Qf(e,n,C)}catch(L){dr(e,n,L)}finally{m!==null&&T.types!==null&&(m.types=T.types),b.T=m}}else try{m=l(d,s),Qf(e,n,m)}catch(L){dr(e,n,L)}}function Qf(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Zf(e,n,s)},function(s){return dr(e,n,s)}):Zf(e,n,l)}function Zf(e,n,l){n.status="fulfilled",n.value=l,$f(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,Xf(e,l)))}function dr(e,n,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=l,$f(n),n=n.next;while(n!==s)}e.action=null}function $f(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Wf(e,n){return n}function jf(e,n){if(Ae){var l=Ge.formState;if(l!==null){e:{var s=ge;if(Ae){if(ke){t:{for(var d=ke,m=Gt;d.nodeType!==8;){if(!m){d=null;break t}if(d=Vt(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){ke=Vt(d.nextSibling),s=d.data==="F!";break e}}xn(s)}s=!1}s&&(n=l[0])}}return l=rt(),l.memoizedState=l.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wf,lastRenderedState:n},l.queue=s,l=vd.bind(null,ge,s),s.dispatch=l,s=fr(!1),m=vr.bind(null,ge,!1,s.queue),s=rt(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,l=V0.bind(null,ge,d,m,l),d.dispatch=l,s.memoizedState=e,[n,l,!1]}function ed(e){var n=Fe();return td(n,De,e)}function td(e,n,l){if(n=ur(e,n,Wf)[0],e=Xl(an)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Go(n)}catch(T){throw T===ki?Hl:T}else s=n;n=Fe();var d=n.queue,m=d.dispatch;return l!==n.memoizedState&&(ge.flags|=2048,Pi(9,{destroy:void 0},H0.bind(null,d,l),null)),[s,m,e]}function H0(e,n){e.action=n}function nd(e){var n=Fe(),l=De;if(l!==null)return td(n,l,e);Fe(),n=n.memoizedState,l=Fe();var s=l.queue.dispatch;return l.memoizedState=e,[n,s,!1]}function Pi(e,n,l,s){return e={tag:e,create:l,deps:s,inst:n,next:null},n=ge.updateQueue,n===null&&(n=Jl(),ge.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,n.lastEffect=e),e}function id(){return Fe().memoizedState}function Ql(e,n,l,s){var d=rt();ge.flags|=e,d.memoizedState=Pi(1|n,{destroy:void 0},l,s===void 0?null:s)}function Zl(e,n,l,s){var d=Fe();s=s===void 0?null:s;var m=d.memoizedState.inst;De!==null&&s!==null&&ir(s,De.memoizedState.deps)?d.memoizedState=Pi(n,m,l,s):(ge.flags|=e,d.memoizedState=Pi(1|n,m,l,s))}function od(e,n){Ql(8390656,8,e,n)}function pr(e,n){Zl(2048,8,e,n)}function z0(e){ge.flags|=4;var n=ge.updateQueue;if(n===null)n=Jl(),ge.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function ld(e){var n=Fe().memoizedState;return z0({ref:n,nextImpl:e}),function(){if((be&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function ad(e,n){return Zl(4,2,e,n)}function sd(e,n){return Zl(4,4,e,n)}function rd(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ud(e,n,l){l=l!=null?l.concat([e]):null,Zl(4,4,rd.bind(null,n,e),l)}function mr(){}function cd(e,n){var l=Fe();n=n===void 0?null:n;var s=l.memoizedState;return n!==null&&ir(n,s[1])?s[0]:(l.memoizedState=[e,n],e)}function fd(e,n){var l=Fe();n=n===void 0?null:n;var s=l.memoizedState;if(n!==null&&ir(n,s[1]))return s[0];if(s=e(),ci){Sn(!0);try{e()}finally{Sn(!1)}}return l.memoizedState=[s,n],s}function hr(e,n,l){return l===void 0||(ln&1073741824)!==0&&(_e&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=dp(),ge.lanes|=e,Ln|=e,l)}function dd(e,n,l,s){return Et(l,n)?l:Hi.current!==null?(e=hr(e,l,s),Et(e,n)||(Xe=!0),e):(ln&42)===0||(ln&1073741824)!==0&&(_e&261930)===0?(Xe=!0,e.memoizedState=l):(e=dp(),ge.lanes|=e,Ln|=e,n)}function pd(e,n,l,s,d){var m=K.p;K.p=m!==0&&8>m?m:8;var T=b.T,C={};b.T=C,vr(e,!1,n,l);try{var x=d(),L=b.S;if(L!==null&&L(C,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var q=L0(x,s);ko(e,n,q,Rt(e))}else ko(e,n,s,Rt(e))}catch(O){ko(e,n,{then:function(){},status:"rejected",reason:O},Rt())}finally{K.p=m,T!==null&&C.types!==null&&(T.types=C.types),b.T=T}}function q0(){}function gr(e,n,l,s){if(e.tag!==5)throw Error(a(476));var d=md(e).queue;pd(e,d,n,ne,l===null?q0:function(){return hd(e),l(s)})}function md(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:ne},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function hd(e){var n=md(e);n.next===null&&(n=e.alternate.memoizedState),ko(e,n.next.queue,{},Rt())}function yr(){return it(jo)}function gd(){return Fe().memoizedState}function yd(){return Fe().memoizedState}function P0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Rt();e=Mn(l);var s=bn(n,e,l);s!==null&&(yt(s,n,l),Io(s,n,l)),n={cache:Js()},e.payload=n;return}n=n.return}}function B0(e,n,l){var s=Rt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},$l(e)?Td(n,l):(l=Gs(e,n,l,s),l!==null&&(yt(l,e,s),Sd(l,n,s)))}function vd(e,n,l){var s=Rt();ko(e,n,l,s)}function ko(e,n,l,s){var d={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if($l(e))Td(n,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,C=m(T,l);if(d.hasEagerState=!0,d.eagerState=C,Et(C,T))return Il(e,n,d,0),Ge===null&&wl(),!1}catch{}finally{}if(l=Gs(e,n,d,s),l!==null)return yt(l,e,s),Sd(l,n,s),!0}return!1}function vr(e,n,l,s){if(s={lane:2,revertLane:Zr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},$l(e)){if(n)throw Error(a(479))}else n=Gs(e,l,s,2),n!==null&&yt(n,e,2)}function $l(e){var n=e.alternate;return e===ge||n!==null&&n===ge}function Td(e,n){zi=Fl=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Sd(e,n,l){if((l&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,Ac(e,l)}}var Vo={readContext:it,use:Kl,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};Vo.useEffectEvent=Pe;var Ed={readContext:it,use:Kl,useCallback:function(e,n){return rt().memoizedState=[e,n===void 0?null:n],e},useContext:it,useEffect:od,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,Ql(4194308,4,rd.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Ql(4194308,4,e,n)},useInsertionEffect:function(e,n){Ql(4,2,e,n)},useMemo:function(e,n){var l=rt();n=n===void 0?null:n;var s=e();if(ci){Sn(!0);try{e()}finally{Sn(!1)}}return l.memoizedState=[s,n],s},useReducer:function(e,n,l){var s=rt();if(l!==void 0){var d=l(n);if(ci){Sn(!0);try{l(n)}finally{Sn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=B0.bind(null,ge,e),[s.memoizedState,e]},useRef:function(e){var n=rt();return e={current:e},n.memoizedState=e},useState:function(e){e=fr(e);var n=e.queue,l=vd.bind(null,ge,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:mr,useDeferredValue:function(e,n){var l=rt();return hr(l,e,n)},useTransition:function(){var e=fr(!1);return e=pd.bind(null,ge,e.queue,!0,!1),rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var s=ge,d=rt();if(Ae){if(l===void 0)throw Error(a(407));l=l()}else{if(l=n(),Ge===null)throw Error(a(349));(_e&127)!==0||Bf(s,n,l)}d.memoizedState=l;var m={value:l,getSnapshot:n};return d.queue=m,od(Ff.bind(null,s,m,e),[e]),s.flags|=2048,Pi(9,{destroy:void 0},Of.bind(null,s,m,l,n),null),l},useId:function(){var e=rt(),n=Ge.identifierPrefix;if(Ae){var l=Xt,s=Kt;l=(s&~(1<<32-St(s)-1)).toString(32)+l,n="_"+n+"R_"+l,l=Yl++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=G0++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:yr,useFormState:jf,useActionState:jf,useOptimistic:function(e){var n=rt();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=vr.bind(null,ge,!0,l),l.dispatch=n,[e,n]},useMemoCache:rr,useCacheRefresh:function(){return rt().memoizedState=P0.bind(null,ge)},useEffectEvent:function(e){var n=rt(),l={impl:e};return n.memoizedState=l,function(){if((be&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},Tr={readContext:it,use:Kl,useCallback:cd,useContext:it,useEffect:pr,useImperativeHandle:ud,useInsertionEffect:ad,useLayoutEffect:sd,useMemo:fd,useReducer:Xl,useRef:id,useState:function(){return Xl(an)},useDebugValue:mr,useDeferredValue:function(e,n){var l=Fe();return dd(l,De.memoizedState,e,n)},useTransition:function(){var e=Xl(an)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:Pf,useId:gd,useHostTransitionStatus:yr,useFormState:ed,useActionState:ed,useOptimistic:function(e,n){var l=Fe();return Kf(l,De,e,n)},useMemoCache:rr,useCacheRefresh:yd};Tr.useEffectEvent=ld;var _d={readContext:it,use:Kl,useCallback:cd,useContext:it,useEffect:pr,useImperativeHandle:ud,useInsertionEffect:ad,useLayoutEffect:sd,useMemo:fd,useReducer:cr,useRef:id,useState:function(){return cr(an)},useDebugValue:mr,useDeferredValue:function(e,n){var l=Fe();return De===null?hr(l,e,n):dd(l,De.memoizedState,e,n)},useTransition:function(){var e=cr(an)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:Pf,useId:gd,useHostTransitionStatus:yr,useFormState:nd,useActionState:nd,useOptimistic:function(e,n){var l=Fe();return De!==null?Kf(l,De,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:rr,useCacheRefresh:yd};_d.useEffectEvent=ld;function Sr(e,n,l,s){n=e.memoizedState,l=l(s,n),l=l==null?n:S({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Er={enqueueSetState:function(e,n,l){e=e._reactInternals;var s=Rt(),d=Mn(s);d.payload=n,l!=null&&(d.callback=l),n=bn(e,d,s),n!==null&&(yt(n,e,s),Io(n,e,s))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var s=Rt(),d=Mn(s);d.tag=1,d.payload=n,l!=null&&(d.callback=l),n=bn(e,d,s),n!==null&&(yt(n,e,s),Io(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Rt(),s=Mn(l);s.tag=2,n!=null&&(s.callback=n),n=bn(e,s,l),n!==null&&(yt(n,e,l),Io(n,e,l))}};function Cd(e,n,l,s,d,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,T):n.prototype&&n.prototype.isPureReactComponent?!Co(l,s)||!Co(d,m):!0}function Ad(e,n,l,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,s),n.state!==e&&Er.enqueueReplaceState(n,n.state,null)}function fi(e,n){var l=n;if("ref"in n){l={};for(var s in n)s!=="ref"&&(l[s]=n[s])}if(e=e.defaultProps){l===n&&(l=S({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}function xd(e){bl(e)}function Nd(e){console.error(e)}function Rd(e){bl(e)}function Wl(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Md(e,n,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function _r(e,n,l){return l=Mn(l),l.tag=3,l.payload={element:null},l.callback=function(){Wl(e,n)},l}function bd(e){return e=Mn(e),e.tag=3,e}function wd(e,n,l,s){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;e.payload=function(){return d(m)},e.callback=function(){Md(n,l,s)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Md(n,l,s),typeof d!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})})}function O0(e,n,l,s,d){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=l.alternate,n!==null&&Ui(n,l,d,!0),l=Ct.current,l!==null){switch(l.tag){case 31:case 13:return kt===null?ca():l.alternate===null&&Be===0&&(Be=3),l.flags&=-257,l.flags|=65536,l.lanes=d,s===zl?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([s]):n.add(s),Kr(e,s,d)),!1;case 22:return l.flags|=65536,s===zl?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([s]):l.add(s)),Kr(e,s,d)),!1}throw Error(a(435,l.tag))}return Kr(e,s,d),ca(),!1}if(Ae)return n=Ct.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==Ps&&(e=Error(a(422),{cause:s}),No(Dt(e,l)))):(s!==Ps&&(n=Error(a(423),{cause:s}),No(Dt(n,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=Dt(s,l),d=_r(e.stateNode,s,d),Ws(e,d),Be!==4&&(Be=2)),!1;var m=Error(a(520),{cause:s});if(m=Dt(m,l),Yo===null?Yo=[m]:Yo.push(m),Be!==4&&(Be=2),n===null)return!0;s=Dt(s,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=_r(l.stateNode,s,e),Ws(l,e),!1;case 1:if(n=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gn===null||!Gn.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=bd(d),wd(d,e,l,s),Ws(l,d),!1}l=l.return}while(l!==null);return!1}var Cr=Error(a(461)),Xe=!1;function ot(e,n,l,s){n.child=e===null?Lf(n,null,l,s):ui(n,e.child,l,s)}function Id(e,n,l,s,d){l=l.render;var m=n.ref;if("ref"in s){var T={};for(var C in s)C!=="ref"&&(T[C]=s[C])}else T=s;return li(n),s=or(e,n,l,T,m,d),C=lr(),e!==null&&!Xe?(ar(e,n,d),sn(e,n,d)):(Ae&&C&&zs(n),n.flags|=1,ot(e,n,s,d),n.child)}function Dd(e,n,l,s,d){if(e===null){var m=l.type;return typeof m=="function"&&!ks(m)&&m.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=m,Ud(e,n,m,s,d)):(e=Ul(l.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Ir(e,d)){var T=m.memoizedProps;if(l=l.compare,l=l!==null?l:Co,l(T,s)&&e.ref===n.ref)return sn(e,n,d)}return n.flags|=1,e=en(m,s),e.ref=n.ref,e.return=n,n.child=e}function Ud(e,n,l,s,d){if(e!==null){var m=e.memoizedProps;if(Co(m,s)&&e.ref===n.ref)if(Xe=!1,n.pendingProps=s=m,Ir(e,d))(e.flags&131072)!==0&&(Xe=!0);else return n.lanes=e.lanes,sn(e,n,d)}return Ar(e,n,l,s,d)}function Ld(e,n,l,s){var d=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~m}else s=0,n.child=null;return Gd(e,n,m,l,s)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vl(n,m!==null?m.cachePool:null),m!==null?Vf(n,m):er(),Hf(n);else return s=n.lanes=536870912,Gd(e,n,m!==null?m.baseLanes|l:l,l,s)}else m!==null?(Vl(n,m.cachePool),Vf(n,m),In(),n.memoizedState=null):(e!==null&&Vl(n,null),er(),In());return ot(e,n,d,l),n.child}function Ho(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Gd(e,n,l,s,d){var m=Xs();return m=m===null?null:{parent:Je._currentValue,pool:m},n.memoizedState={baseLanes:l,cachePool:m},e!==null&&Vl(n,null),er(),Hf(n),e!==null&&Ui(e,n,s,!0),n.childLanes=d,null}function jl(e,n){return n=ta({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function kd(e,n,l){return ui(n,e.child,null,l),e=jl(n,n.pendingProps),e.flags|=2,At(n),n.memoizedState=null,e}function F0(e,n,l){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ae){if(s.mode==="hidden")return e=jl(n,s),n.lanes=536870912,Ho(null,e);if(nr(n),(e=ke)?(e=Xp(e,Gt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Cn!==null?{id:Kt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},l=Tf(e),l.return=n,n.child=l,nt=n,ke=null)):e=null,e===null)throw xn(n);return n.lanes=536870912,null}return jl(n,s)}var m=e.memoizedState;if(m!==null){var T=m.dehydrated;if(nr(n),d)if(n.flags&256)n.flags&=-257,n=kd(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Xe||Ui(e,n,l,!1),d=(l&e.childLanes)!==0,Xe||d){if(s=Ge,s!==null&&(T=xc(s,l),T!==0&&T!==m.retryLane))throw m.retryLane=T,ti(e,T),yt(s,e,T),Cr;ca(),n=kd(e,n,l)}else e=m.treeContext,ke=Vt(T.nextSibling),nt=n,Ae=!0,An=null,Gt=!1,e!==null&&_f(n,e),n=jl(n,s),n.flags|=4096;return n}return e=en(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ea(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function Ar(e,n,l,s,d){return li(n),l=or(e,n,l,s,void 0,d),s=lr(),e!==null&&!Xe?(ar(e,n,d),sn(e,n,d)):(Ae&&s&&zs(n),n.flags|=1,ot(e,n,l,d),n.child)}function Vd(e,n,l,s,d,m){return li(n),n.updateQueue=null,l=qf(n,s,l,d),zf(e),s=lr(),e!==null&&!Xe?(ar(e,n,m),sn(e,n,m)):(Ae&&s&&zs(n),n.flags|=1,ot(e,n,l,m),n.child)}function Hd(e,n,l,s,d){if(li(n),n.stateNode===null){var m=bi,T=l.contextType;typeof T=="object"&&T!==null&&(m=it(T)),m=new l(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Er,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},Zs(n),T=l.contextType,m.context=typeof T=="object"&&T!==null?it(T):bi,m.state=n.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Sr(n,l,T,s),m.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Er.enqueueReplaceState(m,m.state,null),Uo(n,s,m,d),Do(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var C=n.memoizedProps,x=fi(l,C);m.props=x;var L=m.context,q=l.contextType;T=bi,typeof q=="object"&&q!==null&&(T=it(q));var O=l.getDerivedStateFromProps;q=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,q||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||L!==T)&&Ad(n,m,s,T),Rn=!1;var G=n.memoizedState;m.state=G,Uo(n,s,m,d),Do(),L=n.memoizedState,C||G!==L||Rn?(typeof O=="function"&&(Sr(n,l,O,s),L=n.memoizedState),(x=Rn||Cd(n,l,x,s,G,L,T))?(q||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=L),m.props=s,m.state=L,m.context=T,s=x):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,$s(e,n),T=n.memoizedProps,q=fi(l,T),m.props=q,O=n.pendingProps,G=m.context,L=l.contextType,x=bi,typeof L=="object"&&L!==null&&(x=it(L)),C=l.getDerivedStateFromProps,(L=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==O||G!==x)&&Ad(n,m,s,x),Rn=!1,G=n.memoizedState,m.state=G,Uo(n,s,m,d),Do();var V=n.memoizedState;T!==O||G!==V||Rn||e!==null&&e.dependencies!==null&&Gl(e.dependencies)?(typeof C=="function"&&(Sr(n,l,C,s),V=n.memoizedState),(q=Rn||Cd(n,l,q,s,G,V,x)||e!==null&&e.dependencies!==null&&Gl(e.dependencies))?(L||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,V,x),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,V,x)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=V),m.props=s,m.state=V,m.context=x,s=q):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,ea(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=ui(n,e.child,null,d),n.child=ui(n,null,l,d)):ot(e,n,l,d),n.memoizedState=m.state,e=n.child):e=sn(e,n,d),e}function zd(e,n,l,s){return ii(),n.flags|=256,ot(e,n,l,s),n.child}var xr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nr(e){return{baseLanes:e,cachePool:Mf()}}function Rr(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Nt),e}function qd(e,n,l){var s=n.pendingProps,d=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),T&&(d=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ae){if(d?wn(n):In(),(e=ke)?(e=Xp(e,Gt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Cn!==null?{id:Kt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},l=Tf(e),l.return=n,n.child=l,nt=n,ke=null)):e=null,e===null)throw xn(n);return uu(e)?n.lanes=32:n.lanes=536870912,null}var C=s.children;return s=s.fallback,d?(In(),d=n.mode,C=ta({mode:"hidden",children:C},d),s=ni(s,d,l,null),C.return=n,s.return=n,C.sibling=s,n.child=C,s=n.child,s.memoizedState=Nr(l),s.childLanes=Rr(e,T,l),n.memoizedState=xr,Ho(null,s)):(wn(n),Mr(n,C))}var x=e.memoizedState;if(x!==null&&(C=x.dehydrated,C!==null)){if(m)n.flags&256?(wn(n),n.flags&=-257,n=br(e,n,l)):n.memoizedState!==null?(In(),n.child=e.child,n.flags|=128,n=null):(In(),C=s.fallback,d=n.mode,s=ta({mode:"visible",children:s.children},d),C=ni(C,d,l,null),C.flags|=2,s.return=n,C.return=n,s.sibling=C,n.child=s,ui(n,e.child,null,l),s=n.child,s.memoizedState=Nr(l),s.childLanes=Rr(e,T,l),n.memoizedState=xr,n=Ho(null,s));else if(wn(n),uu(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var L=T.dgst;T=L,s=Error(a(419)),s.stack="",s.digest=T,No({value:s,source:null,stack:null}),n=br(e,n,l)}else if(Xe||Ui(e,n,l,!1),T=(l&e.childLanes)!==0,Xe||T){if(T=Ge,T!==null&&(s=xc(T,l),s!==0&&s!==x.retryLane))throw x.retryLane=s,ti(e,s),yt(T,e,s),Cr;ru(C)||ca(),n=br(e,n,l)}else ru(C)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,ke=Vt(C.nextSibling),nt=n,Ae=!0,An=null,Gt=!1,e!==null&&_f(n,e),n=Mr(n,s.children),n.flags|=4096);return n}return d?(In(),C=s.fallback,d=n.mode,x=e.child,L=x.sibling,s=en(x,{mode:"hidden",children:s.children}),s.subtreeFlags=x.subtreeFlags&65011712,L!==null?C=en(L,C):(C=ni(C,d,l,null),C.flags|=2),C.return=n,s.return=n,s.sibling=C,n.child=s,Ho(null,s),s=n.child,C=e.child.memoizedState,C===null?C=Nr(l):(d=C.cachePool,d!==null?(x=Je._currentValue,d=d.parent!==x?{parent:x,pool:x}:d):d=Mf(),C={baseLanes:C.baseLanes|l,cachePool:d}),s.memoizedState=C,s.childLanes=Rr(e,T,l),n.memoizedState=xr,Ho(e.child,s)):(wn(n),l=e.child,e=l.sibling,l=en(l,{mode:"visible",children:s.children}),l.return=n,l.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=l,n.memoizedState=null,l)}function Mr(e,n){return n=ta({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ta(e,n){return e=_t(22,e,null,n),e.lanes=0,e}function br(e,n,l){return ui(n,e.child,null,l),e=Mr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Pd(e,n,l){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Fs(e.return,n,l)}function wr(e,n,l,s,d,m){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:d,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=l,T.tailMode=d,T.treeForkCount=m)}function Bd(e,n,l){var s=n.pendingProps,d=s.revealOrder,m=s.tail;s=s.children;var T=Oe.current,C=(T&2)!==0;if(C?(T=T&1|2,n.flags|=128):T&=1,j(Oe,T),ot(e,n,s,l),s=Ae?xo:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pd(e,l,n);else if(e.tag===19)Pd(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(l=n.child,d=null;l!==null;)e=l.alternate,e!==null&&Ol(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=n.child,n.child=null):(d=l.sibling,l.sibling=null),wr(n,!1,d,l,m,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Ol(e)===null){n.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}wr(n,!0,l,null,m,s);break;case"together":wr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function sn(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),Ln|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Ui(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,l=en(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=en(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Ir(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Gl(e)))}function Y0(e,n,l){switch(n.tag){case 3:Ye(n,n.stateNode.containerInfo),Nn(n,Je,e.memoizedState.cache),ii();break;case 27:case 5:Tn(n);break;case 4:Ye(n,n.stateNode.containerInfo);break;case 10:Nn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,nr(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(wn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?qd(e,n,l):(wn(n),e=sn(e,n,l),e!==null?e.sibling:null);wn(n);break;case 19:var d=(e.flags&128)!==0;if(s=(l&n.childLanes)!==0,s||(Ui(e,n,l,!1),s=(l&n.childLanes)!==0),d){if(s)return Bd(e,n,l);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),j(Oe,Oe.current),s)break;return null;case 22:return n.lanes=0,Ld(e,n,l,n.pendingProps);case 24:Nn(n,Je,e.memoizedState.cache)}return sn(e,n,l)}function Od(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)Xe=!0;else{if(!Ir(e,l)&&(n.flags&128)===0)return Xe=!1,Y0(e,n,l);Xe=(e.flags&131072)!==0}else Xe=!1,Ae&&(n.flags&1048576)!==0&&Ef(n,xo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=si(n.elementType),n.type=e,typeof e=="function")ks(e)?(s=fi(e,s),n.tag=1,n=Hd(null,n,e,s,l)):(n.tag=0,n=Ar(null,n,e,s,l));else{if(e!=null){var d=e.$$typeof;if(d===H){n.tag=11,n=Id(null,n,e,s,l);break e}else if(d===J){n.tag=14,n=Dd(null,n,e,s,l);break e}}throw n=te(e)||e,Error(a(306,n,""))}}return n;case 0:return Ar(e,n,n.type,n.pendingProps,l);case 1:return s=n.type,d=fi(s,n.pendingProps),Hd(e,n,s,d,l);case 3:e:{if(Ye(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;d=m.element,$s(e,n),Uo(n,s,null,l);var T=n.memoizedState;if(s=T.cache,Nn(n,Je,s),s!==m.cache&&Ys(n,[Je],l,!0),Do(),s=T.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=zd(e,n,s,l);break e}else if(s!==d){d=Dt(Error(a(424)),n),No(d),n=zd(e,n,s,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ke=Vt(e.firstChild),nt=n,Ae=!0,An=null,Gt=!0,l=Lf(n,null,s,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ii(),s===d){n=sn(e,n,l);break e}ot(e,n,s,l)}n=n.child}return n;case 26:return ea(e,n),e===null?(l=em(n.type,null,n.pendingProps,null))?n.memoizedState=l:Ae||(l=n.type,e=n.pendingProps,s=ya(W.current).createElement(l),s[tt]=n,s[ft]=e,lt(s,l,e),$e(s),n.stateNode=s):n.memoizedState=em(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Tn(n),e===null&&Ae&&(s=n.stateNode=$p(n.type,n.pendingProps,W.current),nt=n,Gt=!0,d=ke,zn(n.type)?(cu=d,ke=Vt(s.firstChild)):ke=d),ot(e,n,n.pendingProps.children,l),ea(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ae&&((d=s=ke)&&(s=Ev(s,n.type,n.pendingProps,Gt),s!==null?(n.stateNode=s,nt=n,ke=Vt(s.firstChild),Gt=!1,d=!0):d=!1),d||xn(n)),Tn(n),d=n.type,m=n.pendingProps,T=e!==null?e.memoizedProps:null,s=m.children,lu(d,m)?s=null:T!==null&&lu(d,T)&&(n.flags|=32),n.memoizedState!==null&&(d=or(e,n,k0,null,null,l),jo._currentValue=d),ea(e,n),ot(e,n,s,l),n.child;case 6:return e===null&&Ae&&((e=l=ke)&&(l=_v(l,n.pendingProps,Gt),l!==null?(n.stateNode=l,nt=n,ke=null,e=!0):e=!1),e||xn(n)),null;case 13:return qd(e,n,l);case 4:return Ye(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=ui(n,null,s,l):ot(e,n,s,l),n.child;case 11:return Id(e,n,n.type,n.pendingProps,l);case 7:return ot(e,n,n.pendingProps,l),n.child;case 8:return ot(e,n,n.pendingProps.children,l),n.child;case 12:return ot(e,n,n.pendingProps.children,l),n.child;case 10:return s=n.pendingProps,Nn(n,n.type,s.value),ot(e,n,s.children,l),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,li(n),d=it(d),s=s(d),n.flags|=1,ot(e,n,s,l),n.child;case 14:return Dd(e,n,n.type,n.pendingProps,l);case 15:return Ud(e,n,n.type,n.pendingProps,l);case 19:return Bd(e,n,l);case 31:return F0(e,n,l);case 22:return Ld(e,n,l,n.pendingProps);case 24:return li(n),s=it(Je),e===null?(d=Xs(),d===null&&(d=Ge,m=Js(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),n.memoizedState={parent:s,cache:d},Zs(n),Nn(n,Je,d)):((e.lanes&l)!==0&&($s(e,n),Uo(n,null,null,l),Do()),d=e.memoizedState,m=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Nn(n,Je,s)):(s=m.cache,Nn(n,Je,s),s!==d.cache&&Ys(n,[Je],l,!0))),ot(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function rn(e){e.flags|=4}function Dr(e,n,l,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(gp())e.flags|=8192;else throw ri=zl,Qs}else e.flags&=-16777217}function Fd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!lm(n))if(gp())e.flags|=8192;else throw ri=zl,Qs}function na(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?_c():536870912,e.lanes|=n,Yi|=n)}function zo(e,n){if(!Ae)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ve(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(n)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=l,n}function J0(e,n,l){var s=n.pendingProps;switch(qs(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(n),null;case 1:return Ve(n),null;case 3:return l=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),on(Je),He(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Di(n)?rn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bs())),Ve(n),null;case 26:var d=n.type,m=n.memoizedState;return e===null?(rn(n),m!==null?(Ve(n),Fd(n,m)):(Ve(n),Dr(n,d,null,s,l))):m?m!==e.memoizedState?(rn(n),Ve(n),Fd(n,m)):(Ve(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&rn(n),Ve(n),Dr(n,d,e,s,l)),null;case 27:if(Kn(n),l=W.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&rn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ve(n),null}e=ie.current,Di(n)?Cf(n):(e=$p(d,s,l),n.stateNode=e,rn(n))}return Ve(n),null;case 5:if(Kn(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&rn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ve(n),null}if(m=ie.current,Di(n))Cf(n);else{var T=ya(W.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?T.createElement(d,{is:s.is}):T.createElement(d)}}m[tt]=n,m[ft]=s;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(lt(m,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&rn(n)}}return Ve(n),Dr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&rn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=W.current,Di(n)){if(e=n.stateNode,l=n.memoizedProps,s=null,d=nt,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[tt]=n,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||qp(e.nodeValue,l)),e||xn(n,!0)}else e=ya(e).createTextNode(s),e[tt]=n,n.stateNode=e}return Ve(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(s=Di(n),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[tt]=n}else ii(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ve(n),e=!1}else l=Bs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(At(n),n):(At(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Ve(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Di(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[tt]=n}else ii(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ve(n),d=!1}else d=Bs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(At(n),n):(At(n),null)}return At(n),(n.flags&128)!==0?(n.lanes=l,n):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),na(n,n.updateQueue),Ve(n),null);case 4:return He(),e===null&&eu(n.stateNode.containerInfo),Ve(n),null;case 10:return on(n.type),Ve(n),null;case 19:if(F(Oe),s=n.memoizedState,s===null)return Ve(n),null;if(d=(n.flags&128)!==0,m=s.rendering,m===null)if(d)zo(s,!1);else{if(Be!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=Ol(e),m!==null){for(n.flags|=128,zo(s,!1),e=m.updateQueue,n.updateQueue=e,na(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)vf(l,e),l=l.sibling;return j(Oe,Oe.current&1|2),Ae&&tn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&vt()>sa&&(n.flags|=128,d=!0,zo(s,!1),n.lanes=4194304)}else{if(!d)if(e=Ol(m),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,na(n,e),zo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!Ae)return Ve(n),null}else 2*vt()-s.renderingStartTime>sa&&l!==536870912&&(n.flags|=128,d=!0,zo(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vt(),e.sibling=null,l=Oe.current,j(Oe,d?l&1|2:l&1),Ae&&tn(n,s.treeForkCount),e):(Ve(n),null);case 22:case 23:return At(n),tr(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(l&536870912)!==0&&(n.flags&128)===0&&(Ve(n),n.subtreeFlags&6&&(n.flags|=8192)):Ve(n),l=n.updateQueue,l!==null&&na(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(n.flags|=2048),e!==null&&F(ai),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),on(Je),Ve(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function K0(e,n){switch(qs(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return on(Je),He(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Kn(n),null;case 31:if(n.memoizedState!==null){if(At(n),n.alternate===null)throw Error(a(340));ii()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(At(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ii()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return F(Oe),null;case 4:return He(),null;case 10:return on(n.type),null;case 22:case 23:return At(n),tr(),e!==null&&F(ai),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return on(Je),null;case 25:return null;default:return null}}function Yd(e,n){switch(qs(n),n.tag){case 3:on(Je),He();break;case 26:case 27:case 5:Kn(n);break;case 4:He();break;case 31:n.memoizedState!==null&&At(n);break;case 13:At(n);break;case 19:F(Oe);break;case 10:on(n.type);break;case 22:case 23:At(n),tr(),e!==null&&F(ai);break;case 24:on(Je)}}function qo(e,n){try{var l=n.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var d=s.next;l=d;do{if((l.tag&e)===e){s=void 0;var m=l.create,T=l.inst;s=m(),T.destroy=s}l=l.next}while(l!==d)}}catch(C){Ie(n,n.return,C)}}function Dn(e,n,l){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var m=d.next;s=m;do{if((s.tag&e)===e){var T=s.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,d=n;var x=l,L=C;try{L()}catch(q){Ie(d,x,q)}}}s=s.next}while(s!==m)}}catch(q){Ie(n,n.return,q)}}function Jd(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{kf(n,l)}catch(s){Ie(e,e.return,s)}}}function Kd(e,n,l){l.props=fi(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){Ie(e,n,s)}}function Po(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(d){Ie(e,n,d)}}function Qt(e,n){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(d){Ie(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Ie(e,n,d)}else l.current=null}function Xd(e){var n=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(d){Ie(e,e.return,d)}}function Ur(e,n,l){try{var s=e.stateNode;hv(s,e.type,l,n),s[ft]=n}catch(d){Ie(e,e.return,d)}}function Qd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zn(e.type)||e.tag===4}function Lr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gr(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Wt));else if(s!==4&&(s===27&&zn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Gr(e,n,l),e=e.sibling;e!==null;)Gr(e,n,l),e=e.sibling}function ia(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(s!==4&&(s===27&&zn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(ia(e,n,l),e=e.sibling;e!==null;)ia(e,n,l),e=e.sibling}function Zd(e){var n=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);lt(n,s,l),n[tt]=e,n[ft]=l}catch(m){Ie(e,e.return,m)}}var un=!1,Qe=!1,kr=!1,$d=typeof WeakSet=="function"?WeakSet:Set,We=null;function X0(e,n){if(e=e.containerInfo,iu=Aa,e=uf(e),bs(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var d=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var T=0,C=-1,x=-1,L=0,q=0,O=e,G=null;t:for(;;){for(var V;O!==l||d!==0&&O.nodeType!==3||(C=T+d),O!==m||s!==0&&O.nodeType!==3||(x=T+s),O.nodeType===3&&(T+=O.nodeValue.length),(V=O.firstChild)!==null;)G=O,O=V;for(;;){if(O===e)break t;if(G===l&&++L===d&&(C=T),G===m&&++q===s&&(x=T),(V=O.nextSibling)!==null)break;O=G,G=O.parentNode}O=V}l=C===-1||x===-1?null:{start:C,end:x}}else l=null}l=l||{start:0,end:0}}else l=null;for(ou={focusedElem:e,selectionRange:l},Aa=!1,We=n;We!==null;)if(n=We,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,We=e;else for(;We!==null;){switch(n=We,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)d=e[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=n,d=m.memoizedProps,m=m.memoizedState,s=l.stateNode;try{var oe=fi(l.type,d);e=s.getSnapshotBeforeUpdate(oe,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(ce){Ie(l,l.return,ce)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)su(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":su(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,We=e;break}We=n.return}}function Wd(e,n,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:fn(e,l),s&4&&qo(5,l);break;case 1:if(fn(e,l),s&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(T){Ie(l,l.return,T)}else{var d=fi(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Ie(l,l.return,T)}}s&64&&Jd(l),s&512&&Po(l,l.return);break;case 3:if(fn(e,l),s&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{kf(e,n)}catch(T){Ie(l,l.return,T)}}break;case 27:n===null&&s&4&&Zd(l);case 26:case 5:fn(e,l),n===null&&s&4&&Xd(l),s&512&&Po(l,l.return);break;case 12:fn(e,l);break;case 31:fn(e,l),s&4&&tp(e,l);break;case 13:fn(e,l),s&4&&np(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=iv.bind(null,l),Cv(e,l))));break;case 22:if(s=l.memoizedState!==null||un,!s){n=n!==null&&n.memoizedState!==null||Qe,d=un;var m=Qe;un=s,(Qe=n)&&!m?dn(e,l,(l.subtreeFlags&8772)!==0):fn(e,l),un=d,Qe=m}break;case 30:break;default:fn(e,l)}}function jd(e){var n=e.alternate;n!==null&&(e.alternate=null,jd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ds(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,pt=!1;function cn(e,n,l){for(l=l.child;l!==null;)ep(e,n,l),l=l.sibling}function ep(e,n,l){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(co,l)}catch{}switch(l.tag){case 26:Qe||Qt(l,n),cn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Qe||Qt(l,n);var s=ze,d=pt;zn(l.type)&&(ze=l.stateNode,pt=!1),cn(e,n,l),Zo(l.stateNode),ze=s,pt=d;break;case 5:Qe||Qt(l,n);case 6:if(s=ze,d=pt,ze=null,cn(e,n,l),ze=s,pt=d,ze!==null)if(pt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(l.stateNode)}catch(m){Ie(l,n,m)}else try{ze.removeChild(l.stateNode)}catch(m){Ie(l,n,m)}break;case 18:ze!==null&&(pt?(e=ze,Jp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),ji(e)):Jp(ze,l.stateNode));break;case 4:s=ze,d=pt,ze=l.stateNode.containerInfo,pt=!0,cn(e,n,l),ze=s,pt=d;break;case 0:case 11:case 14:case 15:Dn(2,l,n),Qe||Dn(4,l,n),cn(e,n,l);break;case 1:Qe||(Qt(l,n),s=l.stateNode,typeof s.componentWillUnmount=="function"&&Kd(l,n,s)),cn(e,n,l);break;case 21:cn(e,n,l);break;case 22:Qe=(s=Qe)||l.memoizedState!==null,cn(e,n,l),Qe=s;break;default:cn(e,n,l)}}function tp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ji(e)}catch(l){Ie(n,n.return,l)}}}function np(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ji(e)}catch(l){Ie(n,n.return,l)}}function Q0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new $d),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new $d),n;default:throw Error(a(435,e.tag))}}function oa(e,n){var l=Q0(e);n.forEach(function(s){if(!l.has(s)){l.add(s);var d=ov.bind(null,e,s);s.then(d,d)}})}function mt(e,n){var l=n.deletions;if(l!==null)for(var s=0;s<l.length;s++){var d=l[s],m=e,T=n,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(zn(C.type)){ze=C.stateNode,pt=!1;break e}break;case 5:ze=C.stateNode,pt=!1;break e;case 3:case 4:ze=C.stateNode.containerInfo,pt=!0;break e}C=C.return}if(ze===null)throw Error(a(160));ep(m,T,d),ze=null,pt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ip(n,e),n=n.sibling}var Bt=null;function ip(e,n){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mt(n,e),ht(e),s&4&&(Dn(3,e,e.return),qo(3,e),Dn(5,e,e.return));break;case 1:mt(n,e),ht(e),s&512&&(Qe||l===null||Qt(l,l.return)),s&64&&un&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var d=Bt;if(mt(n,e),ht(e),s&512&&(Qe||l===null||Qt(l,l.return)),s&4){var m=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":m=d.getElementsByTagName("title")[0],(!m||m[mo]||m[tt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(s),d.head.insertBefore(m,d.querySelector("head > title"))),lt(m,s,l),m[tt]=e,$e(m),s=m;break e;case"link":var T=im("link","href",d).get(s+(l.href||""));if(T){for(var C=0;C<T.length;C++)if(m=T[C],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(C,1);break t}}m=d.createElement(s),lt(m,s,l),d.head.appendChild(m);break;case"meta":if(T=im("meta","content",d).get(s+(l.content||""))){for(C=0;C<T.length;C++)if(m=T[C],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(C,1);break t}}m=d.createElement(s),lt(m,s,l),d.head.appendChild(m);break;default:throw Error(a(468,s))}m[tt]=e,$e(m),s=m}e.stateNode=s}else om(d,e.type,e.stateNode);else e.stateNode=nm(d,s,e.memoizedProps);else m!==s?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,s===null?om(d,e.type,e.stateNode):nm(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Ur(e,e.memoizedProps,l.memoizedProps)}break;case 27:mt(n,e),ht(e),s&512&&(Qe||l===null||Qt(l,l.return)),l!==null&&s&4&&Ur(e,e.memoizedProps,l.memoizedProps);break;case 5:if(mt(n,e),ht(e),s&512&&(Qe||l===null||Qt(l,l.return)),e.flags&32){d=e.stateNode;try{_i(d,"")}catch(oe){Ie(e,e.return,oe)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Ur(e,d,l!==null?l.memoizedProps:d)),s&1024&&(kr=!0);break;case 6:if(mt(n,e),ht(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(oe){Ie(e,e.return,oe)}}break;case 3:if(Sa=null,d=Bt,Bt=va(n.containerInfo),mt(n,e),Bt=d,ht(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{ji(n.containerInfo)}catch(oe){Ie(e,e.return,oe)}kr&&(kr=!1,op(e));break;case 4:s=Bt,Bt=va(e.stateNode.containerInfo),mt(n,e),ht(e),Bt=s;break;case 12:mt(n,e),ht(e);break;case 31:mt(n,e),ht(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,oa(e,s)));break;case 13:mt(n,e),ht(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(aa=vt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,oa(e,s)));break;case 22:d=e.memoizedState!==null;var x=l!==null&&l.memoizedState!==null,L=un,q=Qe;if(un=L||d,Qe=q||x,mt(n,e),Qe=q,un=L,ht(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(l===null||x||un||Qe||di(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){x=l=n;try{if(m=x.stateNode,d)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=x.stateNode;var O=x.memoizedProps.style,G=O!=null&&O.hasOwnProperty("display")?O.display:null;C.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(oe){Ie(x,x.return,oe)}}}else if(n.tag===6){if(l===null){x=n;try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(oe){Ie(x,x.return,oe)}}}else if(n.tag===18){if(l===null){x=n;try{var V=x.stateNode;d?Kp(V,!0):Kp(x.stateNode,!1)}catch(oe){Ie(x,x.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,oa(e,l))));break;case 19:mt(n,e),ht(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,oa(e,s)));break;case 30:break;case 21:break;default:mt(n,e),ht(e)}}function ht(e){var n=e.flags;if(n&2){try{for(var l,s=e.return;s!==null;){if(Qd(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var d=l.stateNode,m=Lr(e);ia(e,m,d);break;case 5:var T=l.stateNode;l.flags&32&&(_i(T,""),l.flags&=-33);var C=Lr(e);ia(e,C,T);break;case 3:case 4:var x=l.stateNode.containerInfo,L=Lr(e);Gr(e,L,x);break;default:throw Error(a(161))}}catch(q){Ie(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function op(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;op(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function fn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Wd(e,n.alternate,n),n=n.sibling}function di(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Dn(4,n,n.return),di(n);break;case 1:Qt(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Kd(n,n.return,l),di(n);break;case 27:Zo(n.stateNode);case 26:case 5:Qt(n,n.return),di(n);break;case 22:n.memoizedState===null&&di(n);break;case 30:di(n);break;default:di(n)}e=e.sibling}}function dn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:dn(d,m,l),qo(4,m);break;case 1:if(dn(d,m,l),s=m,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(L){Ie(s,s.return,L)}if(s=m,d=s.updateQueue,d!==null){var C=s.stateNode;try{var x=d.shared.hiddenCallbacks;if(x!==null)for(d.shared.hiddenCallbacks=null,d=0;d<x.length;d++)Gf(x[d],C)}catch(L){Ie(s,s.return,L)}}l&&T&64&&Jd(m),Po(m,m.return);break;case 27:Zd(m);case 26:case 5:dn(d,m,l),l&&s===null&&T&4&&Xd(m),Po(m,m.return);break;case 12:dn(d,m,l);break;case 31:dn(d,m,l),l&&T&4&&tp(d,m);break;case 13:dn(d,m,l),l&&T&4&&np(d,m);break;case 22:m.memoizedState===null&&dn(d,m,l),Po(m,m.return);break;case 30:break;default:dn(d,m,l)}n=n.sibling}}function Vr(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Ro(l))}function Hr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ro(e))}function Ot(e,n,l,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)lp(e,n,l,s),n=n.sibling}function lp(e,n,l,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Ot(e,n,l,s),d&2048&&qo(9,n);break;case 1:Ot(e,n,l,s);break;case 3:Ot(e,n,l,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ro(e)));break;case 12:if(d&2048){Ot(e,n,l,s),e=n.stateNode;try{var m=n.memoizedProps,T=m.id,C=m.onPostCommit;typeof C=="function"&&C(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Ie(n,n.return,x)}}else Ot(e,n,l,s);break;case 31:Ot(e,n,l,s);break;case 13:Ot(e,n,l,s);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?Ot(e,n,l,s):Bo(e,n):m._visibility&2?Ot(e,n,l,s):(m._visibility|=2,Bi(e,n,l,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Vr(T,n);break;case 24:Ot(e,n,l,s),d&2048&&Hr(n.alternate,n);break;default:Ot(e,n,l,s)}}function Bi(e,n,l,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,T=n,C=l,x=s,L=T.flags;switch(T.tag){case 0:case 11:case 15:Bi(m,T,C,x,d),qo(8,T);break;case 23:break;case 22:var q=T.stateNode;T.memoizedState!==null?q._visibility&2?Bi(m,T,C,x,d):Bo(m,T):(q._visibility|=2,Bi(m,T,C,x,d)),d&&L&2048&&Vr(T.alternate,T);break;case 24:Bi(m,T,C,x,d),d&&L&2048&&Hr(T.alternate,T);break;default:Bi(m,T,C,x,d)}n=n.sibling}}function Bo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,s=n,d=s.flags;switch(s.tag){case 22:Bo(l,s),d&2048&&Vr(s.alternate,s);break;case 24:Bo(l,s),d&2048&&Hr(s.alternate,s);break;default:Bo(l,s)}n=n.sibling}}var Oo=8192;function Oi(e,n,l){if(e.subtreeFlags&Oo)for(e=e.child;e!==null;)ap(e,n,l),e=e.sibling}function ap(e,n,l){switch(e.tag){case 26:Oi(e,n,l),e.flags&Oo&&e.memoizedState!==null&&Gv(l,Bt,e.memoizedState,e.memoizedProps);break;case 5:Oi(e,n,l);break;case 3:case 4:var s=Bt;Bt=va(e.stateNode.containerInfo),Oi(e,n,l),Bt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Oo,Oo=16777216,Oi(e,n,l),Oo=s):Oi(e,n,l));break;default:Oi(e,n,l)}}function sp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Fo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];We=s,up(s,e)}sp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rp(e),e=e.sibling}function rp(e){switch(e.tag){case 0:case 11:case 15:Fo(e),e.flags&2048&&Dn(9,e,e.return);break;case 3:Fo(e);break;case 12:Fo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,la(e)):Fo(e);break;default:Fo(e)}}function la(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];We=s,up(s,e)}sp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Dn(8,n,n.return),la(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,la(n));break;default:la(n)}e=e.sibling}}function up(e,n){for(;We!==null;){var l=We;switch(l.tag){case 0:case 11:case 15:Dn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ro(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,We=s;else e:for(l=e;We!==null;){s=We;var d=s.sibling,m=s.return;if(jd(s),s===l){We=null;break e}if(d!==null){d.return=m,We=d;break e}We=m}}}var Z0={getCacheForType:function(e){var n=it(Je),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return it(Je).controller.signal}},$0=typeof WeakMap=="function"?WeakMap:Map,be=0,Ge=null,Se=null,_e=0,we=0,xt=null,Un=!1,Fi=!1,zr=!1,pn=0,Be=0,Ln=0,pi=0,qr=0,Nt=0,Yi=0,Yo=null,gt=null,Pr=!1,aa=0,cp=0,sa=1/0,ra=null,Gn=null,Ze=0,kn=null,Ji=null,mn=0,Br=0,Or=null,fp=null,Jo=0,Fr=null;function Rt(){return(be&2)!==0&&_e!==0?_e&-_e:b.T!==null?Zr():Nc()}function dp(){if(Nt===0)if((_e&536870912)===0||Ae){var e=gl;gl<<=1,(gl&3932160)===0&&(gl=262144),Nt=e}else Nt=536870912;return e=Ct.current,e!==null&&(e.flags|=32),Nt}function yt(e,n,l){(e===Ge&&(we===2||we===9)||e.cancelPendingCommit!==null)&&(Ki(e,0),Vn(e,_e,Nt,!1)),po(e,l),((be&2)===0||e!==Ge)&&(e===Ge&&((be&2)===0&&(pi|=l),Be===4&&Vn(e,_e,Nt,!1)),Zt(e))}function pp(e,n,l){if((be&6)!==0)throw Error(a(327));var s=!l&&(n&127)===0&&(n&e.expiredLanes)===0||fo(e,n),d=s?ev(e,n):Jr(e,n,!0),m=s;do{if(d===0){Fi&&!s&&Vn(e,n,0,!1);break}else{if(l=e.current.alternate,m&&!W0(l)){d=Jr(e,n,!1),m=!1;continue}if(d===2){if(m=n,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var C=e;d=Yo;var x=C.current.memoizedState.isDehydrated;if(x&&(Ki(C,T).flags|=256),T=Jr(C,T,!1),T!==2){if(zr&&!x){C.errorRecoveryDisabledLanes|=m,pi|=m,d=4;break e}m=gt,gt=d,m!==null&&(gt===null?gt=m:gt.push.apply(gt,m))}d=T}if(m=!1,d!==2)continue}}if(d===1){Ki(e,0),Vn(e,n,0,!0);break}e:{switch(s=e,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Vn(s,n,Nt,!Un);break e;case 2:gt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=aa+300-vt(),10<d)){if(Vn(s,n,Nt,!Un),vl(s,0,!0)!==0)break e;mn=n,s.timeoutHandle=Fp(mp.bind(null,s,l,gt,ra,Pr,n,Nt,pi,Yi,Un,m,"Throttled",-0,0),d);break e}mp(s,l,gt,ra,Pr,n,Nt,pi,Yi,Un,m,null,-0,0)}}break}while(!0);Zt(e)}function mp(e,n,l,s,d,m,T,C,x,L,q,O,G,V){if(e.timeoutHandle=-1,O=n.subtreeFlags,O&8192||(O&16785408)===16785408){O={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wt},ap(n,m,O);var oe=(m&62914560)===m?aa-vt():(m&4194048)===m?cp-vt():0;if(oe=kv(O,oe),oe!==null){mn=m,e.cancelPendingCommit=oe(_p.bind(null,e,n,m,l,s,d,T,C,x,q,O,null,G,V)),Vn(e,m,T,!L);return}}_p(e,n,m,l,s,d,T,C,x)}function W0(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var d=l[s],m=d.getSnapshot;d=d.value;try{if(!Et(m(),d))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vn(e,n,l,s){n&=~qr,n&=~pi,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var m=31-St(d),T=1<<m;s[m]=-1,d&=~T}l!==0&&Cc(e,l,n)}function ua(){return(be&6)===0?(Ko(0),!1):!0}function Yr(){if(Se!==null){if(we===0)var e=Se.return;else e=Se,nn=oi=null,sr(e),Vi=null,bo=0,e=Se;for(;e!==null;)Yd(e.alternate,e),e=e.return;Se=null}}function Ki(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,vv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),mn=0,Yr(),Ge=e,Se=l=en(e.current,null),_e=n,we=0,xt=null,Un=!1,Fi=fo(e,n),zr=!1,Yi=Nt=qr=pi=Ln=Be=0,gt=Yo=null,Pr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-St(s),m=1<<d;n|=e[d],s&=~m}return pn=n,wl(),l}function hp(e,n){ge=null,b.H=Vo,n===ki||n===Hl?(n=If(),we=3):n===Qs?(n=If(),we=4):we=n===Cr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xt=n,Se===null&&(Be=1,Wl(e,Dt(n,e.current)))}function gp(){var e=Ct.current;return e===null?!0:(_e&4194048)===_e?kt===null:(_e&62914560)===_e||(_e&536870912)!==0?e===kt:!1}function yp(){var e=b.H;return b.H=Vo,e===null?Vo:e}function vp(){var e=b.A;return b.A=Z0,e}function ca(){Be=4,Un||(_e&4194048)!==_e&&Ct.current!==null||(Fi=!0),(Ln&134217727)===0&&(pi&134217727)===0||Ge===null||Vn(Ge,_e,Nt,!1)}function Jr(e,n,l){var s=be;be|=2;var d=yp(),m=vp();(Ge!==e||_e!==n)&&(ra=null,Ki(e,n)),n=!1;var T=Be;e:do try{if(we!==0&&Se!==null){var C=Se,x=xt;switch(we){case 8:Yr(),T=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(n=!0);var L=we;if(we=0,xt=null,Xi(e,C,x,L),l&&Fi){T=0;break e}break;default:L=we,we=0,xt=null,Xi(e,C,x,L)}}j0(),T=Be;break}catch(q){hp(e,q)}while(!0);return n&&e.shellSuspendCounter++,nn=oi=null,be=s,b.H=d,b.A=m,Se===null&&(Ge=null,_e=0,wl()),T}function j0(){for(;Se!==null;)Tp(Se)}function ev(e,n){var l=be;be|=2;var s=yp(),d=vp();Ge!==e||_e!==n?(ra=null,sa=vt()+500,Ki(e,n)):Fi=fo(e,n);e:do try{if(we!==0&&Se!==null){n=Se;var m=xt;t:switch(we){case 1:we=0,xt=null,Xi(e,n,m,1);break;case 2:case 9:if(bf(m)){we=0,xt=null,Sp(n);break}n=function(){we!==2&&we!==9||Ge!==e||(we=7),Zt(e)},m.then(n,n);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:bf(m)?(we=0,xt=null,Sp(n)):(we=0,xt=null,Xi(e,n,m,7));break;case 5:var T=null;switch(Se.tag){case 26:T=Se.memoizedState;case 5:case 27:var C=Se;if(T?lm(T):C.stateNode.complete){we=0,xt=null;var x=C.sibling;if(x!==null)Se=x;else{var L=C.return;L!==null?(Se=L,fa(L)):Se=null}break t}}we=0,xt=null,Xi(e,n,m,5);break;case 6:we=0,xt=null,Xi(e,n,m,6);break;case 8:Yr(),Be=6;break e;default:throw Error(a(462))}}tv();break}catch(q){hp(e,q)}while(!0);return nn=oi=null,b.H=s,b.A=d,be=l,Se!==null?0:(Ge=null,_e=0,wl(),Be)}function tv(){for(;Se!==null&&!Ay();)Tp(Se)}function Tp(e){var n=Od(e.alternate,e,pn);e.memoizedProps=e.pendingProps,n===null?fa(e):Se=n}function Sp(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=Vd(l,n,n.pendingProps,n.type,void 0,_e);break;case 11:n=Vd(l,n,n.pendingProps,n.type.render,n.ref,_e);break;case 5:sr(n);default:Yd(l,n),n=Se=vf(n,pn),n=Od(l,n,pn)}e.memoizedProps=e.pendingProps,n===null?fa(e):Se=n}function Xi(e,n,l,s){nn=oi=null,sr(n),Vi=null,bo=0;var d=n.return;try{if(O0(e,d,n,l,_e)){Be=1,Wl(e,Dt(l,e.current)),Se=null;return}}catch(m){if(d!==null)throw Se=d,m;Be=1,Wl(e,Dt(l,e.current)),Se=null;return}n.flags&32768?(Ae||s===1?e=!0:Fi||(_e&536870912)!==0?e=!1:(Un=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ct.current,s!==null&&s.tag===13&&(s.flags|=16384))),Ep(n,e)):fa(n)}function fa(e){var n=e;do{if((n.flags&32768)!==0){Ep(n,Un);return}e=n.return;var l=J0(n.alternate,n,pn);if(l!==null){Se=l;return}if(n=n.sibling,n!==null){Se=n;return}Se=n=e}while(n!==null);Be===0&&(Be=5)}function Ep(e,n){do{var l=K0(e.alternate,e);if(l!==null){l.flags&=32767,Se=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){Se=e;return}Se=e=l}while(e!==null);Be=6,Se=null}function _p(e,n,l,s,d,m,T,C,x){e.cancelPendingCommit=null;do da();while(Ze!==0);if((be&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=Ls,Ly(e,l,m,T,C,x),e===Ge&&(Se=Ge=null,_e=0),Ji=n,kn=e,mn=l,Br=m,Or=d,fp=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,lv(ml,function(){return Rp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=b.T,b.T=null,d=K.p,K.p=2,T=be,be|=4;try{X0(e,n,l)}finally{be=T,K.p=d,b.T=s}}Ze=1,Cp(),Ap(),xp()}}function Cp(){if(Ze===1){Ze=0;var e=kn,n=Ji,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=b.T,b.T=null;var s=K.p;K.p=2;var d=be;be|=4;try{ip(n,e);var m=ou,T=uf(e.containerInfo),C=m.focusedElem,x=m.selectionRange;if(T!==C&&C&&C.ownerDocument&&rf(C.ownerDocument.documentElement,C)){if(x!==null&&bs(C)){var L=x.start,q=x.end;if(q===void 0&&(q=L),"selectionStart"in C)C.selectionStart=L,C.selectionEnd=Math.min(q,C.value.length);else{var O=C.ownerDocument||document,G=O&&O.defaultView||window;if(G.getSelection){var V=G.getSelection(),oe=C.textContent.length,ce=Math.min(x.start,oe),Le=x.end===void 0?ce:Math.min(x.end,oe);!V.extend&&ce>Le&&(T=Le,Le=ce,ce=T);var w=sf(C,ce),R=sf(C,Le);if(w&&R&&(V.rangeCount!==1||V.anchorNode!==w.node||V.anchorOffset!==w.offset||V.focusNode!==R.node||V.focusOffset!==R.offset)){var U=O.createRange();U.setStart(w.node,w.offset),V.removeAllRanges(),ce>Le?(V.addRange(U),V.extend(R.node,R.offset)):(U.setEnd(R.node,R.offset),V.addRange(U))}}}}for(O=[],V=C;V=V.parentNode;)V.nodeType===1&&O.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<O.length;C++){var B=O[C];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Aa=!!iu,ou=iu=null}finally{be=d,K.p=s,b.T=l}}e.current=n,Ze=2}}function Ap(){if(Ze===2){Ze=0;var e=kn,n=Ji,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=b.T,b.T=null;var s=K.p;K.p=2;var d=be;be|=4;try{Wd(e,n.alternate,n)}finally{be=d,K.p=s,b.T=l}}Ze=3}}function xp(){if(Ze===4||Ze===3){Ze=0,xy();var e=kn,n=Ji,l=mn,s=fp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ze=5:(Ze=0,Ji=kn=null,Np(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Gn=null),cs(l),n=n.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(co,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=b.T,d=K.p,K.p=2,b.T=null;try{for(var m=e.onRecoverableError,T=0;T<s.length;T++){var C=s[T];m(C.value,{componentStack:C.stack})}}finally{b.T=n,K.p=d}}(mn&3)!==0&&da(),Zt(e),d=e.pendingLanes,(l&261930)!==0&&(d&42)!==0?e===Fr?Jo++:(Jo=0,Fr=e):Jo=0,Ko(0)}}function Np(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ro(n)))}function da(){return Cp(),Ap(),xp(),Rp()}function Rp(){if(Ze!==5)return!1;var e=kn,n=Br;Br=0;var l=cs(mn),s=b.T,d=K.p;try{K.p=32>l?32:l,b.T=null,l=Or,Or=null;var m=kn,T=mn;if(Ze=0,Ji=kn=null,mn=0,(be&6)!==0)throw Error(a(331));var C=be;if(be|=4,rp(m.current),lp(m,m.current,T,l),be=C,Ko(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(co,m)}catch{}return!0}finally{K.p=d,b.T=s,Np(e,n)}}function Mp(e,n,l){n=Dt(l,n),n=_r(e.stateNode,n,2),e=bn(e,n,2),e!==null&&(po(e,2),Zt(e))}function Ie(e,n,l){if(e.tag===3)Mp(e,e,l);else for(;n!==null;){if(n.tag===3){Mp(n,e,l);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Gn===null||!Gn.has(s))){e=Dt(l,e),l=bd(2),s=bn(n,l,2),s!==null&&(wd(l,s,n,e),po(s,2),Zt(s));break}}n=n.return}}function Kr(e,n,l){var s=e.pingCache;if(s===null){s=e.pingCache=new $0;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(l)||(zr=!0,d.add(l),e=nv.bind(null,e,n,l),n.then(e,e))}function nv(e,n,l){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ge===e&&(_e&l)===l&&(Be===4||Be===3&&(_e&62914560)===_e&&300>vt()-aa?(be&2)===0&&Ki(e,0):qr|=l,Yi===_e&&(Yi=0)),Zt(e)}function bp(e,n){n===0&&(n=_c()),e=ti(e,n),e!==null&&(po(e,n),Zt(e))}function iv(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),bp(e,l)}function ov(e,n){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),bp(e,l)}function lv(e,n){return as(e,n)}var pa=null,Qi=null,Xr=!1,ma=!1,Qr=!1,Hn=0;function Zt(e){e!==Qi&&e.next===null&&(Qi===null?pa=Qi=e:Qi=Qi.next=e),ma=!0,Xr||(Xr=!0,sv())}function Ko(e,n){if(!Qr&&ma){Qr=!0;do for(var l=!1,s=pa;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var m=0;else{var T=s.suspendedLanes,C=s.pingedLanes;m=(1<<31-St(42|e)+1)-1,m&=d&~(T&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,Up(s,m))}else m=_e,m=vl(s,s===Ge?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||fo(s,m)||(l=!0,Up(s,m));s=s.next}while(l);Qr=!1}}function av(){wp()}function wp(){ma=Xr=!1;var e=0;Hn!==0&&yv()&&(e=Hn);for(var n=vt(),l=null,s=pa;s!==null;){var d=s.next,m=Ip(s,n);m===0?(s.next=null,l===null?pa=d:l.next=d,d===null&&(Qi=l)):(l=s,(e!==0||(m&3)!==0)&&(ma=!0)),s=d}Ze!==0&&Ze!==5||Ko(e),Hn!==0&&(Hn=0)}function Ip(e,n){for(var l=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-St(m),C=1<<T,x=d[T];x===-1?((C&l)===0||(C&s)!==0)&&(d[T]=Uy(C,n)):x<=n&&(e.expiredLanes|=C),m&=~C}if(n=Ge,l=_e,l=vl(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===n&&(we===2||we===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ss(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||fo(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(s!==null&&ss(s),cs(l)){case 2:case 8:l=Sc;break;case 32:l=ml;break;case 268435456:l=Ec;break;default:l=ml}return s=Dp.bind(null,e),l=as(l,s),e.callbackPriority=n,e.callbackNode=l,n}return s!==null&&s!==null&&ss(s),e.callbackPriority=2,e.callbackNode=null,2}function Dp(e,n){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(da()&&e.callbackNode!==l)return null;var s=_e;return s=vl(e,e===Ge?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(pp(e,s,n),Ip(e,vt()),e.callbackNode!=null&&e.callbackNode===l?Dp.bind(null,e):null)}function Up(e,n){if(da())return null;pp(e,n,!0)}function sv(){Tv(function(){(be&6)!==0?as(Tc,av):wp()})}function Zr(){if(Hn===0){var e=Li;e===0&&(e=hl,hl<<=1,(hl&261888)===0&&(hl=256)),Hn=e}return Hn}function Lp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_l(""+e)}function Gp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function rv(e,n,l,s,d){if(n==="submit"&&l&&l.stateNode===d){var m=Lp((d[ft]||null).action),T=s.submitter;T&&(n=(n=T[ft]||null)?Lp(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var C=new Nl("action","action",null,s,d);e.push({event:C,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Hn!==0){var x=T?Gp(d,T):new FormData(d);gr(l,{pending:!0,data:x,method:d.method,action:m},null,x)}}else typeof m=="function"&&(C.preventDefault(),x=T?Gp(d,T):new FormData(d),gr(l,{pending:!0,data:x,method:d.method,action:m},m,x))},currentTarget:d}]})}}for(var $r=0;$r<Us.length;$r++){var Wr=Us[$r],uv=Wr.toLowerCase(),cv=Wr[0].toUpperCase()+Wr.slice(1);Pt(uv,"on"+cv)}Pt(df,"onAnimationEnd"),Pt(pf,"onAnimationIteration"),Pt(mf,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(N0,"onTransitionRun"),Pt(R0,"onTransitionStart"),Pt(M0,"onTransitionCancel"),Pt(hf,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xo));function kp(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],d=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var T=s.length-1;0<=T;T--){var C=s[T],x=C.instance,L=C.currentTarget;if(C=C.listener,x!==m&&d.isPropagationStopped())break e;m=C,d.currentTarget=L;try{m(d)}catch(q){bl(q)}d.currentTarget=null,m=x}else for(T=0;T<s.length;T++){if(C=s[T],x=C.instance,L=C.currentTarget,C=C.listener,x!==m&&d.isPropagationStopped())break e;m=C,d.currentTarget=L;try{m(d)}catch(q){bl(q)}d.currentTarget=null,m=x}}}}function Ee(e,n){var l=n[fs];l===void 0&&(l=n[fs]=new Set);var s=e+"__bubble";l.has(s)||(Vp(n,e,2,!1),l.add(s))}function jr(e,n,l){var s=0;n&&(s|=4),Vp(l,e,s,n)}var ha="_reactListening"+Math.random().toString(36).slice(2);function eu(e){if(!e[ha]){e[ha]=!0,bc.forEach(function(l){l!=="selectionchange"&&(fv.has(l)||jr(l,!1,e),jr(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ha]||(n[ha]=!0,jr("selectionchange",!1,n))}}function Vp(e,n,l,s){switch(dm(n)){case 2:var d=zv;break;case 8:d=qv;break;default:d=hu}l=d.bind(null,n,l,e),d=void 0,!Ss||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,l,{capture:!0,passive:d}):e.addEventListener(n,l,!0):d!==void 0?e.addEventListener(n,l,{passive:d}):e.addEventListener(n,l,!1)}function tu(e,n,l,s,d){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var C=s.stateNode.containerInfo;if(C===d)break;if(T===4)for(T=s.return;T!==null;){var x=T.tag;if((x===3||x===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;C!==null;){if(T=yi(C),T===null)return;if(x=T.tag,x===5||x===6||x===26||x===27){s=m=T;continue e}C=C.parentNode}}s=s.return}Pc(function(){var L=m,q=vs(l),O=[];e:{var G=gf.get(e);if(G!==void 0){var V=Nl,oe=e;switch(e){case"keypress":if(Al(l)===0)break e;case"keydown":case"keyup":V=o0;break;case"focusin":oe="focus",V=As;break;case"focusout":oe="blur",V=As;break;case"beforeblur":case"afterblur":V=As;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Jy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=s0;break;case df:case pf:case mf:V=Qy;break;case hf:V=u0;break;case"scroll":case"scrollend":V=Fy;break;case"wheel":V=f0;break;case"copy":case"cut":case"paste":V=$y;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Jc;break;case"toggle":case"beforetoggle":V=p0}var ce=(n&4)!==0,Le=!ce&&(e==="scroll"||e==="scrollend"),w=ce?G!==null?G+"Capture":null:G;ce=[];for(var R=L,U;R!==null;){var B=R;if(U=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||U===null||w===null||(B=go(R,w),B!=null&&ce.push(Qo(R,B,U))),Le)break;R=R.return}0<ce.length&&(G=new V(G,oe,null,l,q),O.push({event:G,listeners:ce}))}}if((n&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",G&&l!==ys&&(oe=l.relatedTarget||l.fromElement)&&(yi(oe)||oe[gi]))break e;if((V||G)&&(G=q.window===q?q:(G=q.ownerDocument)?G.defaultView||G.parentWindow:window,V?(oe=l.relatedTarget||l.toElement,V=L,oe=oe?yi(oe):null,oe!==null&&(Le=c(oe),ce=oe.tag,oe!==Le||ce!==5&&ce!==27&&ce!==6)&&(oe=null)):(V=null,oe=L),V!==oe)){if(ce=Fc,B="onMouseLeave",w="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ce=Jc,B="onPointerLeave",w="onPointerEnter",R="pointer"),Le=V==null?G:ho(V),U=oe==null?G:ho(oe),G=new ce(B,R+"leave",V,l,q),G.target=Le,G.relatedTarget=U,B=null,yi(q)===L&&(ce=new ce(w,R+"enter",oe,l,q),ce.target=U,ce.relatedTarget=Le,B=ce),Le=B,V&&oe)t:{for(ce=dv,w=V,R=oe,U=0,B=w;B;B=ce(B))U++;B=0;for(var re=R;re;re=ce(re))B++;for(;0<U-B;)w=ce(w),U--;for(;0<B-U;)R=ce(R),B--;for(;U--;){if(w===R||R!==null&&w===R.alternate){ce=w;break t}w=ce(w),R=ce(R)}ce=null}else ce=null;V!==null&&Hp(O,G,V,ce,!1),oe!==null&&Le!==null&&Hp(O,Le,oe,ce,!0)}}e:{if(G=L?ho(L):window,V=G.nodeName&&G.nodeName.toLowerCase(),V==="select"||V==="input"&&G.type==="file")var Ne=ef;else if(Wc(G))if(tf)Ne=C0;else{Ne=E0;var ae=S0}else V=G.nodeName,!V||V.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?L&&gs(L.elementType)&&(Ne=ef):Ne=_0;if(Ne&&(Ne=Ne(e,L))){jc(O,Ne,l,q);break e}ae&&ae(e,G,L),e==="focusout"&&L&&G.type==="number"&&L.memoizedProps.value!=null&&hs(G,"number",G.value)}switch(ae=L?ho(L):window,e){case"focusin":(Wc(ae)||ae.contentEditable==="true")&&(Ni=ae,ws=L,Ao=null);break;case"focusout":Ao=ws=Ni=null;break;case"mousedown":Is=!0;break;case"contextmenu":case"mouseup":case"dragend":Is=!1,cf(O,l,q);break;case"selectionchange":if(x0)break;case"keydown":case"keyup":cf(O,l,q)}var ye;if(Ns)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else xi?Zc(e,l)&&(Ce="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(Kc&&l.locale!=="ko"&&(xi||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&xi&&(ye=Bc()):(_n=q,Es="value"in _n?_n.value:_n.textContent,xi=!0)),ae=ga(L,Ce),0<ae.length&&(Ce=new Yc(Ce,e,null,l,q),O.push({event:Ce,listeners:ae}),ye?Ce.data=ye:(ye=$c(l),ye!==null&&(Ce.data=ye)))),(ye=h0?g0(e,l):y0(e,l))&&(Ce=ga(L,"onBeforeInput"),0<Ce.length&&(ae=new Yc("onBeforeInput","beforeinput",null,l,q),O.push({event:ae,listeners:Ce}),ae.data=ye)),rv(O,e,L,l,q)}kp(O,n)})}function Qo(e,n,l){return{instance:e,listener:n,currentTarget:l}}function ga(e,n){for(var l=n+"Capture",s=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=go(e,l),d!=null&&s.unshift(Qo(e,d,m)),d=go(e,n),d!=null&&s.push(Qo(e,d,m))),e.tag===3)return s;e=e.return}return[]}function dv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hp(e,n,l,s,d){for(var m=n._reactName,T=[];l!==null&&l!==s;){var C=l,x=C.alternate,L=C.stateNode;if(C=C.tag,x!==null&&x===s)break;C!==5&&C!==26&&C!==27||L===null||(x=L,d?(L=go(l,m),L!=null&&T.unshift(Qo(l,L,x))):d||(L=go(l,m),L!=null&&T.push(Qo(l,L,x)))),l=l.return}T.length!==0&&e.push({event:n,listeners:T})}var pv=/\r\n?/g,mv=/\u0000|\uFFFD/g;function zp(e){return(typeof e=="string"?e:""+e).replace(pv,`
`).replace(mv,"")}function qp(e,n){return n=zp(n),zp(e)===n}function Ue(e,n,l,s,d,m){switch(l){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||_i(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&_i(e,""+s);break;case"className":Sl(e,"class",s);break;case"tabIndex":Sl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Sl(e,l,s);break;case"style":zc(e,s,m);break;case"data":if(n!=="object"){Sl(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=_l(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(n!=="input"&&Ue(e,n,"name",d.name,d,null),Ue(e,n,"formEncType",d.formEncType,d,null),Ue(e,n,"formMethod",d.formMethod,d,null),Ue(e,n,"formTarget",d.formTarget,d,null)):(Ue(e,n,"encType",d.encType,d,null),Ue(e,n,"method",d.method,d,null),Ue(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=_l(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=Wt);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=_l(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),Tl(e,"popover",s);break;case"xlinkActuate":$t(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":$t(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":$t(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":$t(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":$t(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":$t(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":$t(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":$t(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":$t(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Tl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=By.get(l)||l,Tl(e,l,s))}}function nu(e,n,l,s,d,m){switch(l){case"style":zc(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?_i(e,s):(typeof s=="number"||typeof s=="bigint")&&_i(e,""+s);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Wt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),n=l.slice(2,d?l.length-7:void 0),m=e[ft]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(n,m,d),typeof s=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,s,d);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):Tl(e,l,s)}}}function lt(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var s=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var T=l[m];if(T!=null)switch(m){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ue(e,n,m,T,l,null)}}d&&Ue(e,n,"srcSet",l.srcSet,l,null),s&&Ue(e,n,"src",l.src,l,null);return;case"input":Ee("invalid",e);var C=m=T=d=null,x=null,L=null;for(s in l)if(l.hasOwnProperty(s)){var q=l[s];if(q!=null)switch(s){case"name":d=q;break;case"type":T=q;break;case"checked":x=q;break;case"defaultChecked":L=q;break;case"value":m=q;break;case"defaultValue":C=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Ue(e,n,s,q,l,null)}}Gc(e,m,C,x,L,T,d,!1);return;case"select":Ee("invalid",e),s=T=m=null;for(d in l)if(l.hasOwnProperty(d)&&(C=l[d],C!=null))switch(d){case"value":m=C;break;case"defaultValue":T=C;break;case"multiple":s=C;default:Ue(e,n,d,C,l,null)}n=m,l=T,e.multiple=!!s,n!=null?Ei(e,!!s,n,!1):l!=null&&Ei(e,!!s,l,!0);return;case"textarea":Ee("invalid",e),m=d=s=null;for(T in l)if(l.hasOwnProperty(T)&&(C=l[T],C!=null))switch(T){case"value":s=C;break;case"defaultValue":d=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:Ue(e,n,T,C,l,null)}Vc(e,s,d,m);return;case"option":for(x in l)if(l.hasOwnProperty(x)&&(s=l[x],s!=null))switch(x){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ue(e,n,x,s,l,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(s=0;s<Xo.length;s++)Ee(Xo[s],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in l)if(l.hasOwnProperty(L)&&(s=l[L],s!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ue(e,n,L,s,l,null)}return;default:if(gs(n)){for(q in l)l.hasOwnProperty(q)&&(s=l[q],s!==void 0&&nu(e,n,q,s,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(s=l[C],s!=null&&Ue(e,n,C,s,l,null))}function hv(e,n,l,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,T=null,C=null,x=null,L=null,q=null;for(V in l){var O=l[V];if(l.hasOwnProperty(V)&&O!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":x=O;default:s.hasOwnProperty(V)||Ue(e,n,V,null,s,O)}}for(var G in s){var V=s[G];if(O=l[G],s.hasOwnProperty(G)&&(V!=null||O!=null))switch(G){case"type":m=V;break;case"name":d=V;break;case"checked":L=V;break;case"defaultChecked":q=V;break;case"value":T=V;break;case"defaultValue":C=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,n));break;default:V!==O&&Ue(e,n,G,V,s,O)}}ms(e,T,C,x,L,q,m,d);return;case"select":V=T=C=G=null;for(m in l)if(x=l[m],l.hasOwnProperty(m)&&x!=null)switch(m){case"value":break;case"multiple":V=x;default:s.hasOwnProperty(m)||Ue(e,n,m,null,s,x)}for(d in s)if(m=s[d],x=l[d],s.hasOwnProperty(d)&&(m!=null||x!=null))switch(d){case"value":G=m;break;case"defaultValue":C=m;break;case"multiple":T=m;default:m!==x&&Ue(e,n,d,m,s,x)}n=C,l=T,s=V,G!=null?Ei(e,!!l,G,!1):!!s!=!!l&&(n!=null?Ei(e,!!l,n,!0):Ei(e,!!l,l?[]:"",!1));return;case"textarea":V=G=null;for(C in l)if(d=l[C],l.hasOwnProperty(C)&&d!=null&&!s.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ue(e,n,C,null,s,d)}for(T in s)if(d=s[T],m=l[T],s.hasOwnProperty(T)&&(d!=null||m!=null))switch(T){case"value":G=d;break;case"defaultValue":V=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&Ue(e,n,T,d,s,m)}kc(e,G,V);return;case"option":for(var oe in l)if(G=l[oe],l.hasOwnProperty(oe)&&G!=null&&!s.hasOwnProperty(oe))switch(oe){case"selected":e.selected=!1;break;default:Ue(e,n,oe,null,s,G)}for(x in s)if(G=s[x],V=l[x],s.hasOwnProperty(x)&&G!==V&&(G!=null||V!=null))switch(x){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ue(e,n,x,G,s,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in l)G=l[ce],l.hasOwnProperty(ce)&&G!=null&&!s.hasOwnProperty(ce)&&Ue(e,n,ce,null,s,G);for(L in s)if(G=s[L],V=l[L],s.hasOwnProperty(L)&&G!==V&&(G!=null||V!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Ue(e,n,L,G,s,V)}return;default:if(gs(n)){for(var Le in l)G=l[Le],l.hasOwnProperty(Le)&&G!==void 0&&!s.hasOwnProperty(Le)&&nu(e,n,Le,void 0,s,G);for(q in s)G=s[q],V=l[q],!s.hasOwnProperty(q)||G===V||G===void 0&&V===void 0||nu(e,n,q,G,s,V);return}}for(var w in l)G=l[w],l.hasOwnProperty(w)&&G!=null&&!s.hasOwnProperty(w)&&Ue(e,n,w,null,s,G);for(O in s)G=s[O],V=l[O],!s.hasOwnProperty(O)||G===V||G==null&&V==null||Ue(e,n,O,G,s,V)}function Pp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var d=l[s],m=d.transferSize,T=d.initiatorType,C=d.duration;if(m&&C&&Pp(T)){for(T=0,C=d.responseEnd,s+=1;s<l.length;s++){var x=l[s],L=x.startTime;if(L>C)break;var q=x.transferSize,O=x.initiatorType;q&&Pp(O)&&(x=x.responseEnd,T+=q*(x<C?1:(C-L)/(x-L)))}if(--s,n+=8*(m+T)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var iu=null,ou=null;function ya(e){return e.nodeType===9?e:e.ownerDocument}function Bp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Op(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function lu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var au=null;function yv(){var e=window.event;return e&&e.type==="popstate"?e===au?!1:(au=e,!0):(au=null,!1)}var Fp=typeof setTimeout=="function"?setTimeout:void 0,vv=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,Tv=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(e){return Yp.resolve(null).then(e).catch(Sv)}:Fp;function Sv(e){setTimeout(function(){throw e})}function zn(e){return e==="head"}function Jp(e,n){var l=n,s=0;do{var d=l.nextSibling;if(e.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(d),ji(n);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")Zo(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Zo(l);for(var m=l.firstChild;m;){var T=m.nextSibling,C=m.nodeName;m[mo]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=T}}else l==="body"&&Zo(e.ownerDocument.body);l=d}while(l);ji(n)}function Kp(e,n){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function su(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":su(l),ds(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Ev(e,n,l,s){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[mo])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function _v(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Vt(e.nextSibling),e===null))return null;return e}function Xp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vt(e.nextSibling),e===null))return null;return e}function ru(e){return e.data==="$?"||e.data==="$~"}function uu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Cv(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var s=function(){n(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Vt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var cu=null;function Qp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Vt(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Zp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function $p(e,n,l){switch(n=ya(l),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Zo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ds(e)}var Ht=new Map,Wp=new Set;function va(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var hn=K.d;K.d={f:Av,r:xv,D:Nv,C:Rv,L:Mv,m:bv,X:Iv,S:wv,M:Dv};function Av(){var e=hn.f(),n=ua();return e||n}function xv(e){var n=vi(e);n!==null&&n.tag===5&&n.type==="form"?hd(n):hn.r(e)}var Zi=typeof document>"u"?null:document;function jp(e,n,l){var s=Zi;if(s&&typeof n=="string"&&n){var d=wt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),Wp.has(d)||(Wp.add(d),e={rel:e,crossOrigin:l,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),lt(n,"link",e),$e(n),s.head.appendChild(n)))}}function Nv(e){hn.D(e),jp("dns-prefetch",e,null)}function Rv(e,n){hn.C(e,n),jp("preconnect",e,n)}function Mv(e,n,l){hn.L(e,n,l);var s=Zi;if(s&&e&&n){var d='link[rel="preload"][as="'+wt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+wt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+wt(l.imageSizes)+'"]')):d+='[href="'+wt(e)+'"]';var m=d;switch(n){case"style":m=$i(e);break;case"script":m=Wi(e)}Ht.has(m)||(e=S({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),Ht.set(m,e),s.querySelector(d)!==null||n==="style"&&s.querySelector($o(m))||n==="script"&&s.querySelector(Wo(m))||(n=s.createElement("link"),lt(n,"link",e),$e(n),s.head.appendChild(n)))}}function bv(e,n){hn.m(e,n);var l=Zi;if(l&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+wt(s)+'"][href="'+wt(e)+'"]',m=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Wi(e)}if(!Ht.has(m)&&(e=S({rel:"modulepreload",href:e},n),Ht.set(m,e),l.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Wo(m)))return}s=l.createElement("link"),lt(s,"link",e),$e(s),l.head.appendChild(s)}}}function wv(e,n,l){hn.S(e,n,l);var s=Zi;if(s&&e){var d=Ti(s).hoistableStyles,m=$i(e);n=n||"default";var T=d.get(m);if(!T){var C={loading:0,preload:null};if(T=s.querySelector($o(m)))C.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},l),(l=Ht.get(m))&&fu(e,l);var x=T=s.createElement("link");$e(x),lt(x,"link",e),x._p=new Promise(function(L,q){x.onload=L,x.onerror=q}),x.addEventListener("load",function(){C.loading|=1}),x.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Ta(T,n,s)}T={type:"stylesheet",instance:T,count:1,state:C},d.set(m,T)}}}function Iv(e,n){hn.X(e,n);var l=Zi;if(l&&e){var s=Ti(l).hoistableScripts,d=Wi(e),m=s.get(d);m||(m=l.querySelector(Wo(d)),m||(e=S({src:e,async:!0},n),(n=Ht.get(d))&&du(e,n),m=l.createElement("script"),$e(m),lt(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function Dv(e,n){hn.M(e,n);var l=Zi;if(l&&e){var s=Ti(l).hoistableScripts,d=Wi(e),m=s.get(d);m||(m=l.querySelector(Wo(d)),m||(e=S({src:e,async:!0,type:"module"},n),(n=Ht.get(d))&&du(e,n),m=l.createElement("script"),$e(m),lt(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function em(e,n,l,s){var d=(d=W.current)?va(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=$i(l.href),l=Ti(d).hoistableStyles,s=l.get(n),s||(s={type:"style",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=$i(l.href);var m=Ti(d).hoistableStyles,T=m.get(e);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=d.querySelector($o(e)))&&!m._p&&(T.instance=m,T.state.loading=5),Ht.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ht.set(e,l),m||Uv(d,e,l,T.state))),n&&s===null)throw Error(a(528,""));return T}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Wi(l),l=Ti(d).hoistableScripts,s=l.get(n),s||(s={type:"script",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function $i(e){return'href="'+wt(e)+'"'}function $o(e){return'link[rel="stylesheet"]['+e+"]"}function tm(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Uv(e,n,l,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),lt(n,"link",l),$e(n),e.head.appendChild(n))}function Wi(e){return'[src="'+wt(e)+'"]'}function Wo(e){return"script[async]"+e}function nm(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+wt(l.href)+'"]');if(s)return n.instance=s,$e(s),s;var d=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),$e(s),lt(s,"style",d),Ta(s,l.precedence,e),n.instance=s;case"stylesheet":d=$i(l.href);var m=e.querySelector($o(d));if(m)return n.state.loading|=4,n.instance=m,$e(m),m;s=tm(l),(d=Ht.get(d))&&fu(s,d),m=(e.ownerDocument||e).createElement("link"),$e(m);var T=m;return T._p=new Promise(function(C,x){T.onload=C,T.onerror=x}),lt(m,"link",s),n.state.loading|=4,Ta(m,l.precedence,e),n.instance=m;case"script":return m=Wi(l.src),(d=e.querySelector(Wo(m)))?(n.instance=d,$e(d),d):(s=l,(d=Ht.get(m))&&(s=S({},l),du(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),$e(d),lt(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Ta(s,l.precedence,e));return n.instance}function Ta(e,n,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,m=d,T=0;T<s.length;T++){var C=s[T];if(C.dataset.precedence===n)m=C;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function fu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function du(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Sa=null;function im(e,n,l){if(Sa===null){var s=new Map,d=Sa=new Map;d.set(l,s)}else d=Sa,s=d.get(l),s||(s=new Map,d.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var m=l[d];if(!(m[mo]||m[tt]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=e+T;var C=s.get(T);C?C.push(m):s.set(T,[m])}}return s}function om(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function Lv(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function lm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Gv(e,n,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=$i(s.href),m=n.querySelector($o(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ea.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=m,$e(m);return}m=n.ownerDocument||n,s=tm(s),(d=Ht.get(d))&&fu(s,d),m=m.createElement("link"),$e(m);var T=m;T._p=new Promise(function(C,x){T.onload=C,T.onerror=x}),lt(m,"link",s),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Ea.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var pu=0;function kv(e,n){return e.stylesheets&&e.count===0&&Ca(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&Ca(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&pu===0&&(pu=62500*gv());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ca(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>pu?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function Ea(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ca(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _a=null;function Ca(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_a=new Map,n.forEach(Vv,e),_a=null,Ea.call(e))}function Vv(e,n){if(!(n.state.loading&4)){var l=_a.get(e);if(l)var s=l.get(null);else{l=new Map,_a.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var T=d[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),s=T)}s&&l.set(null,s)}d=n.instance,T=d.getAttribute("data-precedence"),m=l.get(T)||s,m===s&&l.set(null,d),l.set(T,d),this.count++,s=Ea.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var jo={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Hv(e,n,l,s,d,m,T,C,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rs(0),this.hiddenUpdates=rs(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function am(e,n,l,s,d,m,T,C,x,L,q,O){return e=new Hv(e,n,l,T,x,L,q,O,C),n=1,m===!0&&(n|=24),m=_t(3,null,null,n),e.current=m,m.stateNode=e,n=Js(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:l,cache:n},Zs(m),e}function sm(e){return e?(e=bi,e):bi}function rm(e,n,l,s,d,m){d=sm(d),s.context===null?s.context=d:s.pendingContext=d,s=Mn(n),s.payload={element:l},m=m===void 0?null:m,m!==null&&(s.callback=m),l=bn(e,s,n),l!==null&&(yt(l,e,n),Io(l,e,n))}function um(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function mu(e,n){um(e,n),(e=e.alternate)&&um(e,n)}function cm(e){if(e.tag===13||e.tag===31){var n=ti(e,67108864);n!==null&&yt(n,e,67108864),mu(e,67108864)}}function fm(e){if(e.tag===13||e.tag===31){var n=Rt();n=us(n);var l=ti(e,n);l!==null&&yt(l,e,n),mu(e,n)}}var Aa=!0;function zv(e,n,l,s){var d=b.T;b.T=null;var m=K.p;try{K.p=2,hu(e,n,l,s)}finally{K.p=m,b.T=d}}function qv(e,n,l,s){var d=b.T;b.T=null;var m=K.p;try{K.p=8,hu(e,n,l,s)}finally{K.p=m,b.T=d}}function hu(e,n,l,s){if(Aa){var d=gu(s);if(d===null)tu(e,n,s,xa,l),pm(e,s);else if(Bv(d,e,n,l,s))s.stopPropagation();else if(pm(e,s),n&4&&-1<Pv.indexOf(e)){for(;d!==null;){var m=vi(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Zn(m.pendingLanes);if(T!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var x=1<<31-St(T);C.entanglements[1]|=x,T&=~x}Zt(m),(be&6)===0&&(sa=vt()+500,Ko(0))}}break;case 31:case 13:C=ti(m,2),C!==null&&yt(C,m,2),ua(),mu(m,2)}if(m=gu(s),m===null&&tu(e,n,s,xa,l),m===d)break;d=m}d!==null&&s.stopPropagation()}else tu(e,n,s,null,l)}}function gu(e){return e=vs(e),yu(e)}var xa=null;function yu(e){if(xa=null,e=yi(e),e!==null){var n=c(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=p(n),e!==null)return e;e=null}else if(l===31){if(e=g(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return xa=e,null}function dm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ny()){case Tc:return 2;case Sc:return 8;case ml:case Ry:return 32;case Ec:return 268435456;default:return 32}default:return 32}}var vu=!1,qn=null,Pn=null,Bn=null,el=new Map,tl=new Map,On=[],Pv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pm(e,n){switch(e){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":el.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(n.pointerId)}}function nl(e,n,l,s,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:l,eventSystemFlags:s,nativeEvent:m,targetContainers:[d]},n!==null&&(n=vi(n),n!==null&&cm(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function Bv(e,n,l,s,d){switch(n){case"focusin":return qn=nl(qn,e,n,l,s,d),!0;case"dragenter":return Pn=nl(Pn,e,n,l,s,d),!0;case"mouseover":return Bn=nl(Bn,e,n,l,s,d),!0;case"pointerover":var m=d.pointerId;return el.set(m,nl(el.get(m)||null,e,n,l,s,d)),!0;case"gotpointercapture":return m=d.pointerId,tl.set(m,nl(tl.get(m)||null,e,n,l,s,d)),!0}return!1}function mm(e){var n=yi(e.target);if(n!==null){var l=c(n);if(l!==null){if(n=l.tag,n===13){if(n=p(l),n!==null){e.blockedOn=n,Rc(e.priority,function(){fm(l)});return}}else if(n===31){if(n=g(l),n!==null){e.blockedOn=n,Rc(e.priority,function(){fm(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Na(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=gu(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);ys=s,l.target.dispatchEvent(s),ys=null}else return n=vi(l),n!==null&&cm(n),e.blockedOn=l,!1;n.shift()}return!0}function hm(e,n,l){Na(e)&&l.delete(n)}function Ov(){vu=!1,qn!==null&&Na(qn)&&(qn=null),Pn!==null&&Na(Pn)&&(Pn=null),Bn!==null&&Na(Bn)&&(Bn=null),el.forEach(hm),tl.forEach(hm)}function Ra(e,n){e.blockedOn===n&&(e.blockedOn=null,vu||(vu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ov)))}var Ma=null;function gm(e){Ma!==e&&(Ma=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ma===e&&(Ma=null);for(var n=0;n<e.length;n+=3){var l=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(yu(s||l)===null)continue;break}var m=vi(l);m!==null&&(e.splice(n,3),n-=3,gr(m,{pending:!0,data:d,method:l.method,action:s},s,d))}}))}function ji(e){function n(x){return Ra(x,e)}qn!==null&&Ra(qn,e),Pn!==null&&Ra(Pn,e),Bn!==null&&Ra(Bn,e),el.forEach(n),tl.forEach(n);for(var l=0;l<On.length;l++){var s=On[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<On.length&&(l=On[0],l.blockedOn===null);)mm(l),l.blockedOn===null&&On.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var d=l[s],m=l[s+1],T=d[ft]||null;if(typeof m=="function")T||gm(l);else if(T){var C=null;if(m&&m.hasAttribute("formAction")){if(d=m,T=m[ft]||null)C=T.formAction;else if(yu(d)!==null)continue}else C=T.action;typeof C=="function"?l[s+1]=C:(l.splice(s,3),s-=3),gm(l)}}}function ym(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function Tu(e){this._internalRoot=e}ba.prototype.render=Tu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var l=n.current,s=Rt();rm(l,s,e,n,null,null)},ba.prototype.unmount=Tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;rm(e.current,2,null,e,null,null),ua(),n[gi]=null}};function ba(e){this._internalRoot=e}ba.prototype.unstable_scheduleHydration=function(e){if(e){var n=Nc();e={blockedOn:null,target:e,priority:n};for(var l=0;l<On.length&&n!==0&&n<On[l].priority;l++);On.splice(l,0,e),l===0&&mm(e)}};var vm=t.version;if(vm!=="19.2.4")throw Error(a(527,vm,"19.2.4"));K.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Fv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:b,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wa.isDisabled&&wa.supportsFiber)try{co=wa.inject(Fv),Tt=wa}catch{}}return ol.createRoot=function(e,n){if(!r(e))throw Error(a(299));var l=!1,s="",d=xd,m=Nd,T=Rd;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=am(e,1,!1,null,null,l,s,null,d,m,T,ym),e[gi]=n.current,eu(e),new Tu(n)},ol.hydrateRoot=function(e,n,l){if(!r(e))throw Error(a(299));var s=!1,d="",m=xd,T=Nd,C=Rd,x=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.formState!==void 0&&(x=l.formState)),n=am(e,1,!0,n,l??null,s,d,x,m,T,C,ym),n.context=sm(null),l=n.current,s=Rt(),s=us(s),d=Mn(s),d.callback=null,bn(l,d,s),l=s,n.current.lanes=l,po(n,l),Zt(n),e[gi]=n.current,eu(e),new ba(n)},ol.version="19.2.4",ol}var Mm;function eT(){if(Mm)return _u.exports;Mm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),_u.exports=jv(),_u.exports}var tT=eT();const nT=ec(tT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=(...i)=>i.filter((t,o,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===o).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,o,a)=>a?a.toUpperCase():o.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=i=>{const t=oT(i);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=Q.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:r="",children:c,iconNode:p,...g},y)=>Q.createElement("svg",{ref:y,...lT,width:t,height:t,stroke:i,strokeWidth:a?Number(o)*24/Number(t):o,className:vg("lucide",r),...!c&&!aT(g)&&{"aria-hidden":"true"},...g},[...p.map(([h,v])=>Q.createElement(h,v)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(i,t)=>{const o=Q.forwardRef(({className:a,...r},c)=>Q.createElement(sT,{ref:c,iconNode:t,className:vg(`lucide-${iT(bm(i))}`,`lucide-${i}`,a),...r}));return o.displayName=bm(i),o};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],uT=qe("book-open",rT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],io=qe("check",cT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],dT=qe("circle-alert",fT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Vu=qe("circle-check",pT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],hT=qe("circle-minus",mT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wm=qe("circle-play",gT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fl=qe("clock",yT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Im=qe("cpu",vT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ST=qe("download",TT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Pa=qe("folder",ET);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],CT=qe("globe",_T);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],xT=qe("image",AT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Tg=qe("layers",NT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Hu=qe("loader-circle",RT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Dm=qe("play",MT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Nu=qe("plus",bT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],IT=qe("refresh-cw",wT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],UT=qe("settings",DT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],nc=qe("sparkles",LT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],kT=qe("square",GT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Sg=qe("trash-2",VT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zT=qe("triangle-alert",HT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Ba=qe("volume-2",qT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ao=qe("x",PT),Eg=Q.memo(({card:i,variant:t,onAction:o,onRemove:a,onClick:r,timeLeft:c,isSelectionMode:p=!1,isSelected:g=!1})=>{const y=()=>{r&&r(i)},h=S=>{S.stopPropagation(),o(i)},v=S=>{S.stopPropagation(),a&&a(i.id)};return _.jsx("div",{onClick:y,className:`group relative bg-white rounded-2xl shadow-[0_1px_3px_rgba(0,0,0,0.1)] hover:shadow-[0_4px_12px_rgba(0,0,0,0.08)] transition-all duration-300 active:scale-[0.98] border border-gray-100 overflow-hidden w-full flex-shrink-0 ${g?"bg-blue-50/50 border-blue-200":""}`,children:_.jsxs("div",{className:"flex items-center p-4",children:[_.jsx("div",{className:`flex-shrink-0 flex items-center justify-center overflow-hidden transition-all duration-300 ${p?"w-8 mr-3 opacity-100":"w-0 mr-0 opacity-0"}`,children:_.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors duration-200 ${g?"bg-[#007AFF] border-[#007AFF]":"bg-transparent border-gray-300"}`,children:g&&_.jsx(io,{size:14,className:"text-white",strokeWidth:3})})}),_.jsx("div",{className:"flex flex-grow items-start min-w-0",children:_.jsxs("div",{className:`flex-grow min-w-0 flex flex-col justify-between py-0.5 ${t==="library"?"h-auto gap-2":"h-auto gap-3"}`,children:[_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{children:[_.jsx("h3",{className:`font-semibold text-gray-900 leading-tight truncate pr-2 ${t==="active"?"text-[19px]":"text-[17px]"}`,children:i.turkishMeaning}),t==="library"&&_.jsx("p",{className:"text-[13px] text-gray-500 mt-0.5 truncate",children:i.keyword})]}),t==="library"&&_.jsx("span",{className:"font-amiri text-xl text-gray-800 leading-none",dir:"rtl",children:i.arabicWord}),t==="active"&&a&&_.jsx("button",{onClick:v,className:"text-gray-300 hover:text-red-500 transition-colors p-1 -mr-2",title:"Remove from Active Queue",children:_.jsx(hT,{size:18,strokeWidth:2})})]}),_.jsxs("div",{className:"flex items-end justify-between mt-auto",children:[_.jsx("div",{className:"flex items-center gap-2",children:_.jsx("span",{className:`text-[10px] font-medium px-2 py-0.5 rounded-full ${t==="library"?"bg-gray-100 text-gray-500":c?"bg-green-100 text-green-700":"bg-red-100 text-red-600"}`,children:t==="library"?`Lvl ${i.intervalIndex+1}`:c||"Review Now"})}),_.jsx("div",{className:`transition-opacity duration-200 ${p?"opacity-0 pointer-events-none":"opacity-100"}`,children:_.jsx("button",{onClick:h,className:`w-7 h-7 flex items-center justify-center rounded-full transition-colors ${t==="library"?"bg-blue-50 text-blue-600":c?"bg-gray-50 text-gray-400":"bg-blue-600 text-white shadow-md shadow-blue-500/20"}`,children:t==="library"?_.jsx(wm,{size:16,strokeWidth:2.5}):c?_.jsx(fl,{size:14}):_.jsx(wm,{size:14,fill:"currentColor"})})})]})]})})]})})}),BT=()=>typeof window>"u"||!window.speechSynthesis?[]:window.speechSynthesis.getVoices().filter(t=>{const o=(t.lang||"").toLowerCase().replace("_","-"),a=(t.name||"").toLowerCase();return!!(o.startsWith("ar")||a.includes("arabic")||a.includes("arab")||/[\u0600-\u06FF]/.test(a))}),ic=(i,t,o,a,r)=>{if(typeof window>"u"||!window.speechSynthesis)return console.warn("Speech synthesis is not supported in this environment."),()=>{};window.speechSynthesis.cancel();let c=null,p=!1;const g=()=>{p=!0,c&&clearTimeout(c),window.speechSynthesis.cancel(),r&&r()},y=t.replace(/\s*\(.*?\)/g,"").trim(),h=E=>{if(p)return;const A=new SpeechSynthesisUtterance(y);A.rate=.9;let N=null;o&&(N=E.find(I=>I.voiceURI===o)),N||(N=E.find(I=>(I.lang||"").replace("_","-").toLowerCase()==="ar-sa"),N||(N=E.find(I=>(I.lang||"").toLowerCase().startsWith("ar"))),N||(N=E.find(I=>I.name.toLowerCase().includes("arabic")))),N?(A.voice=N,A.lang=N.lang):A.lang="ar-SA",!i&&a&&(A.onstart=()=>{p||a()}),A.onend=()=>{!p&&r&&r()},A.onerror=()=>{!p&&r&&r()},window.speechSynthesis.speak(A)},v=E=>{if(!p)if(i){const A=new SpeechSynthesisUtterance(i);A.lang="tr-TR";const N=E.find(I=>I.lang.toLowerCase().startsWith("tr"));N&&(A.voice=N),A.onstart=()=>{!p&&a&&a()},A.onend=()=>{p||(c=setTimeout(()=>{h(E)},2500))},A.onerror=I=>{console.warn("Turkish TTS error",I),p||(c=setTimeout(()=>{h(E)},500))},window.speechSynthesis.speak(A)}else h(E)},S=window.speechSynthesis.getVoices();if(S.length>0)v(S);else{let E=0;const A=10,N=()=>{if(p)return;const I=window.speechSynthesis.getVoices();I.length>0||E>=A?v(I):(E++,c=setTimeout(N,500))};N()}return g};let zt=null,Oa=!1,ka=0,Va=null;const OT=2.5,FT=()=>{if(!zt){const i=window.AudioContext||window.webkitAudioContext;i&&(zt=new i)}return zt},YT=i=>{if(!zt)return;const t=zt.createOscillator(),o=zt.createGain();t.connect(o),o.connect(zt.destination),t.type="sine",t.frequency.value=880,o.gain.setValueAtTime(0,i),o.gain.linearRampToValueAtTime(.3,i+.02),o.gain.exponentialRampToValueAtTime(.001,i+.15),t.start(i),t.stop(i+.2);const a=zt.createOscillator(),r=zt.createGain();a.connect(r),r.connect(zt.destination),a.type="sine",a.frequency.value=880;const c=i+.25;r.gain.setValueAtTime(0,c),r.gain.linearRampToValueAtTime(.3,c+.02),r.gain.exponentialRampToValueAtTime(.001,c+.15),a.start(c),a.stop(c+.2)},_g=()=>{if(!(!Oa||!zt)){for(;ka<zt.currentTime+1.5;)YT(ka),ka+=OT;Va=setTimeout(_g,500)}},JT=()=>{if(Oa)return;const i=FT();i&&(i.state==="suspended"&&i.resume(),Oa=!0,ka=i.currentTime+.1,_g())},Ru=()=>{Oa=!1,Va&&(clearTimeout(Va),Va=null)},Cg=({card:i,onClose:t,onDelete:o,isReviewMode:a=!1,onNextReview:r,timeLeft:c,actionLabel:p})=>{const[g,y]=Q.useState(!1),[h,v]=Q.useState(!1),S=Q.useRef(null);Q.useEffect(()=>(y(!1),()=>{S.current&&S.current()}),[i.id]);const E=D=>{if(D.stopPropagation(),h){S.current&&S.current(),v(!1);return}const P=localStorage.getItem("arabic-mnemonic-settings"),z=P?JSON.parse(P):{selectedVoiceURI:""};S.current=ic(i.turkishMeaning,i.arabicWord,z.selectedVoiceURI,()=>v(!0),()=>v(!1))},A=D=>{D.stopPropagation(),window.confirm("Delete this card permanently?")&&(o(i.id),t())},N=D=>{D.stopPropagation(),r&&r()},I=D=>{D.target.closest("button")||y(P=>!P)};return _.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{perspective:"1000px"},children:[_.jsx("div",{className:"absolute inset-0 bg-black/90 transition-opacity duration-300",onClick:t}),_.jsxs("div",{className:"relative w-full max-w-[340px] aspect-[3/4] max-h-[85vh]",children:[_.jsxs("div",{className:"absolute -top-14 left-0 right-0 flex justify-between items-center z-50 px-2",children:[_.jsx("div",{}),_.jsxs("div",{className:"flex gap-3",children:[!a&&_.jsx("button",{onClick:A,className:"w-10 h-10 rounded-full bg-white/10 hover:bg-red-500/50 flex items-center justify-center text-white transition-all active:scale-95",children:_.jsx(Sg,{size:18})}),_.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center text-white transition-all active:scale-95",children:_.jsx(ao,{size:20})})]})]}),_.jsxs("div",{className:"relative w-full h-full cursor-pointer",style:{transformStyle:"preserve-3d",transition:"transform 0.55s ease-in-out",transform:g?"rotateY(180deg)":"rotateY(0deg)",willChange:"transform"},onClick:I,children:[_.jsxs("div",{className:"absolute inset-0 bg-white rounded-[32px] overflow-hidden shadow-2xl flex flex-col",style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},children:[_.jsxs("div",{className:"relative h-[80%] w-full bg-gray-100 flex-shrink-0",children:[i.imageUrl?_.jsx("img",{src:i.imageUrl,alt:"Mnemonic",className:"w-full h-full object-cover",loading:"eager"}):_.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center opacity-40",children:[_.jsx(nc,{className:"mb-3 text-gray-400",size:36,strokeWidth:1}),_.jsx("p",{className:"text-xs font-light text-gray-400 px-6 text-center italic leading-relaxed",children:i.imagePrompt||"No image available"})]}),_.jsx("button",{onClick:E,className:`absolute top-3 right-3 w-10 h-10 rounded-full flex items-center justify-center shadow-lg transition-all duration-200 active:scale-90 z-10 ${h?"bg-blue-500 text-white":"bg-white/80 backdrop-blur-sm text-gray-700 hover:bg-white"}`,title:"Play pronunciation",children:_.jsx(Ba,{size:18,className:h?"animate-pulse":""})})]}),_.jsx("div",{className:"h-[20%] flex items-center justify-center px-4",children:_.jsx("h2",{className:"text-xl font-semibold text-gray-900 text-center leading-snug break-words",children:i.turkishMeaning})}),a&&r&&_.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3 bg-white border-t border-gray-100",children:_.jsx("button",{onClick:D=>{D.stopPropagation(),N(D)},disabled:!!c,className:`w-full py-3 rounded-2xl text-[15px] font-bold transition-all active:scale-[0.98] flex items-center justify-center gap-2 ${c?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-black text-white hover:bg-gray-900 shadow-md"}`,children:c?_.jsxs(_.Fragment,{children:[_.jsx(fl,{size:16}),_.jsxs("span",{children:["Wait ",c]})]}):_.jsxs(_.Fragment,{children:[_.jsx("span",{children:p||"Next Review"}),_.jsx(io,{size:18})]})})})]}),_.jsxs("div",{className:"absolute inset-0 bg-white rounded-[32px] overflow-hidden shadow-2xl flex flex-col items-center justify-center px-6 py-8",style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[_.jsx("div",{className:"inline-block px-4 py-1.5 bg-orange-50 text-orange-600 text-xs font-bold uppercase tracking-widest rounded-full mb-5 shadow-sm border border-orange-100",children:i.keyword}),_.jsx("p",{className:"text-[16px] text-gray-700 font-medium leading-relaxed text-center whitespace-pre-line break-words",children:i.story}),a&&r&&_.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3 border-t border-gray-100 bg-white",children:_.jsx("button",{onClick:D=>{D.stopPropagation(),N(D)},disabled:!!c,className:`w-full py-3 rounded-2xl text-[15px] font-bold transition-all active:scale-[0.98] flex items-center justify-center gap-2 ${c?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-black text-white hover:bg-gray-900 shadow-md"}`,children:c?_.jsxs(_.Fragment,{children:[_.jsx(fl,{size:16}),_.jsxs("span",{children:["Wait ",c]})]}):_.jsxs(_.Fragment,{children:[_.jsx("span",{children:p||"Next Review"}),_.jsx(io,{size:18})]})})})]})]})]})]})},ul=({children:i,className:t="",disabled:o,size:a="md",...r})=>{const c=a==="sm"?"py-2 px-4 text-sm rounded-lg":"py-3.5 px-6 text-base rounded-xl";return _.jsx("button",{className:`relative w-full font-semibold transition-all duration-200 transform active:scale-[0.97] flex items-center justify-center gap-2 shadow-sm ${o?"bg-gray-200 text-gray-400 cursor-not-allowed shadow-none":"bg-[#007AFF] hover:bg-[#006ee6] text-white shadow-blue-500/20"} ${c} ${t}`,disabled:o,...r,children:i})},Um=20,KT=({cards:i,folders:t,onAddCard:o,onOpenBulk:a,onOpenSettings:r,onActivateCard:c,onDeleteCard:p,onBulkDelete:g,onCreateFolder:y,onDeleteFolder:h,selectedFolderId:v,onSelectFolder:S})=>{const[E,A]=Q.useState(null),[N,I]=Q.useState(!1),[D,P]=Q.useState(new Set),[z,Y]=Q.useState(Um),[H,X]=Q.useState(!1),[k,J]=Q.useState(""),le=Q.useRef(null);Q.useEffect(()=>{v&&!t.some(b=>b.id===v)&&S(null)},[t,v,S]);const Z=Q.useMemo(()=>{let b=i.filter(K=>K.status==="library");return v&&(b=b.filter(K=>K.folderId===v)),b},[i,v]);Q.useEffect(()=>{N||P(new Set)},[N]);const ue=()=>{I(!N)},he=Q.useCallback(b=>{N?P(K=>{const ne=new Set(K);return ne.has(b.id)?ne.delete(b.id):ne.add(b.id),ne}):A(b)},[N]),ve=()=>{g(Array.from(D)),I(!1),P(new Set)},$=()=>{if(Z.length===0)return;const b=Z.map(xe=>xe.arabicWord.replace(/\s*\(.*?\)\s*/g,"").replace(/[a-zA-Z--0-9]/g,"").trim()).filter(Boolean).join(`
`),K=new Blob([b],{type:"text/plain;charset=utf-8"}),ne=URL.createObjectURL(K),de=document.createElement("a");de.href=ne,de.download="arabic_words.txt",document.body.appendChild(de),de.click(),document.body.removeChild(de),URL.revokeObjectURL(ne)},te=()=>{if(le.current){const{scrollTop:b,scrollHeight:K,clientHeight:ne}=le.current;K-b-ne<500&&z<Z.length&&Y(de=>Math.min(de+Um,Z.length))}},se=b=>{b.preventDefault(),k.trim()&&(y(k.trim()),J(""),X(!1))};return _.jsxs("div",{className:"h-full flex flex-col bg-transparent relative",children:[_.jsxs("div",{className:"px-5 pt-[calc(1rem+env(safe-area-inset-top))] pb-0 bg-[#F9F9F9] z-10 sticky top-0 transition-all duration-300",children:[_.jsxs("div",{className:"flex justify-between items-center mb-3",children:[_.jsx("h2",{className:"text-3xl font-bold text-black tracking-tight",children:"Library"}),_.jsxs("div",{className:"flex items-center gap-3",children:[!N&&_.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 active:scale-90 transition-transform",children:_.jsx(UT,{size:22})}),Z.length>0&&_.jsx("button",{onClick:ue,className:"text-[17px] text-[#007AFF] font-normal active:opacity-50 transition-opacity",children:N?"Done":"Select"}),_.jsxs("div",{className:`flex items-center gap-2 transition-all duration-300 transform ${N?"opacity-0 scale-50 w-0":"opacity-100 scale-100 w-auto"}`,children:[_.jsx("button",{onClick:$,disabled:N||Z.length===0,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-full p-2 shadow-sm transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed hidden sm:block",title:"Export to TXT",children:_.jsx(ST,{size:20,strokeWidth:2.5})}),_.jsx("button",{onClick:a,disabled:N,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-full p-2 shadow-sm transition-all active:scale-95",title:"Bulk Add",children:_.jsx(Tg,{size:20,strokeWidth:2.5})}),_.jsx("button",{onClick:o,disabled:N,className:"bg-[#007AFF] hover:bg-[#006ee6] text-white rounded-full p-2 shadow-sm transition-all active:scale-95",children:_.jsx(Nu,{size:20,strokeWidth:2.5})})]})]})]}),_.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-4 no-scrollbar -mx-5 px-5",children:[_.jsx("button",{onClick:()=>S(null),className:`flex-shrink-0 px-3 py-1.5 rounded-full text-[13px] font-medium transition-colors ${v===null?"bg-black text-white":"bg-white border border-gray-200 text-gray-600"}`,children:"All"}),t.map(b=>_.jsxs("button",{onClick:()=>S(b.id),className:`flex-shrink-0 px-3 py-1.5 rounded-full text-[13px] font-medium transition-all whitespace-nowrap flex items-center gap-2 ${v===b.id?"bg-[#007AFF] text-white pr-1.5":"bg-white border border-gray-200 text-gray-600"}`,children:[b.name,v===b.id&&_.jsx("span",{onClick:K=>{K.stopPropagation(),h(b.id)},className:"flex items-center justify-center w-5 h-5 rounded-full bg-white/20 hover:bg-white/30 active:scale-90 transition-all",children:_.jsx(ao,{size:12,strokeWidth:2.5})})]},b.id)),_.jsx("button",{onClick:()=>X(!0),className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 text-gray-400 flex items-center justify-center hover:bg-gray-200 hover:text-gray-600 transition-colors",children:_.jsx(Nu,{size:16})})]})]}),H&&_.jsx("div",{className:"px-5 pb-4 bg-[#F9F9F9] border-b border-gray-100 animate-in slide-in-from-top-2",children:_.jsxs("form",{onSubmit:se,className:"flex gap-2",children:[_.jsxs("div",{className:"relative flex-grow",children:[_.jsx(Pa,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),_.jsx("input",{autoFocus:!0,type:"text",value:k,onChange:b=>J(b.target.value),placeholder:"New Folder Name",className:"w-full pl-9 pr-3 py-2 rounded-xl bg-white border border-gray-200 text-sm outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]}),_.jsx("button",{type:"submit",disabled:!k.trim(),className:"bg-black text-white px-4 py-2 rounded-xl text-sm font-medium disabled:opacity-50",children:"Add"}),_.jsx("button",{type:"button",onClick:()=>X(!1),className:"p-2 text-gray-400 hover:bg-gray-100 rounded-xl",children:_.jsx(ao,{size:20})})]})}),_.jsx("div",{className:"w-full h-px bg-gray-200/70"}),_.jsx("div",{ref:le,onScroll:te,className:"flex-grow overflow-y-auto p-4 flex flex-col gap-4 content-start pb-24 min-h-0",children:Z.length===0?_.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center text-gray-400 py-24",children:[_.jsx("div",{className:"bg-gray-100 p-6 rounded-full mb-4",children:_.jsx(Nu,{size:48,className:"text-gray-300"})}),_.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Cards Here"}),_.jsx("p",{className:"text-center text-gray-500 max-w-xs leading-relaxed text-sm",children:v?"This folder is empty. Add cards to it!":"Tap the + button to create your first mnemonic flashcard."}),!v&&_.jsxs("div",{className:"mt-8 flex flex-col gap-3",children:[_.jsx(ul,{onClick:o,size:"sm",children:"Create Card"}),_.jsx("button",{onClick:a,className:"text-blue-500 text-sm font-medium hover:underline",children:"Or Bulk Import"})]})]}):_.jsxs(_.Fragment,{children:[Z.slice(0,z).map(b=>_.jsx(Eg,{card:b,variant:"library",onClick:he,onAction:c,isSelectionMode:N,isSelected:D.has(b.id)},b.id)),z<Z.length&&_.jsx("div",{className:"h-10 flex items-center justify-center opacity-50",children:"Loading..."})]})}),_.jsx("div",{className:`absolute bottom-0 left-0 right-0 bg-[#F9F9F9] border-t border-gray-300 p-4 pb-8 z-30 transition-transform duration-300 ease-in-out ${N?"translate-y-0":"translate-y-full"}`,children:_.jsxs("div",{className:"flex justify-between items-center max-w-md mx-auto",children:[_.jsxs("span",{className:"text-gray-500 text-[15px] font-medium",children:[D.size," selected"]}),_.jsxs("button",{onClick:ve,disabled:D.size===0,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition-colors ${D.size>0?"text-red-500 hover:bg-red-50":"text-gray-300 cursor-not-allowed"}`,children:[_.jsx(Sg,{size:20}),_.jsx("span",{children:"Delete"})]})]})}),E&&_.jsx(Cg,{card:E,onClose:()=>A(null),onDelete:p})]})},Ha=[5*1e3,25*1e3,120*1e3,600*1e3,3600*1e3,300*60*1e3,1440*60*1e3],XT=["5s","25s","2m","10m","1h","5h","1d"],QT=({cards:i,folders:t,onUpdateCard:o,onDeleteCard:a,onDeactivateCard:r})=>{const[c,p]=Q.useState(Date.now()),[g,y]=Q.useState(null),[h,v]=Q.useState(null),S=Q.useRef(null),E=Q.useRef(!1),A=Q.useMemo(()=>{let H=i.filter(X=>X.status==="active");return h&&(H=H.filter(X=>X.folderId===h)),H},[i,h]),N=Q.useCallback(H=>{S.current!==null&&(clearTimeout(S.current),S.current=null);const X=Date.now(),k=H.map(Z=>Z.nextReviewTime).filter(Z=>Z>X);if(k.length===0)return;const le=Math.min(...k)-X;S.current=setTimeout(()=>{const Z=Date.now();p(Z),E.current||(JT(),E.current=!0),"Notification"in window&&Notification.permission==="granted"&&document.visibilityState==="hidden"&&new Notification("Review Time!",{body:"A memory card is ready for review.",icon:"/favicon.ico"}),N(H)},Math.max(le,0))},[]);Q.useEffect(()=>(N(A),p(Date.now()),()=>{S.current!==null&&clearTimeout(S.current)}),[A,N]),Q.useEffect(()=>("Notification"in window&&Notification.permission==="default"&&Notification.requestPermission(),()=>Ru()),[]),Q.useEffect(()=>{const H=()=>{document.visibilityState==="visible"&&p(Date.now())};return document.addEventListener("visibilitychange",H),()=>document.removeEventListener("visibilitychange",H)},[]),Q.useEffect(()=>{const H=()=>{E.current&&(Ru(),E.current=!1)};return window.addEventListener("click",H),window.addEventListener("keydown",H),window.addEventListener("touchstart",H),()=>{window.removeEventListener("click",H),window.removeEventListener("keydown",H),window.removeEventListener("touchstart",H)}},[]);const I=A.filter(H=>c>=H.nextReviewTime).length,D=Q.useMemo(()=>[...A].sort((H,X)=>{const k=c>=H.nextReviewTime,J=c>=X.nextReviewTime;return k&&!J?-1:!k&&J?1:H.nextReviewTime-X.nextReviewTime}),[A,c]),P=H=>{Ru(),E.current=!1;const X=Math.min(H.intervalIndex+1,Ha.length-1),k=Ha[X],J={...H,intervalIndex:X,nextReviewTime:Date.now()+k};o(J),y(null)},z=Q.useCallback(H=>{y(H)},[]),Y=H=>{const X=H-c;if(X<=0)return null;const k=Math.floor(X/1e3),J=Math.floor(k/3600),le=Math.floor(k%3600/60),Z=k%60,ue=le.toString().padStart(2,"0"),he=Z.toString().padStart(2,"0");return J>0?`${J}h ${ue}m`:le>0?`${le}m ${he}s`:`${Z}s`};return _.jsxs("div",{className:"h-full flex flex-col bg-transparent relative",children:[_.jsxs("div",{className:"px-5 pt-[calc(1rem+env(safe-area-inset-top))] pb-0 bg-[#F9F9F9] border-b border-gray-200 shadow-sm z-10 sticky top-0",children:[_.jsxs("div",{className:"flex justify-between items-center mb-3",children:[_.jsx("h2",{className:"text-3xl font-bold text-black tracking-tight",children:"Active"}),A.length>0&&_.jsxs("div",{className:`text-xs font-semibold px-3 py-1.5 rounded-full ${I>0?"bg-red-100 text-red-600":"bg-gray-100 text-gray-500"}`,children:[I," Due"]})]}),t.length>0&&_.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-4 no-scrollbar -mx-5 px-5",children:[_.jsx("button",{onClick:()=>v(null),className:`flex-shrink-0 px-3 py-1.5 rounded-full text-[13px] font-medium transition-colors ${h===null?"bg-black text-white":"bg-white border border-gray-200 text-gray-600"}`,children:"All"}),t.map(H=>_.jsx("button",{onClick:()=>v(H.id),className:`flex-shrink-0 px-3 py-1.5 rounded-full text-[13px] font-medium transition-colors whitespace-nowrap ${h===H.id?"bg-[#007AFF] text-white":"bg-white border border-gray-200 text-gray-600"}`,children:H.name},H.id))]})]}),_.jsx("div",{className:"flex-grow overflow-y-auto p-4 space-y-3",children:D.length===0?_.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 pb-20",children:[_.jsx("div",{className:"bg-gray-100 p-6 rounded-full mb-4",children:_.jsx(Vu,{size:48,className:"text-gray-300"})}),_.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"All Caught Up"}),_.jsx("p",{className:"text-center text-sm text-gray-500 px-8",children:h?"No active cards in this folder.":"Move cards from your Library to start practicing."})]}):_.jsx("div",{className:"max-w-2xl mx-auto w-full space-y-3",children:D.map(H=>{const X=Y(H.nextReviewTime);return _.jsx(Eg,{card:H,variant:"active",timeLeft:X,onClick:z,onAction:z,onRemove:r},H.id)})})}),g&&_.jsx(Cg,{card:g,onClose:()=>y(null),onDelete:a,isReviewMode:!0,onNextReview:()=>P(g),timeLeft:Y(g.nextReviewTime),actionLabel:`Next (${XT[Math.min(g.intervalIndex+1,Ha.length-1)]})`})]})};var ll={exports:{}},Mu={},bu,Lm;function ZT(){if(Lm)return bu;Lm=1;function i(t,o){typeof o=="boolean"&&(o={forever:o}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=o||{},this._maxRetryTime=o&&o.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return bu=i,i.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},i.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},i.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var o=new Date().getTime();if(t&&o-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var a=this._timeouts.shift();if(a===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),a=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},a),this._options.unref&&this._timer.unref(),!0},i.prototype.attempt=function(t,o){this._fn=t,o&&(o.timeout&&(this._operationTimeout=o.timeout),o.cb&&(this._operationTimeoutCb=o.cb));var a=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){a._operationTimeoutCb()},a._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},i.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},i.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},i.prototype.start=i.prototype.try,i.prototype.errors=function(){return this._errors},i.prototype.attempts=function(){return this._attempts},i.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},o=null,a=0,r=0;r<this._errors.length;r++){var c=this._errors[r],p=c.message,g=(t[p]||0)+1;t[p]=g,g>=a&&(o=c,a=g)}return o},bu}var Gm;function $T(){return Gm||(Gm=1,(function(i){var t=ZT();i.operation=function(o){var a=i.timeouts(o);return new t(a,{forever:o&&(o.forever||o.retries===1/0),unref:o&&o.unref,maxRetryTime:o&&o.maxRetryTime})},i.timeouts=function(o){if(o instanceof Array)return[].concat(o);var a={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var r in o)a[r]=o[r];if(a.minTimeout>a.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var c=[],p=0;p<a.retries;p++)c.push(this.createTimeout(p,a));return o&&o.forever&&!c.length&&c.push(this.createTimeout(p,a)),c.sort(function(g,y){return g-y}),c},i.createTimeout=function(o,a){var r=a.randomize?Math.random()+1:1,c=Math.round(r*Math.max(a.minTimeout,1)*Math.pow(a.factor,o));return c=Math.min(c,a.maxTimeout),c},i.wrap=function(o,a,r){if(a instanceof Array&&(r=a,a=null),!r){r=[];for(var c in o)typeof o[c]=="function"&&r.push(c)}for(var p=0;p<r.length;p++){var g=r[p],y=o[g];o[g]=(function(v){var S=i.operation(a),E=Array.prototype.slice.call(arguments,1),A=E.pop();E.push(function(N){S.retry(N)||(N&&(arguments[0]=S.mainError()),A.apply(this,arguments))}),S.attempt(function(){v.apply(o,E)})}).bind(o,y),o[g].options=a}}})(Mu)),Mu}var wu,km;function WT(){return km||(km=1,wu=$T()),wu}var Vm;function jT(){if(Vm)return ll.exports;Vm=1;const i=WT(),t=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class o extends Error{constructor(g){super(),g instanceof Error?(this.originalError=g,{message:g}=g):(this.originalError=new Error(g),this.originalError.stack=this.stack),this.name="AbortError",this.message=g}}const a=(p,g,y)=>{const h=y.retries-(g-1);return p.attemptNumber=g,p.retriesLeft=h,p},r=p=>t.includes(p),c=(p,g)=>new Promise((y,h)=>{g={onFailedAttempt:()=>{},retries:10,...g};const v=i.operation(g);v.attempt(async S=>{try{y(await p(S))}catch(E){if(!(E instanceof Error)){h(new TypeError(`Non-error was thrown: "${E}". You should only throw errors.`));return}if(E instanceof o)v.stop(),h(E.originalError);else if(E instanceof TypeError&&!r(E.message))v.stop(),h(E);else{a(E,S,g);try{await g.onFailedAttempt(E)}catch(A){h(A);return}v.retry(E)||h(v.mainError())}}})});return ll.exports=c,ll.exports.default=c,ll.exports.AbortError=o,ll.exports}var Ag=jT();const eS=ec(Ag);var tS={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nS,iS;function oS(){return{geminiUrl:nS,vertexUrl:iS}}function lS(i,t,o,a){var r,c;if(!(i!=null&&i.baseUrl)){const p=oS();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(c=p.geminiUrl)!==null&&c!==void 0?c:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yn{}function ee(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const c=t[r];return c!=null?String(c):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(i,t,o){for(let c=0;c<t.length-1;c++){const p=t[c];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];f(v,t.slice(c+1),o[h])}else for(const h of y)f(h,t.slice(c+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];f(y[0],t.slice(c+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return o;const r=t[a];if(r.endsWith("[]")){const c=r.slice(0,-2);if(c in i){const p=i[c];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),o)):o}else return o}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function aS(i,t){for(const[o,a]of Object.entries(t)){const r=o.split("."),c=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&c.length>g)for(let y=g;y<c.length;y++){const h=c[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}zu(i,r,c,0,p)}}function zu(i,t,o,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const c=t[a];if(c.endsWith("[]")){const p=c.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])zu(y,t,o,a+1,r)}else if(c==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=p[h];for(const[h,v]of Object.entries(y)){const S=[];for(const E of o.slice(a))E==="*"?S.push(h):S.push(E);f(p,S,v)}for(const h of g)delete p[h]}}else{const p=i;c in p&&zu(p[c],t,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oc(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sS(i){const t={},o=u(i,["operationName"]);o!=null&&f(t,["operationName"],o);const a=u(i,["resourceName"]);return a!=null&&f(t,["_url","resourceName"],a),t}function rS(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response","generateVideoResponse"]);return p!=null&&f(t,["response"],cS(p)),t}function uS(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],fS(p)),t}function cS(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>dS(p))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function fS(i){const t={},o=u(i,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>pS(p))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function dS(i){const t={},o=u(i,["video"]);return o!=null&&f(t,["video"],TS(o)),t}function pS(i){const t={},o=u(i,["_self"]);return o!=null&&f(t,["video"],SS(o)),t}function mS(i){const t={},o=u(i,["operationName"]);return o!=null&&f(t,["_url","operationName"],o),t}function hS(i){const t={},o=u(i,["operationName"]);return o!=null&&f(t,["_url","operationName"],o),t}function gS(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],yS(p)),t}function yS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function xg(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],vS(p)),t}function vS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function TS(i){const t={},o=u(i,["uri"]);o!=null&&f(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&f(t,["videoBytes"],oc(a));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function SS(i){const t={},o=u(i,["gcsUri"]);o!=null&&f(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],oc(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Hm||(Hm={}));var zm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(zm||(zm={}));var qm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(qm||(qm={}));var Yn;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Yn||(Yn={}));var Pm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Pm||(Pm={}));var Bm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Bm||(Bm={}));var Om;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Om||(Om={}));var Fm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Fm||(Fm={}));var Ym;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Ym||(Ym={}));var Jm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Jm||(Jm={}));var Km;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Km||(Km={}));var Xm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(Xm||(Xm={}));var Qm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Qm||(Qm={}));var Zm;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Zm||(Zm={}));var $m;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})($m||($m={}));var Wm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Wm||(Wm={}));var jm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(jm||(jm={}));var eh;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(eh||(eh={}));var th;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(th||(th={}));var nh;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(nh||(nh={}));var ih;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ih||(ih={}));var Fa;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Fa||(Fa={}));var oh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(oh||(oh={}));var lh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(lh||(lh={}));var ah;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ah||(ah={}));var qu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(qu||(qu={}));var sh;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(sh||(sh={}));var rh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(rh||(rh={}));var Pu;(function(i){i.COLLECTION="COLLECTION"})(Pu||(Pu={}));var uh;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(uh||(uh={}));var ch;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ch||(ch={}));var Ya;(function(i){i.PREDICT="PREDICT",i.EMBED_CONTENT="EMBED_CONTENT"})(Ya||(Ya={}));var fh;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(fh||(fh={}));var dh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(dh||(dh={}));var ph;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(ph||(ph={}));var mh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(mh||(mh={}));var hh;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(hh||(hh={}));var gh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(gh||(gh={}));var yh;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(yh||(yh={}));var vh;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(vh||(vh={}));var Th;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Th||(Th={}));var Sh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Sh||(Sh={}));var Eh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Eh||(Eh={}));var _h;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING",i.DISTILLATION="DISTILLATION"})(_h||(_h={}));var Ch;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Ch||(Ch={}));var Ah;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Ah||(Ah={}));var xh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(xh||(xh={}));var Nh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Nh||(Nh={}));var Rh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Rh||(Rh={}));var Mh;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Mh||(Mh={}));var bh;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(bh||(bh={}));var wh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(wh||(wh={}));var Ih;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ih||(Ih={}));var Dh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Dh||(Dh={}));var Uh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Uh||(Uh={}));var Lh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Lh||(Lh={}));var Gh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Gh||(Gh={}));var to;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(to||(to={}));class Bu{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class al{get text(){var t,o,a,r,c,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const S=[];for(const E of(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[A,N]of Object.entries(E))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(N!==null||N!==void 0)&&S.push(A);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,h+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,o,a,r,c,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const S of(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,A]of Object.entries(S))E!=="inlineData"&&(A!==null||A!==void 0)&&v.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(h+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,o,a,r,c,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,o,a,r,c,p,g,y,h;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,o,a,r,c,p,g,y,h;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class kh{}class Vh{}class ES{}class _S{}class CS{}class AS{}class Hh{}class zh{}class qh{}class xS{}class Ja{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Ja;let r;const c=t;return o?r=uS(c):r=rS(c),Object.assign(a,r),a}}class Ph{}class Bh{}class Oh{}class Fh{}class NS{}class RS{}class MS{}class lc{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new lc,c=gS(t);return Object.assign(a,c),a}}class bS{}class wS{}class IS{}class DS{}class Yh{}class US{get text(){var t,o,a;let r="",c=!1;const p=[];for(const g of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?r:void 0}get data(){var t,o,a;let r="";const c=[];for(const p of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&c.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class LS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ac{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new ac,c=xg(t);return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Me(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Ng(i,t){const o=Me(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Rg(i){return Array.isArray(i)?i.map(t=>Ka(t)):[Ka(i)]}function Ka(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Mg(i){const t=Ka(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function bg(i){const t=Ka(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Jh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function wg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Jh(t)):[Jh(i)]}function Ou(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Kh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Xh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function je(i){if(i==null)throw new Error("ContentUnion is required");return Ou(i)?i:{role:"user",parts:wg(i)}}function sc(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=je(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=je(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>je(o)):[je(t)]}function Mt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Kh(i)||Xh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[je(i)]}const t=[],o=[],a=Ou(i[0]);for(const r of i){const c=Ou(r);if(c!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(r);else{if(Kh(r)||Xh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||t.push({role:"user",parts:wg(o)}),t}function GS(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(Yn).includes(o[0].toUpperCase())?o[0].toUpperCase():Yn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(Yn).includes(a.toUpperCase())?a.toUpperCase():Yn.TYPE_UNSPECIFIED})}}function oo(i){const t={},o=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=i.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,i=c[1]):c[1].type==="null"&&(t.nullable=!0,i=c[0])),i.type instanceof Array&&GS(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(Yn).includes(g.toUpperCase())?g.toUpperCase():Yn.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=oo(g);else if(a.includes(p)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(oo(h))}t[p]=y}else if(r.includes(p)){const y={};for(const[h,v]of Object.entries(g))y[h]=oo(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function rc(i){return oo(i)}function uc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function cc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function so(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=oo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=oo(t.response));return i}function ro(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function kS(i,t,o,a=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function vn(i,t){if(typeof t!="string")throw new Error("name must be a string");return kS(i,t,"cachedContents")}function Ig(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Jn(i){return oc(i)}function VS(i){return i!=null&&typeof i=="object"&&"name"in i}function HS(i){return i!=null&&typeof i=="object"&&"video"in i}function zS(i){return i!=null&&typeof i=="object"&&"uri"in i}function Dg(i){var t;let o;if(VS(i)&&(o=i.name),!(zS(i)&&(o=i.uri,o===void 0))&&!(HS(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Ug(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function Lg(i){for(const t of["models","tunedModels","publisherModels"])if(qS(i,t))return i[t];return[]}function qS(i,t){return i!==null&&typeof i=="object"&&t in i}function PS(i,t={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function BS(i,t={}){const o=[],a=new Set;for(const r of i){const c=r.name;if(a.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);a.add(c);const p=PS(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function Gg(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function OS(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function kg(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let c=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function uo(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Vg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function FS(i){return i.includes("gemini")&&i!=="gemini-embedding-001"||i.includes("maas")}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YS(i){const t={},o=u(i,["responsesFile"]);o!=null&&f(t,["fileName"],o);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>xE(p))),f(t,["inlinedResponses"],c)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["inlinedEmbedContentResponses"],c)}return t}function JS(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&f(t,["format"],o);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&f(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function KS(i){const t={},o=u(i,["format"]);o!=null&&f(t,["predictionsFormat"],o);const a=u(i,["gcsUri"]);a!=null&&f(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function za(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata","displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&f(t,["state"],Vg(r));const c=u(i,["metadata","createTime"]);c!=null&&f(t,["createTime"],c);const p=u(i,["metadata","endTime"]);p!=null&&f(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&f(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&f(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&f(t,["dest"],YS(kg(h))),t}function Fu(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["state"]);r!=null&&f(t,["state"],Vg(r));const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["createTime"]);p!=null&&f(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&f(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&f(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&f(t,["updateTime"],h);const v=u(i,["model"]);v!=null&&f(t,["model"],v);const S=u(i,["inputConfig"]);S!=null&&f(t,["src"],XS(S));const E=u(i,["outputConfig"]);E!=null&&f(t,["dest"],JS(kg(E)));const A=u(i,["completionStats"]);return A!=null&&f(t,["completionStats"],A),t}function XS(i){const t={},o=u(i,["instancesFormat"]);o!=null&&f(t,["format"],o);const a=u(i,["gcsSource","uris"]);a!=null&&f(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function QS(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&f(o,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>AE(i,p))),f(o,["requests","requests"],c)}return o}function ZS(i){const t={},o=u(i,["format"]);o!=null&&f(t,["instancesFormat"],o);const a=u(i,["gcsUri"]);a!=null&&f(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function $S(i){const t={},o=u(i,["data"]);if(o!=null&&f(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function WS(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],uo(i,a)),o}function jS(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],uo(i,a)),o}function eE(i){const t={},o=u(i,["content"]);o!=null&&f(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],tE(a));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(i,["finishReason"]);c!=null&&f(t,["finishReason"],c);const p=u(i,["avgLogprobs"]);p!=null&&f(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&f(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&f(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&f(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),f(t,["safetyRatings"],E)}const S=u(i,["urlContextMetadata"]);return S!=null&&f(t,["urlContextMetadata"],S),t}function tE(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["citations"],a)}return t}function Hg(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>DE(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function nE(i,t){const o={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&f(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function iE(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&f(t,["outputConfig"],KS(OS(r))),o}function Qh(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["_url","model"],Me(i,a));const r=u(t,["src"]);r!=null&&f(o,["batch","inputConfig"],QS(i,Gg(i,r)));const c=u(t,["config"]);return c!=null&&nE(c,o),o}function oE(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["model"],Me(i,a));const r=u(t,["src"]);r!=null&&f(o,["inputConfig"],ZS(Gg(i,r)));const c=u(t,["config"]);return c!=null&&iE(c,o),o}function lE(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&f(t,["batch","displayName"],a),o}function aE(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["_url","model"],Me(i,a));const r=u(t,["src"]);r!=null&&f(o,["batch","inputConfig"],pE(i,r));const c=u(t,["config"]);return c!=null&&lE(c,o),o}function sE(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],uo(i,a)),o}function rE(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],uo(i,a)),o}function uE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function cE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function fE(i,t){const o={},a=u(t,["contents"]);if(a!=null){let c=sc(i,a);Array.isArray(c)&&(c=c.map(p=>p)),f(o,["requests[]","request","content"],c)}const r=u(t,["config"]);return r!=null&&(f(o,["_self"],dE(r,o)),aS(o,{"requests[].*":"requests[].request.*"})),o}function dE(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function pE(i,t){const o={},a=u(t,["fileName"]);a!=null&&f(o,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&f(o,["requests"],fE(i,r)),o}function mE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function hE(i){const t={},o=u(i,["id"]);o!=null&&f(t,["id"],o);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function gE(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&f(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&f(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function yE(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&f(o,["systemInstruction"],Hg(je(r)));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const p=u(t,["topP"]);p!=null&&f(a,["topP"],p);const g=u(t,["topK"]);g!=null&&f(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&f(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const S=u(t,["responseLogprobs"]);S!=null&&f(a,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&f(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&f(a,["presencePenalty"],A);const N=u(t,["frequencyPenalty"]);N!=null&&f(a,["frequencyPenalty"],N);const I=u(t,["seed"]);I!=null&&f(a,["seed"],I);const D=u(t,["responseMimeType"]);D!=null&&f(a,["responseMimeType"],D);const P=u(t,["responseSchema"]);P!=null&&f(a,["responseSchema"],rc(P));const z=u(t,["responseJsonSchema"]);if(z!=null&&f(a,["responseJsonSchema"],z),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=u(t,["safetySettings"]);if(o!==void 0&&Y!=null){let $=Y;Array.isArray($)&&($=$.map(te=>UE(te))),f(o,["safetySettings"],$)}const H=u(t,["tools"]);if(o!==void 0&&H!=null){let $=ro(H);Array.isArray($)&&($=$.map(te=>GE(so(te)))),f(o,["tools"],$)}const X=u(t,["toolConfig"]);if(o!==void 0&&X!=null&&f(o,["toolConfig"],LE(X)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=u(t,["cachedContent"]);o!==void 0&&k!=null&&f(o,["cachedContent"],vn(i,k));const J=u(t,["responseModalities"]);J!=null&&f(a,["responseModalities"],J);const le=u(t,["mediaResolution"]);le!=null&&f(a,["mediaResolution"],le);const Z=u(t,["speechConfig"]);if(Z!=null&&f(a,["speechConfig"],uc(Z)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=u(t,["thinkingConfig"]);ue!=null&&f(a,["thinkingConfig"],ue);const he=u(t,["imageConfig"]);he!=null&&f(a,["imageConfig"],CE(he));const ve=u(t,["enableEnhancedCivicAnswers"]);if(ve!=null&&f(a,["enableEnhancedCivicAnswers"],ve),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function vE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>eE(h))),f(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(i,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const p=u(i,["responseId"]);p!=null&&f(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function TE(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],uo(i,a)),o}function SE(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],uo(i,a)),o}function EE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function _E(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function CE(i){const t={},o=u(i,["aspectRatio"]);o!=null&&f(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function AE(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["request","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let g=Mt(r);Array.isArray(g)&&(g=g.map(y=>Hg(y))),f(o,["request","contents"],g)}const c=u(t,["metadata"]);c!=null&&f(o,["metadata"],c);const p=u(t,["config"]);return p!=null&&f(o,["request","generationConfig"],yE(i,p,u(o,["request"],{}))),o}function xE(i){const t={},o=u(i,["response"]);o!=null&&f(t,["response"],vE(o));const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["error"]);return r!=null&&f(t,["error"],r),t}function NE(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function RE(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const c=u(i,["filter"]);return t!==void 0&&c!=null&&f(t,["_query","filter"],c),o}function ME(i){const t={},o=u(i,["config"]);return o!=null&&NE(o,t),t}function bE(i){const t={},o=u(i,["config"]);return o!=null&&RE(o,t),t}function wE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>za(p))),f(t,["batchJobs"],c)}return t}function IE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>Fu(p))),f(t,["batchJobs"],c)}return t}function DE(i){const t={},o=u(i,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],mE(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],hE(p));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],$S(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function UE(i){const t={},o=u(i,["category"]);if(o!=null&&f(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function LE(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&f(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&f(t,["functionCallingConfig"],gE(a)),t}function GE(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],EE(p));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],_E(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(gn||(gn={}));class hi{constructor(t,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,r)}init(t,o,a){var r,c;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(c=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kE extends yn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new hi(gn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=Qh(this.apiClient,t),a=o._url,r=ee("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const E=S.systemInstruction;delete S.systemInstruction;const A=S.request;A.systemInstruction=E,S.request=A}h.push(S)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const c=this.getGcsUri(t),p=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?a.dest=`${c.slice(0,-6)}/dest`:a.dest=`${c}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=oE(this.apiClient,t);return g=ee("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Fu(v))}else{const h=Qh(this.apiClient,t);return g=ee("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>za(v))}}async createEmbeddingsInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=aE(this.apiClient,t);return c=ee("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>za(y))}}async get(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=SE(this.apiClient,t);return g=ee("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Fu(v))}else{const h=TE(this.apiClient,t);return g=ee("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>za(v))}}async cancel(t){var o,a,r,c;let p="",g={};if(this.apiClient.isVertexAI()){const y=jS(this.apiClient,t);p=ee("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=WS(this.apiClient,t);p=ee("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=bE(t);return g=ee("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=IE(v),E=new Yh;return Object.assign(E,S),E})}else{const h=ME(t);return g=ee("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=wE(v),E=new Yh;return Object.assign(E,S),E})}}async delete(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=rE(this.apiClient,t);return g=ee("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>cE(v))}else{const h=sE(this.apiClient,t);return g=ee("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>uE(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VE(i){const t={},o=u(i,["data"]);if(o!=null&&f(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Zh(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>a_(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function HE(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=Mt(p);Array.isArray(v)&&(v=v.map(S=>Zh(S))),f(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],Zh(je(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>r_(S))),f(t,["tools"],v)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&f(t,["toolConfig"],s_(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function zE(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let S=Mt(p);Array.isArray(S)&&(S=S.map(E=>E)),f(t,["contents"],S)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],je(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>u_(E))),f(t,["tools"],S)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&f(t,["toolConfig"],h);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&f(t,["encryption_spec","kmsKeyName"],v),o}function qE(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["model"],Ng(i,a));const r=u(t,["config"]);return r!=null&&HE(r,o),o}function PE(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["model"],Ng(i,a));const r=u(t,["config"]);return r!=null&&zE(r,o),o}function BE(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],vn(i,a)),o}function OE(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],vn(i,a)),o}function FE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function YE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function JE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function KE(i){const t={},o=u(i,["id"]);o!=null&&f(t,["id"],o);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function XE(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&f(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&f(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function QE(i){const t={},o=u(i,["description"]);o!=null&&f(t,["description"],o);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const p=u(i,["response"]);p!=null&&f(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&f(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function ZE(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],vn(i,a)),o}function $E(i,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],vn(i,a)),o}function WE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function jE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function e_(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function t_(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function n_(i){const t={},o=u(i,["config"]);return o!=null&&e_(o,t),t}function i_(i){const t={},o=u(i,["config"]);return o!=null&&t_(o,t),t}function o_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["cachedContents"],c)}return t}function l_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["cachedContents"],c)}return t}function a_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],JE(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],KE(p));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],VE(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function s_(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&f(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&f(t,["functionCallingConfig"],XE(a)),t}function r_(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],WE(p));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],jE(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}function u_(i){const t={},o=u(i,["retrieval"]);o!=null&&f(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&f(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&f(t,["codeExecution"],r);const c=u(i,["enterpriseWebSearch"]);c!=null&&f(t,["enterpriseWebSearch"],c);const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>QE(E))),f(t,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&f(t,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function c_(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),o}function f_(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),o}function d_(i,t){const o={},a=u(t,["name"]);a!=null&&f(o,["_url","name"],vn(i,a));const r=u(t,["config"]);return r!=null&&c_(r,o),o}function p_(i,t){const o={},a=u(t,["name"]);a!=null&&f(o,["_url","name"],vn(i,a));const r=u(t,["config"]);return r!=null&&f_(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m_ extends yn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new hi(gn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=PE(this.apiClient,t);return g=ee("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=qE(this.apiClient,t);return g=ee("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=$E(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=ZE(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=OE(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=YE(v),E=new Oh;return Object.assign(E,S),E})}else{const h=BE(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=FE(v),E=new Oh;return Object.assign(E,S),E})}}async update(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=p_(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=d_(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=i_(t);return g=ee("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=l_(v),E=new Fh;return Object.assign(E,S),E})}else{const h=n_(t);return g=ee("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=o_(v),E=new Fh;return Object.assign(E,S),E})}}}function Xa(i,t){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(o[a[r]]=i[a[r]]);return o}function $h(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(i){return this instanceof fe?(this.v=i,this):new fe(i)}function Ft(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,t||[]),r,c=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(A){return function(N){return Promise.resolve(N).then(A,S)}}function g(A,N){a[A]&&(r[A]=function(I){return new Promise(function(D,P){c.push([A,I,D,P])>1||y(A,I)})},N&&(r[A]=N(r[A])))}function y(A,N){try{h(a[A](N))}catch(I){E(c[0][3],I)}}function h(A){A.value instanceof fe?Promise.resolve(A.value.v).then(v,S):E(c[0][2],A)}function v(A){y("next",A)}function S(A){y("throw",A)}function E(A,N){A(N),c.shift(),c.length&&y(c[0][0],c[0][1])}}function Yt(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof $h=="function"?$h(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(c){o[c]=i[c]&&function(p){return new Promise(function(g,y){p=i[c](p),r(g,y,p.done,p.value)})}}function r(c,p,g,y){Promise.resolve(y).then(function(h){c({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h_(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:zg(o)}function zg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function g_(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Wh(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let c=!0;for(;a<o&&i[a].role==="model";)r.push(i[a]),c&&!zg(i[a])&&(c=!1),a++;c?t.push(...r):t.pop()}return t}class y_{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new v_(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class v_{constructor(t,o,a,r={},c=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=r,this.history=c,this.sendPromise=Promise.resolve(),g_(c)}async sendMessage(t){var o;await this.sendPromise;const a=je(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var c,p,g;const y=await r,h=(p=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let E=[];v!=null&&(E=(g=v.slice(S))!==null&&g!==void 0?g:[]);const A=h?[h]:[];this.recordHistory(a,A,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const a=je(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const c=await r;return this.processStreamResponse(c,a)}getHistory(t=!1){const o=t?Wh(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return Ft(this,arguments,function*(){var r,c,p,g,y,h;const v=[];try{for(var S=!0,E=Yt(t),A;A=yield fe(E.next()),r=A.done,!r;S=!0){g=A.value,S=!1;const N=g;if(h_(N)){const I=(h=(y=N.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;I!==void 0&&v.push(I)}yield yield fe(N)}}catch(N){c={error:N}}finally{try{!S&&!r&&(p=E.return)&&(yield fe(p.call(E)))}finally{if(c)throw c.error}}this.recordHistory(o,v)})}recordHistory(t,o,a){let r=[];o.length>0&&o.every(c=>c.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Wh(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dl extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,dl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T_(i){const t={},o=u(i,["file"]);return o!=null&&f(t,["file"],o),t}function S_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function E_(i){const t={},o=u(i,["name"]);return o!=null&&f(t,["_url","file"],Dg(o)),t}function __(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function C_(i){const t={},o=u(i,["name"]);return o!=null&&f(t,["_url","file"],Dg(o)),t}function A_(i){const t={},o=u(i,["uris"]);return o!=null&&f(t,["uris"],o),t}function x_(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function N_(i){const t={},o=u(i,["config"]);return o!=null&&x_(o,t),t}function R_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["files"],c)}return t}function M_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["files"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["files"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class b_ extends yn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new hi(gn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=N_(t);return c=ee("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=R_(y),v=new bS;return Object.assign(v,h),v})}}async createInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=T_(t);return c=ee("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=S_(y),v=new wS;return Object.assign(v,h),v})}}async get(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=C_(t);return c=ee("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=E_(t);return c=ee("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=__(y),v=new IS;return Object.assign(v,h),v})}}async registerFilesInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=A_(t);return c=ee("files:register",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=M_(y),v=new DS;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qa(i){const t={},o=u(i,["data"]);if(o!=null&&f(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function w_(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>J_(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function I_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function D_(i){const t={},o=u(i,["id"]);o!=null&&f(t,["id"],o);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function U_(i){const t={},o=u(i,["description"]);o!=null&&f(t,["description"],o);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const p=u(i,["response"]);p!=null&&f(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&f(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function L_(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&f(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(i,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const p=u(i,["enableAffectiveDialog"]);p!=null&&f(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&f(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&f(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&f(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const S=u(i,["presencePenalty"]);S!=null&&f(t,["presencePenalty"],S);const E=u(i,["responseLogprobs"]);E!=null&&f(t,["responseLogprobs"],E);const A=u(i,["responseMimeType"]);A!=null&&f(t,["responseMimeType"],A);const N=u(i,["responseModalities"]);N!=null&&f(t,["responseModalities"],N);const I=u(i,["responseSchema"]);I!=null&&f(t,["responseSchema"],I);const D=u(i,["routingConfig"]);D!=null&&f(t,["routingConfig"],D);const P=u(i,["seed"]);P!=null&&f(t,["seed"],P);const z=u(i,["speechConfig"]);z!=null&&f(t,["speechConfig"],z);const Y=u(i,["stopSequences"]);Y!=null&&f(t,["stopSequences"],Y);const H=u(i,["temperature"]);H!=null&&f(t,["temperature"],H);const X=u(i,["thinkingConfig"]);X!=null&&f(t,["thinkingConfig"],X);const k=u(i,["topK"]);k!=null&&f(t,["topK"],k);const J=u(i,["topP"]);if(J!=null&&f(t,["topP"],J),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function G_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function k_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function V_(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],cc(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],A);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&f(t,["setup","systemInstruction"],w_(je(N)));const I=u(i,["tools"]);if(t!==void 0&&I!=null){let k=ro(I);Array.isArray(k)&&(k=k.map(J=>X_(so(J)))),f(t,["setup","tools"],k)}const D=u(i,["sessionResumption"]);t!==void 0&&D!=null&&f(t,["setup","sessionResumption"],K_(D));const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&f(t,["setup","inputAudioTranscription"],P);const z=u(i,["outputAudioTranscription"]);t!==void 0&&z!=null&&f(t,["setup","outputAudioTranscription"],z);const Y=u(i,["realtimeInputConfig"]);t!==void 0&&Y!=null&&f(t,["setup","realtimeInputConfig"],Y);const H=u(i,["contextWindowCompression"]);t!==void 0&&H!=null&&f(t,["setup","contextWindowCompression"],H);const X=u(i,["proactivity"]);if(t!==void 0&&X!=null&&f(t,["setup","proactivity"],X),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function H_(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],L_(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],cc(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],A);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&f(t,["setup","systemInstruction"],je(N));const I=u(i,["tools"]);if(t!==void 0&&I!=null){let J=ro(I);Array.isArray(J)&&(J=J.map(le=>Q_(so(le)))),f(t,["setup","tools"],J)}const D=u(i,["sessionResumption"]);t!==void 0&&D!=null&&f(t,["setup","sessionResumption"],D);const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&f(t,["setup","inputAudioTranscription"],P);const z=u(i,["outputAudioTranscription"]);t!==void 0&&z!=null&&f(t,["setup","outputAudioTranscription"],z);const Y=u(i,["realtimeInputConfig"]);t!==void 0&&Y!=null&&f(t,["setup","realtimeInputConfig"],Y);const H=u(i,["contextWindowCompression"]);t!==void 0&&H!=null&&f(t,["setup","contextWindowCompression"],H);const X=u(i,["proactivity"]);t!==void 0&&X!=null&&f(t,["setup","proactivity"],X);const k=u(i,["explicitVadSignal"]);return t!==void 0&&k!=null&&f(t,["setup","explicitVadSignal"],k),o}function z_(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&f(o,["config"],V_(r,o)),o}function q_(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&f(o,["config"],H_(r,o)),o}function P_(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&f(t,["musicGenerationConfig"],o),t}function B_(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["weightedPrompts"],a)}return t}function O_(i){const t={},o=u(i,["media"]);if(o!=null){let h=Rg(o);Array.isArray(h)&&(h=h.map(v=>qa(v))),f(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&f(t,["audio"],qa(bg(a)));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],qa(Mg(c)));const p=u(i,["text"]);p!=null&&f(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&f(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function F_(i){const t={},o=u(i,["media"]);if(o!=null){let h=Rg(o);Array.isArray(h)&&(h=h.map(v=>v)),f(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&f(t,["audio"],bg(a));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],Mg(c));const p=u(i,["text"]);p!=null&&f(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&f(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function Y_(i){const t={},o=u(i,["setupComplete"]);o!=null&&f(t,["setupComplete"],o);const a=u(i,["serverContent"]);a!=null&&f(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&f(t,["toolCall"],r);const c=u(i,["toolCallCancellation"]);c!=null&&f(t,["toolCallCancellation"],c);const p=u(i,["usageMetadata"]);p!=null&&f(t,["usageMetadata"],Z_(p));const g=u(i,["goAway"]);g!=null&&f(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&f(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);h!=null&&f(t,["voiceActivityDetectionSignal"],h);const v=u(i,["voiceActivity"]);return v!=null&&f(t,["voiceActivity"],$_(v)),t}function J_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],I_(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],D_(p));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],qa(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function K_(i){const t={},o=u(i,["handle"]);if(o!=null&&f(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function X_(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],G_(p));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],k_(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}function Q_(i){const t={},o=u(i,["retrieval"]);o!=null&&f(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&f(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&f(t,["codeExecution"],r);const c=u(i,["enterpriseWebSearch"]);c!=null&&f(t,["enterpriseWebSearch"],c);const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>U_(E))),f(t,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&f(t,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function Z_(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&f(t,["promptTokenCount"],o);const a=u(i,["cachedContentTokenCount"]);a!=null&&f(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&f(t,["responseTokenCount"],r);const c=u(i,["toolUsePromptTokenCount"]);c!=null&&f(t,["toolUsePromptTokenCount"],c);const p=u(i,["thoughtsTokenCount"]);p!=null&&f(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&f(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(N=>N)),f(t,["promptTokensDetails"],A)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(N=>N)),f(t,["cacheTokensDetails"],A)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(N=>N)),f(t,["responseTokensDetails"],A)}const S=u(i,["toolUsePromptTokensDetails"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(N=>N)),f(t,["toolUsePromptTokensDetails"],A)}const E=u(i,["trafficType"]);return E!=null&&f(t,["trafficType"],E),t}function $_(i){const t={},o=u(i,["type"]);return o!=null&&f(t,["voiceActivityType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W_(i,t){const o={},a=u(i,["data"]);if(a!=null&&f(o,["data"],a),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["mimeType"]);return r!=null&&f(o,["mimeType"],r),o}function j_(i,t){const o={},a=u(i,["content"]);a!=null&&f(o,["content"],a);const r=u(i,["citationMetadata"]);r!=null&&f(o,["citationMetadata"],eC(r));const c=u(i,["tokenCount"]);c!=null&&f(o,["tokenCount"],c);const p=u(i,["finishReason"]);p!=null&&f(o,["finishReason"],p);const g=u(i,["avgLogprobs"]);g!=null&&f(o,["avgLogprobs"],g);const y=u(i,["groundingMetadata"]);y!=null&&f(o,["groundingMetadata"],y);const h=u(i,["index"]);h!=null&&f(o,["index"],h);const v=u(i,["logprobsResult"]);v!=null&&f(o,["logprobsResult"],v);const S=u(i,["safetyRatings"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(N=>N)),f(o,["safetyRatings"],A)}const E=u(i,["urlContextMetadata"]);return E!=null&&f(o,["urlContextMetadata"],E),o}function eC(i,t){const o={},a=u(i,["citationSources"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(o,["citations"],r)}return o}function tC(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["contents"]);if(c!=null){let p=Mt(c);Array.isArray(p)&&(p=p.map(g=>g)),f(a,["contents"],p)}return a}function nC(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["tokensInfo"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(o,["tokensInfo"],c)}return o}function iC(i,t){const o={},a=u(i,["values"]);a!=null&&f(o,["values"],a);const r=u(i,["statistics"]);return r!=null&&f(o,["statistics"],oC(r)),o}function oC(i,t){const o={},a=u(i,["truncated"]);a!=null&&f(o,["truncated"],a);const r=u(i,["token_count"]);return r!=null&&f(o,["tokenCount"],r),o}function pl(i,t){const o={},a=u(i,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>pA(p))),f(o,["parts"],c)}const r=u(i,["role"]);return r!=null&&f(o,["role"],r),o}function lC(i,t){const o={},a=u(i,["controlType"]);a!=null&&f(o,["controlType"],a);const r=u(i,["enableControlImageComputation"]);return r!=null&&f(o,["computeControl"],r),o}function aC(i,t){const o={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return o}function sC(i,t,o){const a={},r=u(i,["systemInstruction"]);t!==void 0&&r!=null&&f(t,["systemInstruction"],je(r));const c=u(i,["tools"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>Og(y))),f(t,["tools"],g)}const p=u(i,["generationConfig"]);return t!==void 0&&p!=null&&f(t,["generationConfig"],WC(p)),a}function rC(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["contents"]);if(c!=null){let g=Mt(c);Array.isArray(g)&&(g=g.map(y=>pl(y))),f(a,["contents"],g)}const p=u(t,["config"]);return p!=null&&aC(p),a}function uC(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["contents"]);if(c!=null){let g=Mt(c);Array.isArray(g)&&(g=g.map(y=>y)),f(a,["contents"],g)}const p=u(t,["config"]);return p!=null&&sC(p,a),a}function cC(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["totalTokens"]);r!=null&&f(o,["totalTokens"],r);const c=u(i,["cachedContentTokenCount"]);return c!=null&&f(o,["cachedContentTokenCount"],c),o}function fC(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["totalTokens"]);return r!=null&&f(o,["totalTokens"],r),o}function dC(i,t,o){const a={},r=u(t,["model"]);return r!=null&&f(a,["_url","name"],Me(i,r)),a}function pC(i,t,o){const a={},r=u(t,["model"]);return r!=null&&f(a,["_url","name"],Me(i,r)),a}function mC(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function hC(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function gC(i,t,o){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["negativePrompt"]);t!==void 0&&c!=null&&f(t,["parameters","negativePrompt"],c);const p=u(i,["numberOfImages"]);t!==void 0&&p!=null&&f(t,["parameters","sampleCount"],p);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&f(t,["parameters","aspectRatio"],g);const y=u(i,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const h=u(i,["seed"]);t!==void 0&&h!=null&&f(t,["parameters","seed"],h);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&f(t,["parameters","safetySetting"],v);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&f(t,["parameters","personGeneration"],S);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&f(t,["parameters","includeSafetyAttributes"],E);const A=u(i,["includeRaiReason"]);t!==void 0&&A!=null&&f(t,["parameters","includeRaiReason"],A);const N=u(i,["language"]);t!==void 0&&N!=null&&f(t,["parameters","language"],N);const I=u(i,["outputMimeType"]);t!==void 0&&I!=null&&f(t,["parameters","outputOptions","mimeType"],I);const D=u(i,["outputCompressionQuality"]);t!==void 0&&D!=null&&f(t,["parameters","outputOptions","compressionQuality"],D);const P=u(i,["addWatermark"]);t!==void 0&&P!=null&&f(t,["parameters","addWatermark"],P);const z=u(i,["labels"]);t!==void 0&&z!=null&&f(t,["labels"],z);const Y=u(i,["editMode"]);t!==void 0&&Y!=null&&f(t,["parameters","editMode"],Y);const H=u(i,["baseSteps"]);return t!==void 0&&H!=null&&f(t,["parameters","editConfig","baseSteps"],H),a}function yC(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const p=u(t,["referenceImages"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(h=>TA(h))),f(a,["instances[0]","referenceImages"],y)}const g=u(t,["config"]);return g!=null&&gC(g,a),a}function vC(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>Wa(p))),f(o,["generatedImages"],c)}return o}function TC(i,t,o){const a={},r=u(i,["taskType"]);t!==void 0&&r!=null&&f(t,["requests[]","taskType"],r);const c=u(i,["title"]);t!==void 0&&c!=null&&f(t,["requests[]","title"],c);const p=u(i,["outputDimensionality"]);if(t!==void 0&&p!=null&&f(t,["requests[]","outputDimensionality"],p),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function SC(i,t,o){const a={};let r=u(o,["embeddingApiType"]);if(r===void 0&&(r="PREDICT"),r==="PREDICT"){const h=u(i,["taskType"]);t!==void 0&&h!=null&&f(t,["instances[]","task_type"],h)}else if(r==="EMBED_CONTENT"){const h=u(i,["taskType"]);t!==void 0&&h!=null&&f(t,["taskType"],h)}let c=u(o,["embeddingApiType"]);if(c===void 0&&(c="PREDICT"),c==="PREDICT"){const h=u(i,["title"]);t!==void 0&&h!=null&&f(t,["instances[]","title"],h)}else if(c==="EMBED_CONTENT"){const h=u(i,["title"]);t!==void 0&&h!=null&&f(t,["title"],h)}let p=u(o,["embeddingApiType"]);if(p===void 0&&(p="PREDICT"),p==="PREDICT"){const h=u(i,["outputDimensionality"]);t!==void 0&&h!=null&&f(t,["parameters","outputDimensionality"],h)}else if(p==="EMBED_CONTENT"){const h=u(i,["outputDimensionality"]);t!==void 0&&h!=null&&f(t,["outputDimensionality"],h)}let g=u(o,["embeddingApiType"]);if(g===void 0&&(g="PREDICT"),g==="PREDICT"){const h=u(i,["mimeType"]);t!==void 0&&h!=null&&f(t,["instances[]","mimeType"],h)}let y=u(o,["embeddingApiType"]);if(y===void 0&&(y="PREDICT"),y==="PREDICT"){const h=u(i,["autoTruncate"]);t!==void 0&&h!=null&&f(t,["parameters","autoTruncate"],h)}else if(y==="EMBED_CONTENT"){const h=u(i,["autoTruncate"]);t!==void 0&&h!=null&&f(t,["autoTruncate"],h)}return a}function EC(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["contents"]);if(c!=null){let h=sc(i,c);Array.isArray(h)&&(h=h.map(v=>v)),f(a,["requests[]","content"],h)}const p=u(t,["content"]);p!=null&&pl(je(p));const g=u(t,["config"]);g!=null&&TC(g,a);const y=u(t,["model"]);return y!==void 0&&f(a,["requests[]","model"],Me(i,y)),a}function _C(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));let c=u(o,["embeddingApiType"]);if(c===void 0&&(c="PREDICT"),c==="PREDICT"){const y=u(t,["contents"]);if(y!=null){let h=sc(i,y);Array.isArray(h)&&(h=h.map(v=>v)),f(a,["instances[]","content"],h)}}let p=u(o,["embeddingApiType"]);if(p===void 0&&(p="PREDICT"),p==="EMBED_CONTENT"){const y=u(t,["content"]);y!=null&&f(a,["content"],je(y))}const g=u(t,["config"]);return g!=null&&SC(g,a,o),a}function CC(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["embeddings"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>g)),f(o,["embeddings"],p)}const c=u(i,["metadata"]);return c!=null&&f(o,["metadata"],c),o}function AC(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["predictions[]","embeddings"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>iC(g))),f(o,["embeddings"],p)}const c=u(i,["metadata"]);if(c!=null&&f(o,["metadata"],c),t&&u(t,["embeddingApiType"])==="EMBED_CONTENT"){const p=u(i,["embedding"]),g=u(i,["usageMetadata"]),y=u(i,["truncated"]);if(p){const h={};g&&g.promptTokenCount&&(h.tokenCount=g.promptTokenCount),y&&(h.truncated=y),p.statistics=h,f(o,["embeddings"],[p])}}return o}function xC(i,t){const o={},a=u(i,["endpoint"]);a!=null&&f(o,["name"],a);const r=u(i,["deployedModelId"]);return r!=null&&f(o,["deployedModelId"],r),o}function NC(i,t){const o={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["fileUri"]);a!=null&&f(o,["fileUri"],a);const r=u(i,["mimeType"]);return r!=null&&f(o,["mimeType"],r),o}function RC(i,t){const o={},a=u(i,["id"]);a!=null&&f(o,["id"],a);const r=u(i,["args"]);r!=null&&f(o,["args"],r);const c=u(i,["name"]);if(c!=null&&f(o,["name"],c),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return o}function MC(i,t){const o={},a=u(i,["allowedFunctionNames"]);a!=null&&f(o,["allowedFunctionNames"],a);const r=u(i,["mode"]);if(r!=null&&f(o,["mode"],r),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return o}function bC(i,t){const o={},a=u(i,["description"]);a!=null&&f(o,["description"],a);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const c=u(i,["parameters"]);c!=null&&f(o,["parameters"],c);const p=u(i,["parametersJsonSchema"]);p!=null&&f(o,["parametersJsonSchema"],p);const g=u(i,["response"]);g!=null&&f(o,["response"],g);const y=u(i,["responseJsonSchema"]);if(y!=null&&f(o,["responseJsonSchema"],y),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return o}function wC(i,t,o,a){const r={},c=u(t,["systemInstruction"]);o!==void 0&&c!=null&&f(o,["systemInstruction"],pl(je(c)));const p=u(t,["temperature"]);p!=null&&f(r,["temperature"],p);const g=u(t,["topP"]);g!=null&&f(r,["topP"],g);const y=u(t,["topK"]);y!=null&&f(r,["topK"],y);const h=u(t,["candidateCount"]);h!=null&&f(r,["candidateCount"],h);const v=u(t,["maxOutputTokens"]);v!=null&&f(r,["maxOutputTokens"],v);const S=u(t,["stopSequences"]);S!=null&&f(r,["stopSequences"],S);const E=u(t,["responseLogprobs"]);E!=null&&f(r,["responseLogprobs"],E);const A=u(t,["logprobs"]);A!=null&&f(r,["logprobs"],A);const N=u(t,["presencePenalty"]);N!=null&&f(r,["presencePenalty"],N);const I=u(t,["frequencyPenalty"]);I!=null&&f(r,["frequencyPenalty"],I);const D=u(t,["seed"]);D!=null&&f(r,["seed"],D);const P=u(t,["responseMimeType"]);P!=null&&f(r,["responseMimeType"],P);const z=u(t,["responseSchema"]);z!=null&&f(r,["responseSchema"],rc(z));const Y=u(t,["responseJsonSchema"]);if(Y!=null&&f(r,["responseJsonSchema"],Y),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=u(t,["safetySettings"]);if(o!==void 0&&H!=null){let te=H;Array.isArray(te)&&(te=te.map(se=>SA(se))),f(o,["safetySettings"],te)}const X=u(t,["tools"]);if(o!==void 0&&X!=null){let te=ro(X);Array.isArray(te)&&(te=te.map(se=>RA(so(se)))),f(o,["tools"],te)}const k=u(t,["toolConfig"]);if(o!==void 0&&k!=null&&f(o,["toolConfig"],NA(k)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=u(t,["cachedContent"]);o!==void 0&&J!=null&&f(o,["cachedContent"],vn(i,J));const le=u(t,["responseModalities"]);le!=null&&f(r,["responseModalities"],le);const Z=u(t,["mediaResolution"]);Z!=null&&f(r,["mediaResolution"],Z);const ue=u(t,["speechConfig"]);if(ue!=null&&f(r,["speechConfig"],uc(ue)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const he=u(t,["thinkingConfig"]);he!=null&&f(r,["thinkingConfig"],he);const ve=u(t,["imageConfig"]);ve!=null&&f(r,["imageConfig"],iA(ve));const $=u(t,["enableEnhancedCivicAnswers"]);if($!=null&&f(r,["enableEnhancedCivicAnswers"],$),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function IC(i,t,o,a){const r={},c=u(t,["systemInstruction"]);o!==void 0&&c!=null&&f(o,["systemInstruction"],je(c));const p=u(t,["temperature"]);p!=null&&f(r,["temperature"],p);const g=u(t,["topP"]);g!=null&&f(r,["topP"],g);const y=u(t,["topK"]);y!=null&&f(r,["topK"],y);const h=u(t,["candidateCount"]);h!=null&&f(r,["candidateCount"],h);const v=u(t,["maxOutputTokens"]);v!=null&&f(r,["maxOutputTokens"],v);const S=u(t,["stopSequences"]);S!=null&&f(r,["stopSequences"],S);const E=u(t,["responseLogprobs"]);E!=null&&f(r,["responseLogprobs"],E);const A=u(t,["logprobs"]);A!=null&&f(r,["logprobs"],A);const N=u(t,["presencePenalty"]);N!=null&&f(r,["presencePenalty"],N);const I=u(t,["frequencyPenalty"]);I!=null&&f(r,["frequencyPenalty"],I);const D=u(t,["seed"]);D!=null&&f(r,["seed"],D);const P=u(t,["responseMimeType"]);P!=null&&f(r,["responseMimeType"],P);const z=u(t,["responseSchema"]);z!=null&&f(r,["responseSchema"],rc(z));const Y=u(t,["responseJsonSchema"]);Y!=null&&f(r,["responseJsonSchema"],Y);const H=u(t,["routingConfig"]);H!=null&&f(r,["routingConfig"],H);const X=u(t,["modelSelectionConfig"]);X!=null&&f(r,["modelConfig"],X);const k=u(t,["safetySettings"]);if(o!==void 0&&k!=null){let ne=k;Array.isArray(ne)&&(ne=ne.map(de=>de)),f(o,["safetySettings"],ne)}const J=u(t,["tools"]);if(o!==void 0&&J!=null){let ne=ro(J);Array.isArray(ne)&&(ne=ne.map(de=>Og(so(de)))),f(o,["tools"],ne)}const le=u(t,["toolConfig"]);o!==void 0&&le!=null&&f(o,["toolConfig"],le);const Z=u(t,["labels"]);o!==void 0&&Z!=null&&f(o,["labels"],Z);const ue=u(t,["cachedContent"]);o!==void 0&&ue!=null&&f(o,["cachedContent"],vn(i,ue));const he=u(t,["responseModalities"]);he!=null&&f(r,["responseModalities"],he);const ve=u(t,["mediaResolution"]);ve!=null&&f(r,["mediaResolution"],ve);const $=u(t,["speechConfig"]);$!=null&&f(r,["speechConfig"],uc($));const te=u(t,["audioTimestamp"]);te!=null&&f(r,["audioTimestamp"],te);const se=u(t,["thinkingConfig"]);se!=null&&f(r,["thinkingConfig"],se);const b=u(t,["imageConfig"]);if(b!=null&&f(r,["imageConfig"],oA(b)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const K=u(t,["modelArmorConfig"]);return o!==void 0&&K!=null&&f(o,["modelArmorConfig"],K),r}function jh(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["contents"]);if(c!=null){let g=Mt(c);Array.isArray(g)&&(g=g.map(y=>pl(y))),f(a,["contents"],g)}const p=u(t,["config"]);return p!=null&&f(a,["generationConfig"],wC(i,p,a)),a}function eg(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["contents"]);if(c!=null){let g=Mt(c);Array.isArray(g)&&(g=g.map(y=>y)),f(a,["contents"],g)}const p=u(t,["config"]);return p!=null&&f(a,["generationConfig"],IC(i,p,a)),a}function tg(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(v=>j_(v))),f(o,["candidates"],h)}const c=u(i,["modelVersion"]);c!=null&&f(o,["modelVersion"],c);const p=u(i,["promptFeedback"]);p!=null&&f(o,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&f(o,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&f(o,["usageMetadata"],y),o}function ng(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["candidates"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(S=>S)),f(o,["candidates"],v)}const c=u(i,["createTime"]);c!=null&&f(o,["createTime"],c);const p=u(i,["modelVersion"]);p!=null&&f(o,["modelVersion"],p);const g=u(i,["promptFeedback"]);g!=null&&f(o,["promptFeedback"],g);const y=u(i,["responseId"]);y!=null&&f(o,["responseId"],y);const h=u(i,["usageMetadata"]);return h!=null&&f(o,["usageMetadata"],h),o}function DC(i,t,o){const a={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["aspectRatio"]);t!==void 0&&c!=null&&f(t,["parameters","aspectRatio"],c);const p=u(i,["guidanceScale"]);if(t!==void 0&&p!=null&&f(t,["parameters","guidanceScale"],p),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&f(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const h=u(i,["includeSafetyAttributes"]);t!==void 0&&h!=null&&f(t,["parameters","includeSafetyAttributes"],h);const v=u(i,["includeRaiReason"]);t!==void 0&&v!=null&&f(t,["parameters","includeRaiReason"],v);const S=u(i,["language"]);t!==void 0&&S!=null&&f(t,["parameters","language"],S);const E=u(i,["outputMimeType"]);t!==void 0&&E!=null&&f(t,["parameters","outputOptions","mimeType"],E);const A=u(i,["outputCompressionQuality"]);if(t!==void 0&&A!=null&&f(t,["parameters","outputOptions","compressionQuality"],A),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=u(i,["imageSize"]);if(t!==void 0&&N!=null&&f(t,["parameters","sampleImageSize"],N),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function UC(i,t,o){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["negativePrompt"]);t!==void 0&&c!=null&&f(t,["parameters","negativePrompt"],c);const p=u(i,["numberOfImages"]);t!==void 0&&p!=null&&f(t,["parameters","sampleCount"],p);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&f(t,["parameters","aspectRatio"],g);const y=u(i,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const h=u(i,["seed"]);t!==void 0&&h!=null&&f(t,["parameters","seed"],h);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&f(t,["parameters","safetySetting"],v);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&f(t,["parameters","personGeneration"],S);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&f(t,["parameters","includeSafetyAttributes"],E);const A=u(i,["includeRaiReason"]);t!==void 0&&A!=null&&f(t,["parameters","includeRaiReason"],A);const N=u(i,["language"]);t!==void 0&&N!=null&&f(t,["parameters","language"],N);const I=u(i,["outputMimeType"]);t!==void 0&&I!=null&&f(t,["parameters","outputOptions","mimeType"],I);const D=u(i,["outputCompressionQuality"]);t!==void 0&&D!=null&&f(t,["parameters","outputOptions","compressionQuality"],D);const P=u(i,["addWatermark"]);t!==void 0&&P!=null&&f(t,["parameters","addWatermark"],P);const z=u(i,["labels"]);t!==void 0&&z!=null&&f(t,["labels"],z);const Y=u(i,["imageSize"]);t!==void 0&&Y!=null&&f(t,["parameters","sampleImageSize"],Y);const H=u(i,["enhancePrompt"]);return t!==void 0&&H!=null&&f(t,["parameters","enhancePrompt"],H),a}function LC(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const p=u(t,["config"]);return p!=null&&DC(p,a),a}function GC(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const p=u(t,["config"]);return p!=null&&UC(p,a),a}function kC(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>XC(g))),f(o,["generatedImages"],p)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&f(o,["positivePromptSafetyAttributes"],Pg(c)),o}function VC(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>Wa(g))),f(o,["generatedImages"],p)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&f(o,["positivePromptSafetyAttributes"],Bg(c)),o}function HC(i,t,o){const a={},r=u(i,["numberOfVideos"]);if(t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=u(i,["durationSeconds"]);if(t!==void 0&&c!=null&&f(t,["parameters","durationSeconds"],c),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&f(t,["parameters","aspectRatio"],p);const g=u(i,["resolution"]);t!==void 0&&g!=null&&f(t,["parameters","resolution"],g);const y=u(i,["personGeneration"]);if(t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=u(i,["negativePrompt"]);t!==void 0&&h!=null&&f(t,["parameters","negativePrompt"],h);const v=u(i,["enhancePrompt"]);if(t!==void 0&&v!=null&&f(t,["parameters","enhancePrompt"],v),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const S=u(i,["lastFrame"]);t!==void 0&&S!=null&&f(t,["instances[0]","lastFrame"],ja(S));const E=u(i,["referenceImages"]);if(t!==void 0&&E!=null){let A=E;Array.isArray(A)&&(A=A.map(N=>qA(N))),f(t,["instances[0]","referenceImages"],A)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return a}function zC(i,t,o){const a={},r=u(i,["numberOfVideos"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["outputGcsUri"]);t!==void 0&&c!=null&&f(t,["parameters","storageUri"],c);const p=u(i,["fps"]);t!==void 0&&p!=null&&f(t,["parameters","fps"],p);const g=u(i,["durationSeconds"]);t!==void 0&&g!=null&&f(t,["parameters","durationSeconds"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const h=u(i,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const v=u(i,["resolution"]);t!==void 0&&v!=null&&f(t,["parameters","resolution"],v);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&f(t,["parameters","personGeneration"],S);const E=u(i,["pubsubTopic"]);t!==void 0&&E!=null&&f(t,["parameters","pubsubTopic"],E);const A=u(i,["negativePrompt"]);t!==void 0&&A!=null&&f(t,["parameters","negativePrompt"],A);const N=u(i,["enhancePrompt"]);t!==void 0&&N!=null&&f(t,["parameters","enhancePrompt"],N);const I=u(i,["generateAudio"]);t!==void 0&&I!=null&&f(t,["parameters","generateAudio"],I);const D=u(i,["lastFrame"]);t!==void 0&&D!=null&&f(t,["instances[0]","lastFrame"],Jt(D));const P=u(i,["referenceImages"]);if(t!==void 0&&P!=null){let H=P;Array.isArray(H)&&(H=H.map(X=>PA(X))),f(t,["instances[0]","referenceImages"],H)}const z=u(i,["mask"]);t!==void 0&&z!=null&&f(t,["instances[0]","mask"],zA(z));const Y=u(i,["compressionQuality"]);return t!==void 0&&Y!=null&&f(t,["parameters","compressionQuality"],Y),a}function qC(i,t){const o={},a=u(i,["name"]);a!=null&&f(o,["name"],a);const r=u(i,["metadata"]);r!=null&&f(o,["metadata"],r);const c=u(i,["done"]);c!=null&&f(o,["done"],c);const p=u(i,["error"]);p!=null&&f(o,["error"],p);const g=u(i,["response","generateVideoResponse"]);return g!=null&&f(o,["response"],FC(g)),o}function PC(i,t){const o={},a=u(i,["name"]);a!=null&&f(o,["name"],a);const r=u(i,["metadata"]);r!=null&&f(o,["metadata"],r);const c=u(i,["done"]);c!=null&&f(o,["done"],c);const p=u(i,["error"]);p!=null&&f(o,["error"],p);const g=u(i,["response"]);return g!=null&&f(o,["response"],YC(g)),o}function BC(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const p=u(t,["image"]);p!=null&&f(a,["instances[0]","image"],ja(p));const g=u(t,["video"]);g!=null&&f(a,["instances[0]","video"],Fg(g));const y=u(t,["source"]);y!=null&&JC(y,a);const h=u(t,["config"]);return h!=null&&HC(h,a),a}function OC(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const p=u(t,["image"]);p!=null&&f(a,["instances[0]","image"],Jt(p));const g=u(t,["video"]);g!=null&&f(a,["instances[0]","video"],Yg(g));const y=u(t,["source"]);y!=null&&KC(y,a);const h=u(t,["config"]);return h!=null&&zC(h,a),a}function FC(i,t){const o={},a=u(i,["generatedSamples"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>ZC(g))),f(o,["generatedVideos"],p)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&f(o,["raiMediaFilteredCount"],r);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&f(o,["raiMediaFilteredReasons"],c),o}function YC(i,t){const o={},a=u(i,["videos"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>$C(g))),f(o,["generatedVideos"],p)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&f(o,["raiMediaFilteredCount"],r);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&f(o,["raiMediaFilteredReasons"],c),o}function JC(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],ja(c));const p=u(i,["video"]);return t!==void 0&&p!=null&&f(t,["instances[0]","video"],Fg(p)),a}function KC(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],Jt(c));const p=u(i,["video"]);return t!==void 0&&p!=null&&f(t,["instances[0]","video"],Yg(p)),a}function XC(i,t){const o={},a=u(i,["_self"]);a!=null&&f(o,["image"],lA(a));const r=u(i,["raiFilteredReason"]);r!=null&&f(o,["raiFilteredReason"],r);const c=u(i,["_self"]);return c!=null&&f(o,["safetyAttributes"],Pg(c)),o}function Wa(i,t){const o={},a=u(i,["_self"]);a!=null&&f(o,["image"],qg(a));const r=u(i,["raiFilteredReason"]);r!=null&&f(o,["raiFilteredReason"],r);const c=u(i,["_self"]);c!=null&&f(o,["safetyAttributes"],Bg(c));const p=u(i,["prompt"]);return p!=null&&f(o,["enhancedPrompt"],p),o}function QC(i,t){const o={},a=u(i,["_self"]);a!=null&&f(o,["mask"],qg(a));const r=u(i,["labels"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(o,["labels"],c)}return o}function ZC(i,t){const o={},a=u(i,["video"]);return a!=null&&f(o,["video"],VA(a)),o}function $C(i,t){const o={},a=u(i,["_self"]);return a!=null&&f(o,["video"],HA(a)),o}function WC(i,t){const o={},a=u(i,["modelSelectionConfig"]);a!=null&&f(o,["modelConfig"],a);const r=u(i,["responseJsonSchema"]);r!=null&&f(o,["responseJsonSchema"],r);const c=u(i,["audioTimestamp"]);c!=null&&f(o,["audioTimestamp"],c);const p=u(i,["candidateCount"]);p!=null&&f(o,["candidateCount"],p);const g=u(i,["enableAffectiveDialog"]);g!=null&&f(o,["enableAffectiveDialog"],g);const y=u(i,["frequencyPenalty"]);y!=null&&f(o,["frequencyPenalty"],y);const h=u(i,["logprobs"]);h!=null&&f(o,["logprobs"],h);const v=u(i,["maxOutputTokens"]);v!=null&&f(o,["maxOutputTokens"],v);const S=u(i,["mediaResolution"]);S!=null&&f(o,["mediaResolution"],S);const E=u(i,["presencePenalty"]);E!=null&&f(o,["presencePenalty"],E);const A=u(i,["responseLogprobs"]);A!=null&&f(o,["responseLogprobs"],A);const N=u(i,["responseMimeType"]);N!=null&&f(o,["responseMimeType"],N);const I=u(i,["responseModalities"]);I!=null&&f(o,["responseModalities"],I);const D=u(i,["responseSchema"]);D!=null&&f(o,["responseSchema"],D);const P=u(i,["routingConfig"]);P!=null&&f(o,["routingConfig"],P);const z=u(i,["seed"]);z!=null&&f(o,["seed"],z);const Y=u(i,["speechConfig"]);Y!=null&&f(o,["speechConfig"],Y);const H=u(i,["stopSequences"]);H!=null&&f(o,["stopSequences"],H);const X=u(i,["temperature"]);X!=null&&f(o,["temperature"],X);const k=u(i,["thinkingConfig"]);k!=null&&f(o,["thinkingConfig"],k);const J=u(i,["topK"]);J!=null&&f(o,["topK"],J);const le=u(i,["topP"]);if(le!=null&&f(o,["topP"],le),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function jC(i,t,o){const a={},r=u(t,["model"]);return r!=null&&f(a,["_url","name"],Me(i,r)),a}function eA(i,t,o){const a={},r=u(t,["model"]);return r!=null&&f(a,["_url","name"],Me(i,r)),a}function tA(i,t){const o={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=u(i,["enableWidget"]);return a!=null&&f(o,["enableWidget"],a),o}function nA(i,t){const o={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const a=u(i,["timeRangeFilter"]);return a!=null&&f(o,["timeRangeFilter"],a),o}function iA(i,t){const o={},a=u(i,["aspectRatio"]);a!=null&&f(o,["aspectRatio"],a);const r=u(i,["imageSize"]);if(r!=null&&f(o,["imageSize"],r),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return o}function oA(i,t){const o={},a=u(i,["aspectRatio"]);a!=null&&f(o,["aspectRatio"],a);const r=u(i,["imageSize"]);r!=null&&f(o,["imageSize"],r);const c=u(i,["personGeneration"]);c!=null&&f(o,["personGeneration"],c);const p=u(i,["outputMimeType"]);p!=null&&f(o,["imageOutputOptions","mimeType"],p);const g=u(i,["outputCompressionQuality"]);return g!=null&&f(o,["imageOutputOptions","compressionQuality"],g),o}function lA(i,t){const o={},a=u(i,["bytesBase64Encoded"]);a!=null&&f(o,["imageBytes"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&f(o,["mimeType"],r),o}function qg(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&f(o,["gcsUri"],a);const r=u(i,["bytesBase64Encoded"]);r!=null&&f(o,["imageBytes"],Jn(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}function ja(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=u(i,["imageBytes"]);a!=null&&f(o,["bytesBase64Encoded"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&f(o,["mimeType"],r),o}function Jt(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&f(o,["gcsUri"],a);const r=u(i,["imageBytes"]);r!=null&&f(o,["bytesBase64Encoded"],Jn(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}function aA(i,t,o,a){const r={},c=u(t,["pageSize"]);o!==void 0&&c!=null&&f(o,["_query","pageSize"],c);const p=u(t,["pageToken"]);o!==void 0&&p!=null&&f(o,["_query","pageToken"],p);const g=u(t,["filter"]);o!==void 0&&g!=null&&f(o,["_query","filter"],g);const y=u(t,["queryBase"]);return o!==void 0&&y!=null&&f(o,["_url","models_url"],Ug(i,y)),r}function sA(i,t,o,a){const r={},c=u(t,["pageSize"]);o!==void 0&&c!=null&&f(o,["_query","pageSize"],c);const p=u(t,["pageToken"]);o!==void 0&&p!=null&&f(o,["_query","pageToken"],p);const g=u(t,["filter"]);o!==void 0&&g!=null&&f(o,["_query","filter"],g);const y=u(t,["queryBase"]);return o!==void 0&&y!=null&&f(o,["_url","models_url"],Ug(i,y)),r}function rA(i,t,o){const a={},r=u(t,["config"]);return r!=null&&aA(i,r,a),a}function uA(i,t,o){const a={},r=u(t,["config"]);return r!=null&&sA(i,r,a),a}function cA(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const c=u(i,["_self"]);if(c!=null){let p=Lg(c);Array.isArray(p)&&(p=p.map(g=>Yu(g))),f(o,["models"],p)}return o}function fA(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const c=u(i,["_self"]);if(c!=null){let p=Lg(c);Array.isArray(p)&&(p=p.map(g=>Ju(g))),f(o,["models"],p)}return o}function dA(i,t){const o={},a=u(i,["maskMode"]);a!=null&&f(o,["maskMode"],a);const r=u(i,["segmentationClasses"]);r!=null&&f(o,["maskClasses"],r);const c=u(i,["maskDilation"]);return c!=null&&f(o,["dilation"],c),o}function Yu(i,t){const o={},a=u(i,["name"]);a!=null&&f(o,["name"],a);const r=u(i,["displayName"]);r!=null&&f(o,["displayName"],r);const c=u(i,["description"]);c!=null&&f(o,["description"],c);const p=u(i,["version"]);p!=null&&f(o,["version"],p);const g=u(i,["_self"]);g!=null&&f(o,["tunedModelInfo"],MA(g));const y=u(i,["inputTokenLimit"]);y!=null&&f(o,["inputTokenLimit"],y);const h=u(i,["outputTokenLimit"]);h!=null&&f(o,["outputTokenLimit"],h);const v=u(i,["supportedGenerationMethods"]);v!=null&&f(o,["supportedActions"],v);const S=u(i,["temperature"]);S!=null&&f(o,["temperature"],S);const E=u(i,["maxTemperature"]);E!=null&&f(o,["maxTemperature"],E);const A=u(i,["topP"]);A!=null&&f(o,["topP"],A);const N=u(i,["topK"]);N!=null&&f(o,["topK"],N);const I=u(i,["thinking"]);return I!=null&&f(o,["thinking"],I),o}function Ju(i,t){const o={},a=u(i,["name"]);a!=null&&f(o,["name"],a);const r=u(i,["displayName"]);r!=null&&f(o,["displayName"],r);const c=u(i,["description"]);c!=null&&f(o,["description"],c);const p=u(i,["versionId"]);p!=null&&f(o,["version"],p);const g=u(i,["deployedModels"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(A=>xC(A))),f(o,["endpoints"],E)}const y=u(i,["labels"]);y!=null&&f(o,["labels"],y);const h=u(i,["_self"]);h!=null&&f(o,["tunedModelInfo"],bA(h));const v=u(i,["defaultCheckpointId"]);v!=null&&f(o,["defaultCheckpointId"],v);const S=u(i,["checkpoints"]);if(S!=null){let E=S;Array.isArray(E)&&(E=E.map(A=>A)),f(o,["checkpoints"],E)}return o}function pA(i,t){const o={},a=u(i,["mediaResolution"]);a!=null&&f(o,["mediaResolution"],a);const r=u(i,["codeExecutionResult"]);r!=null&&f(o,["codeExecutionResult"],r);const c=u(i,["executableCode"]);c!=null&&f(o,["executableCode"],c);const p=u(i,["fileData"]);p!=null&&f(o,["fileData"],NC(p));const g=u(i,["functionCall"]);g!=null&&f(o,["functionCall"],RC(g));const y=u(i,["functionResponse"]);y!=null&&f(o,["functionResponse"],y);const h=u(i,["inlineData"]);h!=null&&f(o,["inlineData"],W_(h));const v=u(i,["text"]);v!=null&&f(o,["text"],v);const S=u(i,["thought"]);S!=null&&f(o,["thought"],S);const E=u(i,["thoughtSignature"]);E!=null&&f(o,["thoughtSignature"],E);const A=u(i,["videoMetadata"]);return A!=null&&f(o,["videoMetadata"],A),o}function mA(i,t){const o={},a=u(i,["productImage"]);return a!=null&&f(o,["image"],Jt(a)),o}function hA(i,t,o){const a={},r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["baseSteps"]);t!==void 0&&c!=null&&f(t,["parameters","baseSteps"],c);const p=u(i,["outputGcsUri"]);t!==void 0&&p!=null&&f(t,["parameters","storageUri"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const y=u(i,["safetyFilterLevel"]);t!==void 0&&y!=null&&f(t,["parameters","safetySetting"],y);const h=u(i,["personGeneration"]);t!==void 0&&h!=null&&f(t,["parameters","personGeneration"],h);const v=u(i,["addWatermark"]);t!==void 0&&v!=null&&f(t,["parameters","addWatermark"],v);const S=u(i,["outputMimeType"]);t!==void 0&&S!=null&&f(t,["parameters","outputOptions","mimeType"],S);const E=u(i,["outputCompressionQuality"]);t!==void 0&&E!=null&&f(t,["parameters","outputOptions","compressionQuality"],E);const A=u(i,["enhancePrompt"]);t!==void 0&&A!=null&&f(t,["parameters","enhancePrompt"],A);const N=u(i,["labels"]);return t!==void 0&&N!=null&&f(t,["labels"],N),a}function gA(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["source"]);c!=null&&vA(c,a);const p=u(t,["config"]);return p!=null&&hA(p,a),a}function yA(i,t){const o={},a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>Wa(c))),f(o,["generatedImages"],r)}return o}function vA(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["personImage"]);t!==void 0&&c!=null&&f(t,["instances[0]","personImage","image"],Jt(c));const p=u(i,["productImages"]);if(t!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(y=>mA(y))),f(t,["instances[0]","productImages"],g)}return a}function TA(i,t){const o={},a=u(i,["referenceImage"]);a!=null&&f(o,["referenceImage"],Jt(a));const r=u(i,["referenceId"]);r!=null&&f(o,["referenceId"],r);const c=u(i,["referenceType"]);c!=null&&f(o,["referenceType"],c);const p=u(i,["maskImageConfig"]);p!=null&&f(o,["maskImageConfig"],dA(p));const g=u(i,["controlImageConfig"]);g!=null&&f(o,["controlImageConfig"],lC(g));const y=u(i,["styleImageConfig"]);y!=null&&f(o,["styleImageConfig"],y);const h=u(i,["subjectImageConfig"]);return h!=null&&f(o,["subjectImageConfig"],h),o}function Pg(i,t){const o={},a=u(i,["safetyAttributes","categories"]);a!=null&&f(o,["categories"],a);const r=u(i,["safetyAttributes","scores"]);r!=null&&f(o,["scores"],r);const c=u(i,["contentType"]);return c!=null&&f(o,["contentType"],c),o}function Bg(i,t){const o={},a=u(i,["safetyAttributes","categories"]);a!=null&&f(o,["categories"],a);const r=u(i,["safetyAttributes","scores"]);r!=null&&f(o,["scores"],r);const c=u(i,["contentType"]);return c!=null&&f(o,["contentType"],c),o}function SA(i,t){const o={},a=u(i,["category"]);if(a!=null&&f(o,["category"],a),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(i,["threshold"]);return r!=null&&f(o,["threshold"],r),o}function EA(i,t){const o={},a=u(i,["image"]);return a!=null&&f(o,["image"],Jt(a)),o}function _A(i,t,o){const a={},r=u(i,["mode"]);t!==void 0&&r!=null&&f(t,["parameters","mode"],r);const c=u(i,["maxPredictions"]);t!==void 0&&c!=null&&f(t,["parameters","maxPredictions"],c);const p=u(i,["confidenceThreshold"]);t!==void 0&&p!=null&&f(t,["parameters","confidenceThreshold"],p);const g=u(i,["maskDilation"]);t!==void 0&&g!=null&&f(t,["parameters","maskDilation"],g);const y=u(i,["binaryColorThreshold"]);t!==void 0&&y!=null&&f(t,["parameters","binaryColorThreshold"],y);const h=u(i,["labels"]);return t!==void 0&&h!=null&&f(t,["labels"],h),a}function CA(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["source"]);c!=null&&xA(c,a);const p=u(t,["config"]);return p!=null&&_A(p,a),a}function AA(i,t){const o={},a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>QC(c))),f(o,["generatedMasks"],r)}return o}function xA(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],Jt(c));const p=u(i,["scribbleImage"]);return t!==void 0&&p!=null&&f(t,["instances[0]","scribble"],EA(p)),a}function NA(i,t){const o={},a=u(i,["retrievalConfig"]);a!=null&&f(o,["retrievalConfig"],a);const r=u(i,["functionCallingConfig"]);return r!=null&&f(o,["functionCallingConfig"],MC(r)),o}function RA(i,t){const o={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["computerUse"]);a!=null&&f(o,["computerUse"],a);const r=u(i,["fileSearch"]);r!=null&&f(o,["fileSearch"],r);const c=u(i,["codeExecution"]);if(c!=null&&f(o,["codeExecution"],c),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>E)),f(o,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&f(o,["googleMaps"],tA(g));const y=u(i,["googleSearch"]);y!=null&&f(o,["googleSearch"],nA(y));const h=u(i,["googleSearchRetrieval"]);h!=null&&f(o,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&f(o,["urlContext"],v),o}function Og(i,t){const o={},a=u(i,["retrieval"]);a!=null&&f(o,["retrieval"],a);const r=u(i,["computerUse"]);if(r!=null&&f(o,["computerUse"],r),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=u(i,["codeExecution"]);c!=null&&f(o,["codeExecution"],c);const p=u(i,["enterpriseWebSearch"]);p!=null&&f(o,["enterpriseWebSearch"],p);const g=u(i,["functionDeclarations"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(A=>bC(A))),f(o,["functionDeclarations"],E)}const y=u(i,["googleMaps"]);y!=null&&f(o,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&f(o,["googleSearch"],h);const v=u(i,["googleSearchRetrieval"]);v!=null&&f(o,["googleSearchRetrieval"],v);const S=u(i,["urlContext"]);return S!=null&&f(o,["urlContext"],S),o}function MA(i,t){const o={},a=u(i,["baseModel"]);a!=null&&f(o,["baseModel"],a);const r=u(i,["createTime"]);r!=null&&f(o,["createTime"],r);const c=u(i,["updateTime"]);return c!=null&&f(o,["updateTime"],c),o}function bA(i,t){const o={},a=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&f(o,["baseModel"],a);const r=u(i,["createTime"]);r!=null&&f(o,["createTime"],r);const c=u(i,["updateTime"]);return c!=null&&f(o,["updateTime"],c),o}function wA(i,t,o){const a={},r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["description"]);t!==void 0&&c!=null&&f(t,["description"],c);const p=u(i,["defaultCheckpointId"]);return t!==void 0&&p!=null&&f(t,["defaultCheckpointId"],p),a}function IA(i,t,o){const a={},r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["description"]);t!==void 0&&c!=null&&f(t,["description"],c);const p=u(i,["defaultCheckpointId"]);return t!==void 0&&p!=null&&f(t,["defaultCheckpointId"],p),a}function DA(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","name"],Me(i,r));const c=u(t,["config"]);return c!=null&&wA(c,a),a}function UA(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["config"]);return c!=null&&IA(c,a),a}function LA(i,t,o){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["safetyFilterLevel"]);t!==void 0&&c!=null&&f(t,["parameters","safetySetting"],c);const p=u(i,["personGeneration"]);t!==void 0&&p!=null&&f(t,["parameters","personGeneration"],p);const g=u(i,["includeRaiReason"]);t!==void 0&&g!=null&&f(t,["parameters","includeRaiReason"],g);const y=u(i,["outputMimeType"]);t!==void 0&&y!=null&&f(t,["parameters","outputOptions","mimeType"],y);const h=u(i,["outputCompressionQuality"]);t!==void 0&&h!=null&&f(t,["parameters","outputOptions","compressionQuality"],h);const v=u(i,["enhanceInputImage"]);t!==void 0&&v!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],v);const S=u(i,["imagePreservationFactor"]);t!==void 0&&S!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],S);const E=u(i,["labels"]);t!==void 0&&E!=null&&f(t,["labels"],E);const A=u(i,["numberOfImages"]);t!==void 0&&A!=null&&f(t,["parameters","sampleCount"],A);const N=u(i,["mode"]);return t!==void 0&&N!=null&&f(t,["parameters","mode"],N),a}function GA(i,t,o){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],Me(i,r));const c=u(t,["image"]);c!=null&&f(a,["instances[0]","image"],Jt(c));const p=u(t,["upscaleFactor"]);p!=null&&f(a,["parameters","upscaleConfig","upscaleFactor"],p);const g=u(t,["config"]);return g!=null&&LA(g,a),a}function kA(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>Wa(p))),f(o,["generatedImages"],c)}return o}function VA(i,t){const o={},a=u(i,["uri"]);a!=null&&f(o,["uri"],a);const r=u(i,["encodedVideo"]);r!=null&&f(o,["videoBytes"],Jn(r));const c=u(i,["encoding"]);return c!=null&&f(o,["mimeType"],c),o}function HA(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&f(o,["uri"],a);const r=u(i,["bytesBase64Encoded"]);r!=null&&f(o,["videoBytes"],Jn(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}function zA(i,t){const o={},a=u(i,["image"]);a!=null&&f(o,["_self"],Jt(a));const r=u(i,["maskMode"]);return r!=null&&f(o,["maskMode"],r),o}function qA(i,t){const o={},a=u(i,["image"]);a!=null&&f(o,["image"],ja(a));const r=u(i,["referenceType"]);return r!=null&&f(o,["referenceType"],r),o}function PA(i,t){const o={},a=u(i,["image"]);a!=null&&f(o,["image"],Jt(a));const r=u(i,["referenceType"]);return r!=null&&f(o,["referenceType"],r),o}function Fg(i,t){const o={},a=u(i,["uri"]);a!=null&&f(o,["uri"],a);const r=u(i,["videoBytes"]);r!=null&&f(o,["encodedVideo"],Jn(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["encoding"],c),o}function Yg(i,t){const o={},a=u(i,["uri"]);a!=null&&f(o,["gcsUri"],a);const r=u(i,["videoBytes"]);r!=null&&f(o,["bytesBase64Encoded"],Jn(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BA(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&f(t,["displayName"],a),o}function OA(i){const t={},o=u(i,["config"]);return o!=null&&BA(o,t),t}function FA(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),o}function YA(i){const t={},o=u(i,["name"]);o!=null&&f(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&FA(a,t),t}function JA(i){const t={},o=u(i,["name"]);return o!=null&&f(t,["_url","name"],o),t}function KA(i,t){const o={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["customMetadata"],c)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&f(t,["chunkingConfig"],r),o}function XA(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const p=u(i,["response"]);return p!=null&&f(t,["response"],ZA(p)),t}function QA(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&f(t,["_url","file_search_store_name"],o);const a=u(i,["fileName"]);a!=null&&f(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&KA(r,t),t}function ZA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function $A(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function WA(i){const t={},o=u(i,["config"]);return o!=null&&$A(o,t),t}function jA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["fileSearchStores"],c)}return t}function Jg(i,t){const o={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&f(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["customMetadata"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),f(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&f(t,["chunkingConfig"],p),o}function ex(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&f(t,["_url","file_search_store_name"],o);const a=u(i,["config"]);return a!=null&&Jg(a,t),t}function tx(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nx="Content-Type",ix="X-Server-Timeout",ox="User-Agent",Ku="x-goog-api-client",lx="1.42.0",ax=`google-genai-sdk/${lx}`,sx="v1beta1",rx="v1beta",ux=5,cx=[408,429,500,502,503,504];class fx{constructor(t){var o,a,r;this.clientOptions=Object.assign({},t),this.customBaseUrl=(o=t.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const c={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const g=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!g?(c.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?c.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(c.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),c.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:sx}else{if(!this.clientOptions.apiKey)throw new dl({message:"API key must be set when using the Gemini API.",status:403});c.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:rx,c.baseUrl="https://generativelanguage.googleapis.com/"}c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t,o){return!(o.baseUrl&&o.baseUrlResourceScope===Pu.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,o,r.toString(),t.abortSignal),this.unaryApiCall(r,c,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[r,c]of Object.entries(o))typeof c=="object"?a[r]=Object.assign(Object.assign({},a[r]),c):c!==void 0&&(a[r]=c);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,o,r.toString(),t.abortSignal),this.streamApiCall(r,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,r){if(o&&o.timeout||r){const c=new AbortController,p=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>c.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{c.abort()}),t.signal=p}return o&&o.extraBody!==null&&dx(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await ig(r),new Bu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await ig(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Ft(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),c=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield fe(r.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=c.decode(v,{stream:!0});try{const N=JSON.parse(S);if("error"in N){const I=JSON.parse(JSON.stringify(N.error)),D=I.status,P=I.code,z=`got status: ${D}. ${JSON.stringify(N)}`;if(P>=400&&P<600)throw new dl({message:z,status:P})}}catch(N){if(N.name==="ApiError")throw N}p+=S;let E=-1,A=0;for(;;){E=-1,A=0;for(const D of y){const P=p.indexOf(D);P!==-1&&(E===-1||P<E)&&(E=P,A=D.length)}if(E===-1)break;const N=p.substring(0,E);p=p.substring(E+A);const I=N.trim();if(I.startsWith(g)){const D=I.substring(g.length).trim();try{const P=new Response(D,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield fe(new Bu(P))}catch(P){throw new Error(`exception parsing stream chunk ${D}. ${P}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){var a;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(t,o);const r=this.clientOptions.httpOptions.retryOptions;return eS(async()=>{const p=await fetch(t,o);if(p.ok)return p;throw cx.includes(p.status)?new Error(`Retryable HTTP Error: ${p.statusText}`):new Ag.AbortError(`Non-retryable exception ${p.statusText} sending request`)},{retries:((a=r.attempts)!==null&&a!==void 0?a:ux)-1})}getDefaultHeaders(){const t={},o=ax+" "+this.clientOptions.userAgentExtra;return t[ox]=o,t[Ku]=o,t[nx]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[r,c]of Object.entries(t.headers))a.append(r,c);t.timeout&&t.timeout>0&&a.append(ix,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const c=this.clientOptions.uploader,p=await c.stat(t);r.sizeBytes=String(p.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),v=ee("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,y,o==null?void 0:o.httpOptions);return c.upload(t,S,this)}async uploadFileToFileSearchStore(t,o,a){var r;const c=this.clientOptions.uploader,p=await c.stat(o),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),S={};a!=null&&Jg(a,S);const E=await this.fetchUploadUrl(h,g,y,v,S,a==null?void 0:a.httpOptions);return c.uploadToFileSearchStore(o,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,r,c,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function ig(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new dl({message:r,status:o}):new Error(r)}}function dx(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const c=JSON.parse(i.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))o=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(c,p){const g=Object.assign({},c);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=a(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const px="mcp_used/unknown";let mx=!1;function Kg(i){for(const t of i)if(hx(t)||typeof t=="object"&&"inputSchema"in t)return!0;return mx}function Xg(i){var t;const o=(t=i[Ku])!==null&&t!==void 0?t:"";i[Ku]=(o+` ${px}`).trimStart()}function hx(i){return i!==null&&typeof i=="object"&&i instanceof fc}function gx(i){return Ft(this,arguments,function*(o,a=100){let r,c=0;for(;c<a;){const p=yield fe(o.listTools({cursor:r}));for(const g of p.tools)yield yield fe(g),c++;if(!p.nextCursor)break;r=p.nextCursor}})}class fc{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new fc(t,o)}async initialize(){var t,o,a,r;if(this.mcpTools.length>0)return;const c={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,Yt(gx(v))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const S=r;p.push(S);const E=S.name;if(c[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);c[E]=v}}catch(S){o={error:S}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),BS(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,c);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function yx(i,t,o){const a=new LS;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),t(a)}class vx{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),p=Ex(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(Y=>{h=Y}),S=t.callbacks,E=function(){h({})},A=this.apiClient,N={onopen:E,onmessage:Y=>{yx(A,S.onmessage,Y)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(Y){},onclose:(a=S==null?void 0:S.onclose)!==null&&a!==void 0?a:function(Y){}},I=this.webSocketFactory.create(y,Sx(p),N);I.connect(),await v;const z={setup:{model:Me(this.apiClient,t.model)}};return I.send(JSON.stringify(z)),new Tx(I,this.apiClient)}}class Tx{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=B_(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=P_(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(to.PLAY)}pause(){this.sendPlaybackControl(to.PAUSE)}stop(){this.sendPlaybackControl(to.STOP)}resetContext(){this.sendPlaybackControl(to.RESET_CONTEXT)}close(){this.conn.close()}}function Sx(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function Ex(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _x="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Cx(i,t,o){const a=new US;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const c=JSON.parse(r);if(i.isVertexAI()){const p=Y_(c);Object.assign(a,p)}else Object.assign(a,c);t(a)}class Ax{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new vx(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,r,c,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&Kg(t.config.tools)&&Xg(S);const E=Mx(S);if(this.apiClient.isVertexAI()){const Z=this.apiClient.getProject(),ue=this.apiClient.getLocation(),he=this.apiClient.getApiKey(),ve=!!Z&&!!ue||!!he;this.apiClient.getCustomBaseUrl()&&!ve?v=y:(v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v))}else{const Z=this.apiClient.getApiKey();let ue="BidiGenerateContent",he="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ue="BidiGenerateContentConstrained",he="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ue}?${he}=${Z}`}let A=()=>{};const N=new Promise(Z=>{A=Z}),I=t.callbacks,D=function(){var Z;(Z=I==null?void 0:I.onopen)===null||Z===void 0||Z.call(I),A({})},P=this.apiClient,z={onopen:D,onmessage:Z=>{Cx(P,I.onmessage,Z)},onerror:(o=I==null?void 0:I.onerror)!==null&&o!==void 0?o:function(Z){},onclose:(a=I==null?void 0:I.onclose)!==null&&a!==void 0?a:function(Z){}},Y=this.webSocketFactory.create(v,Rx(E),z);Y.connect(),await N;let H=Me(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const Z=this.apiClient.getProject(),ue=this.apiClient.getLocation();Z&&ue&&(H=`projects/${Z}/locations/${ue}/`+H)}let X={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Fa.AUDIO]}:t.config.responseModalities=[Fa.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],J=[];for(const Z of k)if(this.isCallableTool(Z)){const ue=Z;J.push(await ue.tool())}else J.push(Z);J.length>0&&(t.config.tools=J);const le={model:H,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?X=q_(this.apiClient,le):X=z_(this.apiClient,le),delete X.config,Y.send(JSON.stringify(X)),new Nx(Y,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const xx={turnComplete:!0};class Nx{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=Mt(o.turns),t.isVertexAI()||(a=a.map(r=>pl(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const c of a){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(_x)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},xx),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:F_(t)}:o={realtimeInput:O_(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function Rx(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function Mx(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const og=10;function lg(i){var t,o,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(lo(p)){r=!0;break}if(!r)return!0;const c=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function lo(i){return"callTool"in i&&typeof i.callTool=="function"}function bx(i){var t,o,a;return(a=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>lo(r)))!==null&&a!==void 0?a:!1}function ag(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(lo(a))return;const c=a;c.functionDeclarations&&c.functionDeclarations.length>0&&o.push(r)}),o}function sg(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wx extends yn{constructor(t){super(),this.apiClient=t,this.embedContent=async o=>{if(!this.apiClient.isVertexAI())return await this.embedContentInternal(o);if(o.model.includes("gemini")&&o.model!=="gemini-embedding-001"||o.model.includes("maas")){const r=Mt(o.contents);if(r.length>1)throw new Error("The embedContent API for this model only supports one content at a time.");const c=Object.assign(Object.assign({},o),{content:r[0],embeddingApiType:Ya.EMBED_CONTENT});return await this.embedContentInternal(c)}else{const r=Object.assign(Object.assign({},o),{embeddingApiType:Ya.PREDICT});return await this.embedContentInternal(r)}},this.generateContent=async o=>{var a,r,c,p,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!bx(o)||lg(o.config))return await this.generateContentInternal(y);const h=ag(o);if(h.length>0){const I=h.map(D=>`tools[${D}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${I}.`)}let v,S;const E=Mt(y.contents),A=(c=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&c!==void 0?c:og;let N=0;for(;N<A&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const I=v.candidates[0].content,D=[];for(const P of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(lo(P)){const Y=await P.callTool(v.functionCalls);D.push(...Y)}N++,S={role:"user",parts:D},y.contents=Mt(y.contents),y.contents.push(I),y.contents.push(S),sg(y.config)&&(E.push(I),E.push(S))}return sg(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async o=>{var a,r,c,p,g;if(this.maybeMoveToResponseJsonSchem(o),lg(o.config)){const S=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(S)}const y=ag(o);if(y.length>0){const S=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(c=(r=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,v=(g=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let c;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:p.push(y);let g;return c?g={generatedImages:p,positivePromptSafetyAttributes:c,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new hi(gn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,c,p,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(c=o.source)===null||c===void 0?void 0:c.video)===null||p===void 0)&&p.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,r;const c=(o=t.config)===null||o===void 0?void 0:o.tools;if(!c)return t;const p=await Promise.all(c.map(async y=>lo(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&Kg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Xg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var o,a,r;const c=new Map;for(const p of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(lo(p)){const g=p,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(c.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);c.set(h.name,g)}}return c}async processAfcStream(t){var o,a,r;const c=(r=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:og;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,v,S){return Ft(this,arguments,function*(){for(var E,A,N,I,D,P;g<c;){p&&(g++,p=!1);const X=yield fe(h.processParamsMaybeAddMcpUsage(S)),k=yield fe(h.generateContentStreamInternal(X)),J=[],le=[];try{for(var z=!0,Y=(A=void 0,Yt(k)),H;H=yield fe(Y.next()),E=H.done,!E;z=!0){I=H.value,z=!1;const Z=I;if(yield yield fe(Z),Z.candidates&&(!((D=Z.candidates[0])===null||D===void 0)&&D.content)){le.push(Z.candidates[0].content);for(const ue of(P=Z.candidates[0].content.parts)!==null&&P!==void 0?P:[])if(g<c&&ue.functionCall){if(!ue.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ue.functionCall.name)){const he=yield fe(v.get(ue.functionCall.name).callTool([ue.functionCall]));J.push(...he)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ue.functionCall.name}`)}}}}catch(Z){A={error:Z}}finally{try{!z&&!E&&(N=Y.return)&&(yield fe(N.call(Y)))}finally{if(A)throw A.error}}if(J.length>0){p=!0;const Z=new al;Z.candidates=[{content:{role:"user",parts:J}}],yield yield fe(Z);const ue=[];ue.push(...le),ue.push({role:"user",parts:J});const he=Mt(S.contents).concat(ue);S.contents=he}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=eg(this.apiClient,t);return g=ee("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=ng(v),E=new al;return Object.assign(E,S),E})}else{const h=jh(this.apiClient,t);return g=ee("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=tg(v),E=new al;return Object.assign(E,S),E})}}async generateContentStreamInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=eg(this.apiClient,t);return g=ee("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(S){return Ft(this,arguments,function*(){var E,A,N,I;try{for(var D=!0,P=Yt(S),z;z=yield fe(P.next()),E=z.done,!E;D=!0){I=z.value,D=!1;const Y=I,H=ng(yield fe(Y.json()),t);H.sdkHttpResponse={headers:Y.headers};const X=new al;Object.assign(X,H),yield yield fe(X)}}catch(Y){A={error:Y}}finally{try{!D&&!E&&(N=P.return)&&(yield fe(N.call(P)))}finally{if(A)throw A.error}}})})}else{const h=jh(this.apiClient,t);return g=ee("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),p.then(function(S){return Ft(this,arguments,function*(){var E,A,N,I;try{for(var D=!0,P=Yt(S),z;z=yield fe(P.next()),E=z.done,!E;D=!0){I=z.value,D=!1;const Y=I,H=tg(yield fe(Y.json()),t);H.sdkHttpResponse={headers:Y.headers};const X=new al;Object.assign(X,H),yield yield fe(X)}}catch(Y){A={error:Y}}finally{try{!D&&!E&&(N=P.return)&&(yield fe(N.call(P)))}finally{if(A)throw A.error}}})})}}async embedContentInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=_C(this.apiClient,t,t),v=FS(t.model)?"{model}:embedContent":"{model}:predict";return g=ee(v,h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(S=>S.json().then(E=>{const A=E;return A.sdkHttpResponse={headers:S.headers},A})),p.then(S=>{const E=AC(S,t),A=new kh;return Object.assign(A,E),A})}else{const h=EC(this.apiClient,t);return g=ee("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=CC(v),E=new kh;return Object.assign(E,S),E})}}async generateImagesInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=GC(this.apiClient,t);return g=ee("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=VC(v),E=new Vh;return Object.assign(E,S),E})}else{const h=LC(this.apiClient,t);return g=ee("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=kC(v),E=new Vh;return Object.assign(E,S),E})}}async editImageInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=yC(this.apiClient,t);return c=ee("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=vC(y),v=new ES;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=GA(this.apiClient,t);return c=ee("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=kA(y),v=new _S;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=gA(this.apiClient,t);return c=ee("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=yA(y),v=new CS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=CA(this.apiClient,t);return c=ee("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=AA(y),v=new AS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=eA(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Ju(v))}else{const h=jC(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>Yu(v))}}async listInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=uA(this.apiClient,t);return g=ee("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=fA(v),E=new Hh;return Object.assign(E,S),E})}else{const h=rA(this.apiClient,t);return g=ee("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=cA(v),E=new Hh;return Object.assign(E,S),E})}}async update(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=UA(this.apiClient,t);return g=ee("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Ju(v))}else{const h=DA(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>Yu(v))}}async delete(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=pC(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=hC(v),E=new zh;return Object.assign(E,S),E})}else{const h=dC(this.apiClient,t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=mC(v),E=new zh;return Object.assign(E,S),E})}}async countTokens(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=uC(this.apiClient,t);return g=ee("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=fC(v),E=new qh;return Object.assign(E,S),E})}else{const h=rC(this.apiClient,t);return g=ee("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=cC(v),E=new qh;return Object.assign(E,S),E})}}async computeTokens(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=tC(this.apiClient,t);return c=ee("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=nC(y),v=new xS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=OC(this.apiClient,t);return g=ee("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const S=PC(v),E=new Ja;return Object.assign(E,S),E})}else{const h=BC(this.apiClient,t);return g=ee("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>{const S=qC(v),E=new Ja;return Object.assign(E,S),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ix extends yn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=hS(t);return g=ee("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const h=mS(t);return g=ee("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=sS(t);return c=ee("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dx(i){const t={},o=u(i,["data"]);if(o!=null&&f(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Ux(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>Bx(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function Lx(i,t,o){const a={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&f(o,["expireTime"],r);const c=u(t,["newSessionExpireTime"]);o!==void 0&&c!=null&&f(o,["newSessionExpireTime"],c);const p=u(t,["uses"]);o!==void 0&&p!=null&&f(o,["uses"],p);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&f(o,["bidiGenerateContentSetup"],Px(i,g));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&f(o,["fieldMask"],y),a}function Gx(i,t){const o={},a=u(t,["config"]);return a!=null&&f(o,["config"],Lx(i,a,o)),o}function kx(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Vx(i){const t={},o=u(i,["id"]);o!=null&&f(t,["id"],o);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Hx(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function zx(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function qx(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],cc(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],A);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&f(t,["setup","systemInstruction"],Ux(je(N)));const I=u(i,["tools"]);if(t!==void 0&&I!=null){let k=ro(I);Array.isArray(k)&&(k=k.map(J=>Fx(so(J)))),f(t,["setup","tools"],k)}const D=u(i,["sessionResumption"]);t!==void 0&&D!=null&&f(t,["setup","sessionResumption"],Ox(D));const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&f(t,["setup","inputAudioTranscription"],P);const z=u(i,["outputAudioTranscription"]);t!==void 0&&z!=null&&f(t,["setup","outputAudioTranscription"],z);const Y=u(i,["realtimeInputConfig"]);t!==void 0&&Y!=null&&f(t,["setup","realtimeInputConfig"],Y);const H=u(i,["contextWindowCompression"]);t!==void 0&&H!=null&&f(t,["setup","contextWindowCompression"],H);const X=u(i,["proactivity"]);if(t!==void 0&&X!=null&&f(t,["setup","proactivity"],X),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function Px(i,t){const o={},a=u(t,["model"]);a!=null&&f(o,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&f(o,["config"],qx(r,o)),o}function Bx(i){const t={},o=u(i,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],kx(c));const p=u(i,["functionCall"]);p!=null&&f(t,["functionCall"],Vx(p));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],Dx(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function Ox(i){const t={},o=u(i,["handle"]);if(o!=null&&f(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Fx(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&f(t,["googleMaps"],Hx(p));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],zx(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yx(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(c=>`${o}.${c}`);t.push(...r)}else t.push(o)}return t.join(",")}function Jx(i,t){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const c=a.setup;typeof c=="object"&&c!==null?(i.bidiGenerateContentSetup=c,o=c):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const c=Yx(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?i.fieldMask=c:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];c&&y.push(c),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class Kx extends yn{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=Gx(this.apiClient,t);c=ee("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=Jx(g,t.config);return r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xx(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),o}function Qx(i){const t={},o=u(i,["name"]);o!=null&&f(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&Xx(a,t),t}function Zx(i){const t={},o=u(i,["name"]);return o!=null&&f(t,["_url","name"],o),t}function $x(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function Wx(i){const t={},o=u(i,["parent"]);o!=null&&f(t,["_url","parent"],o);const a=u(i,["config"]);return a!=null&&$x(a,t),t}function jx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["documents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eN extends yn{constructor(t){super(),this.apiClient=t,this.list=async o=>new hi(gn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Zx(t);return c=ee("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Qx(t);r=ee("{name}",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Wx(t);return c=ee("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=jx(y),v=new NS;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tN extends yn{constructor(t,o=new eN(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new hi(gn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=OA(t);return c=ee("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=JA(t);return c=ee("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=YA(t);r=ee("{name}",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=WA(t);return c=ee("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=jA(y),v=new RS;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ex(t);return c=ee("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=tx(y),v=new MS;return Object.assign(v,h),v})}}async importFile(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=QA(t);return c=ee("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=XA(y),v=new lc;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Qg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return Qg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^o()&15>>+a/4).toString(16))};const nN=()=>Qg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Qu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qt extends Error{}class ct extends qt{constructor(t,o,a,r){super(`${ct.makeMessage(t,o,a)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,a){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,a,r){if(!t||!r)return new es({message:a,cause:Qu(o)});const c=o;return t===400?new $g(t,c,a,r):t===401?new Wg(t,c,a,r):t===403?new jg(t,c,a,r):t===404?new ey(t,c,a,r):t===409?new ty(t,c,a,r):t===422?new ny(t,c,a,r):t===429?new iy(t,c,a,r):t>=500?new oy(t,c,a,r):new ct(t,c,a,r)}}class Zu extends ct{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class es extends ct{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class Zg extends es{constructor({message:t}={}){super({message:t??"Request timed out."})}}class $g extends ct{}class Wg extends ct{}class jg extends ct{}class ey extends ct{}class ty extends ct{}class ny extends ct{}class iy extends ct{}class oy extends ct{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iN=/^[a-z][a-z0-9+.-]*:/i,oN=i=>iN.test(i);let $u=i=>($u=Array.isArray,$u(i));const lN=$u;let aN=lN;const rg=aN;function sN(i){if(!i)return!0;for(const t in i)return!1;return!0}function rN(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const uN=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new qt(`${i} must be an integer`);if(t<0)throw new qt(`${i} must be a positive integer`);return t},cN=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fN=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dN(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const pN=()=>{var i,t,o,a,r;const c=dN();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":cg(Deno.build.os),"X-Stainless-Arch":ug(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":cg((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":ug((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=mN();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function mN(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const a=o.exec(navigator.userAgent);if(a){const r=a[1]||0,c=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${c}.${p}`}}}return null}const ug=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",cg=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Ia;const hN=()=>Ia??(Ia=pN());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gN(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function ly(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function yN(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return ly({start(){},async pull(o){const{done:a,value:r}=await t.next();a?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function ay(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function vN(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TN=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sy=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Iu(i,t,o){return sy(),new File(i,t??"unknown_file",o)}function SN(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const EN=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ry=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",_N=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&ry(i),CN=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function AN(i,t,o){if(sy(),i=await i,_N(i))return i instanceof File?i:Iu([await i.arrayBuffer()],i.name);if(CN(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),Iu(await Wu(r),t,o)}const a=await Wu(i);if(t||(t=SN(i)),!(o!=null&&o.type)){const r=a.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return Iu(a,t,o)}async function Wu(i){var t,o,a,r,c;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(ry(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(EN(i))try{for(var g=!0,y=Yt(i),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const v=r;p.push(...await Wu(v))}}catch(v){o={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}else{const v=(c=i==null?void 0:i.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${xN(i)}`)}return p}function xN(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uy{constructor(t){this._client=t}}uy._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cy(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const fg=Object.freeze(Object.create(null)),NN=(i=cy)=>(function(o,...a){if(o.length===1)return o[0];let r=!1;const c=[],p=o.reduce((v,S,E)=>{var A,N,I;/[?#]/.test(S)&&(r=!0);const D=a[E];let P=(r?encodeURIComponent:i)(""+D);return E!==a.length&&(D==null||typeof D=="object"&&D.toString===((I=Object.getPrototypeOf((N=Object.getPrototypeOf((A=D.hasOwnProperty)!==null&&A!==void 0?A:fg))!==null&&N!==void 0?N:fg))===null||I===void 0?void 0:I.toString))&&(P=D+"",c.push({start:v.length+S.length,length:P.length,error:`Value of type ${Object.prototype.toString.call(D).slice(8,-1)} is not a valid path parameter`})),v+S+(E===a.length?"":P)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)c.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(c.sort((v,S)=>v.start-S.start),c.length>0){let v=0;const S=c.reduce((E,A)=>{const N=" ".repeat(A.start-v),I="^".repeat(A.length);return v=A.start+A.length,E+N+I},"");throw new qt(`Path parameters result in path with invalid segments:
${c.map(E=>E.error).join(`
`)}
${p}
${S}`)}return p}),Da=NN(cy);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fy extends uy{create(t,o){var a;const{api_version:r=this._client.apiVersion}=t,c=Xa(t,["api_version"]);if("model"in c&&"agent_config"in c)throw new qt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new qt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Da`/${r}/interactions`,Object.assign(Object.assign({body:c},o),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(Da`/${r}/interactions/${t}`,a)}cancel(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(Da`/${r}/interactions/${t}/cancel`,a)}get(t,o={},a){var r;const c=o??{},{api_version:p=this._client.apiVersion}=c,g=Xa(c,["api_version"]);return this._client.get(Da`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}fy._key=Object.freeze(["interactions"]);class dy extends fy{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RN(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let a=0;for(const r of i)o.set(r,a),a+=r.length;return o}let Ua;function dc(i){let t;return(Ua??(t=new globalThis.TextEncoder,Ua=t.encode.bind(t)))(i)}let La;function dg(i){let t;return(La??(t=new globalThis.TextDecoder,La=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ts{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?dc(t):t;this.buffer=RN([this.buffer,o]);const a=[];let r;for(;(r=MN(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(dg(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=dg(this.buffer.subarray(0,c));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}ts.NEWLINE_CHARS=new Set([`
`,"\r"]);ts.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function MN(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function bN(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qa={off:0,error:200,warn:300,info:400,debug:500},pg=(i,t,o)=>{if(i){if(rN(Qa,i))return i;ut(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Qa))}`)}};function cl(){}function Ga(i,t,o){return!t||Qa[i]>Qa[o]?cl:t[i].bind(t)}const wN={error:cl,warn:cl,info:cl,debug:cl};let mg=new WeakMap;function ut(i){var t;const o=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return wN;const r=mg.get(o);if(r&&r[0]===a)return r[1];const c={error:Ga("error",o,a),warn:Ga("warn",o,a),info:Ga("info",o,a),debug:Ga("debug",o,a)};return mg.set(o,[a,c]),c}const mi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class no{constructor(t,o,a){this.iterator=t,this.controller=o,this.client=a}static fromSSEResponse(t,o,a){let r=!1;const c=a?ut(a):console;function p(){return Ft(this,arguments,function*(){var y,h,v,S;if(r)throw new qt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,N=Yt(IN(t,o)),I;I=yield fe(N.next()),y=I.done,!y;A=!0){S=I.value,A=!1;const D=S;if(!E)if(D.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield fe(JSON.parse(D.data))}catch(P){throw c.error("Could not parse message into JSON:",D.data),c.error("From chunk:",D.raw),P}}}catch(D){h={error:D}}finally{try{!A&&!y&&(v=N.return)&&(yield fe(v.call(N)))}finally{if(h)throw h.error}}E=!0}catch(D){if(Xu(D))return yield fe(void 0);throw D}finally{E||o.abort()}})}return new no(p,o,a)}static fromReadableStream(t,o,a){let r=!1;function c(){return Ft(this,arguments,function*(){var y,h,v,S;const E=new ts,A=ay(t);try{for(var N=!0,I=Yt(A),D;D=yield fe(I.next()),y=D.done,!y;N=!0){S=D.value,N=!1;const P=S;for(const z of E.decode(P))yield yield fe(z)}}catch(P){h={error:P}}finally{try{!N&&!y&&(v=I.return)&&(yield fe(v.call(I)))}finally{if(h)throw h.error}}for(const P of E.flush())yield yield fe(P)})}function p(){return Ft(this,arguments,function*(){var y,h,v,S;if(r)throw new qt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,N=Yt(c()),I;I=yield fe(N.next()),y=I.done,!y;A=!0){S=I.value,A=!1;const D=S;E||D&&(yield yield fe(JSON.parse(D)))}}catch(D){h={error:D}}finally{try{!A&&!y&&(v=N.return)&&(yield fe(v.call(N)))}finally{if(h)throw h.error}}E=!0}catch(D){if(Xu(D))return yield fe(void 0);throw D}finally{E||o.abort()}})}return new no(p,o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],a=this.iterator(),r=c=>({next:()=>{if(c.length===0){const p=a.next();t.push(p),o.push(p)}return c.shift()}});return[new no(()=>r(t),this.controller,this.client),new no(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return ly({async start(){o=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:c}=await o.next();if(c)return a.close();const p=dc(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=o.return)===null||a===void 0?void 0:a.call(o))}})}}function IN(i,t){return Ft(this,arguments,function*(){var a,r,c,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new qt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new qt("Attempted to iterate over a response with no body");const g=new UN,y=new ts,h=ay(i.body);try{for(var v=!0,S=Yt(DN(h)),E;E=yield fe(S.next()),a=E.done,!a;v=!0){p=E.value,v=!1;const A=p;for(const N of y.decode(A)){const I=g.decode(N);I&&(yield yield fe(I))}}}catch(A){r={error:A}}finally{try{!v&&!a&&(c=S.return)&&(yield fe(c.call(S)))}finally{if(r)throw r.error}}for(const A of y.flush()){const N=g.decode(A);N&&(yield yield fe(N))}})}function DN(i){return Ft(this,arguments,function*(){var o,a,r,c;let p=new Uint8Array;try{for(var g=!0,y=Yt(i),h;h=yield fe(y.next()),o=h.done,!o;g=!0){c=h.value,g=!1;const v=c;if(v==null)continue;const S=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?dc(v):v;let E=new Uint8Array(p.length+S.length);E.set(p),E.set(S,p.length),p=E;let A;for(;(A=bN(p))!==-1;)yield yield fe(p.slice(0,A)),p=p.slice(A)}}catch(v){a={error:v}}finally{try{!g&&!o&&(r=y.return)&&(yield fe(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield fe(p))})}class UN{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,a,r]=LN(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function LN(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function GN(i,t){const{response:o,requestLogID:a,retryOfRequestLogID:r,startTime:c}=t,p=await(async()=>{var g;if(t.options.stream)return ut(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):no.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?o.headers.get("content-length")==="0"?void 0:await o.json():await o.text()})();return ut(i).debug(`[${a}] response parsed`,mi({retryOfRequestLogID:r,url:o.url,status:o.status,body:p,durationMs:Date.now()-c})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pc extends Promise{constructor(t,o,a=GN){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new pc(this.client,this.responsePromise,async(o,a)=>t(await this.parseResponse(o,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const py=Symbol("brand.privateNullableHeaders");function*kN(i){if(!i)return;if(py in i){const{values:a,nulls:r}=i;yield*a.entries();for(const c of r)yield[c,null];return}let t=!1,o;i instanceof Headers?o=i.entries():rg(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let a of o){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const c=rg(a[1])?a[1]:[a[1]];let p=!1;for(const g of c)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const sl=i=>{const t=new Headers,o=new Set;for(const a of i){const r=new Set;for(const[c,p]of kN(a)){const g=c.toLowerCase();r.has(g)||(t.delete(c),r.add(g)),p===null?(t.delete(c),o.add(g)):(t.append(c,p),o.delete(g))}}return{[py]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Du=i=>{var t,o,a,r,c,p;if(typeof globalThis.process<"u")return(a=(o=(t=tS)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(c=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||c===void 0?void 0:c.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var my;class ns{constructor(t){var o,a,r,c,p,g,y,{baseURL:h=Du("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=Du("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:S="v1beta"}=t,E=Xa(t,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:v,apiVersion:S},E),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(a=A.timeout)!==null&&a!==void 0?a:ns.DEFAULT_TIMEOUT,this.logger=(r=A.logger)!==null&&r!==void 0?r:console;const N="warn";this.logLevel=N,this.logLevel=(p=(c=pg(A.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:pg(Du("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:N,this.fetchOptions=A.fetchOptions,this.maxRetries=(g=A.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=A.fetch)!==null&&y!==void 0?y:gN(),this.encoder=TN,this._options=A,this.apiKey=v,this.apiVersion=S,this.clientAdapter=A.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=sl([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return sl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return sl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,a])=>typeof a<"u").map(([o,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(o)}=`;throw new qt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${eo}`}defaultIdempotencyKey(){return`stainless-node-retry-${nN()}`}makeStatusError(t,o,a,r){return ct.generate(t,o,a,r)}buildURL(t,o,a){const r=!this.baseURLOverridden()&&a||this.baseURL,c=oN(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return sN(p)||(o=Object.assign(Object.assign({},p),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(c.search=this.stringifyQuery(o)),c.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:a}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new pc(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,a){var r,c,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(g);const{req:h,url:v,timeout:S}=await this.buildRequest(g,{retryCount:y-o});await this.prepareRequest(h,{url:v,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=a===void 0?"":`, retryOf: ${a}`,N=Date.now();if(ut(this).debug(`[${E}] sending request`,mi({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:h.headers})),!((c=g.signal)===null||c===void 0)&&c.aborted)throw new Zu;const I=new AbortController,D=await this.fetchWithTimeout(v,h,S,I).catch(Qu),P=Date.now();if(D instanceof globalThis.Error){const Y=`retrying, ${o} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new Zu;const H=Xu(D)||/timed? ?out/i.test(String(D)+("cause"in D?String(D.cause):""));if(o)return ut(this).info(`[${E}] connection ${H?"timed out":"failed"} - ${Y}`),ut(this).debug(`[${E}] connection ${H?"timed out":"failed"} (${Y})`,mi({retryOfRequestLogID:a,url:v,durationMs:P-N,message:D.message})),this.retryRequest(g,o,a??E);throw ut(this).info(`[${E}] connection ${H?"timed out":"failed"} - error; no more retries left`),ut(this).debug(`[${E}] connection ${H?"timed out":"failed"} (error; no more retries left)`,mi({retryOfRequestLogID:a,url:v,durationMs:P-N,message:D.message})),H?new Zg:new es({cause:D})}const z=`[${E}${A}] ${h.method} ${v} ${D.ok?"succeeded":"failed"} with status ${D.status} in ${P-N}ms`;if(!D.ok){const Y=await this.shouldRetry(D);if(o&&Y){const Z=`retrying, ${o} attempts remaining`;return await vN(D.body),ut(this).info(`${z} - ${Z}`),ut(this).debug(`[${E}] response error (${Z})`,mi({retryOfRequestLogID:a,url:D.url,status:D.status,headers:D.headers,durationMs:P-N})),this.retryRequest(g,o,a??E,D.headers)}const H=Y?"error; no more retries left":"error; not retryable";ut(this).info(`${z} - ${H}`);const X=await D.text().catch(Z=>Qu(Z).message),k=cN(X),J=k?void 0:X;throw ut(this).debug(`[${E}] response error (${H})`,mi({retryOfRequestLogID:a,url:D.url,status:D.status,headers:D.headers,message:J,durationMs:Date.now()-N})),this.makeStatusError(D.status,k,J,D.headers)}return ut(this).info(z),ut(this).debug(`[${E}] response start`,mi({retryOfRequestLogID:a,url:D.url,status:D.status,headers:D.headers,durationMs:P-N})),{response:D,options:g,controller:I,requestLogID:E,retryOfRequestLogID:a,startTime:N}}async fetchWithTimeout(t,o,a,r){const c=o||{},{signal:p,method:g}=c,y=Xa(c,["signal","method"]),h=this._makeAbort(r);p&&p.addEventListener("abort",h,{once:!0});const v=setTimeout(h,a),S=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,E=Object.assign(Object.assign(Object.assign({signal:r.signal},S?{duplex:"half"}:{}),{method:"GET"}),y);g&&(E.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,E)}finally{clearTimeout(v)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,a,r){var c;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(p=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const h=parseFloat(y);Number.isNaN(h)?p=Date.parse(y)-Date.now():p=h*1e3}if(!(p&&0<=p&&p<60*1e3)){const h=(c=t.maxRetries)!==null&&c!==void 0?c:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(o,h)}return await fN(p),this.makeRequest(t,o-1,a)}calculateDefaultRetryTimeoutMillis(t,o){const c=o-t,p=Math.min(.5*Math.pow(2,c),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:o=0}={}){var a,r,c;const p=Object.assign({},t),{method:g,path:y,query:h,defaultBaseURL:v}=p,S=this.buildURL(y,h,v);"timeout"in p&&uN("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:A}=this.buildBody({options:p}),N=await this.buildHeaders({options:t,method:g,bodyHeaders:E,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:N},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(c=p.fetchOptions)!==null&&c!==void 0?c:{}),url:S,timeout:p.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:a,retryCount:r}){let c={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let g=sl([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),hN()),this._options.defaultHeaders,a,t.headers,p]);return this.validateHeaders(g),g.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=sl([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:yN(t)}:typeof t=="object"&&a.values.get("content-type")==="application/x-www-form-urlencoded"?{bodyHeaders:{"content-type":"application/x-www-form-urlencoded"},body:this.stringifyQuery(t)}:this.encoder({body:t,headers:a})}}ns.DEFAULT_TIMEOUT=6e4;class et extends ns{constructor(){super(...arguments),this.interactions=new dy(this)}}my=et;et.GeminiNextGenAPIClient=my;et.GeminiNextGenAPIClientError=qt;et.APIError=ct;et.APIConnectionError=es;et.APIConnectionTimeoutError=Zg;et.APIUserAbortError=Zu;et.NotFoundError=ey;et.ConflictError=ty;et.RateLimitError=iy;et.BadRequestError=$g;et.AuthenticationError=Wg;et.InternalServerError=oy;et.PermissionDeniedError=jg;et.UnprocessableEntityError=ny;et.toFile=AN;et.Interactions=dy;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VN(i,t){const o={},a=u(i,["name"]);return a!=null&&f(o,["_url","name"],a),o}function HN(i,t){const o={},a=u(i,["name"]);return a!=null&&f(o,["_url","name"],a),o}function zN(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function qN(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function PN(i,t,o){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&f(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(i,["epochCount"]);t!==void 0&&c!=null&&f(t,["tuningTask","hyperparameters","epochCount"],c);const p=u(i,["learningRateMultiplier"]);if(p!=null&&f(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(u(i,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(u(i,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&f(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&f(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(u(i,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(u(i,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(u(i,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(u(i,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(u(i,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return a}function BN(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const k=u(i,["validationDataset"]);t!==void 0&&k!=null&&f(t,["supervisedTuningSpec"],Uu(k))}else if(r==="PREFERENCE_TUNING"){const k=u(i,["validationDataset"]);t!==void 0&&k!=null&&f(t,["preferenceOptimizationSpec"],Uu(k))}else if(r==="DISTILLATION"){const k=u(i,["validationDataset"]);t!==void 0&&k!=null&&f(t,["distillationSpec"],Uu(k))}const c=u(i,["tunedModelDisplayName"]);t!==void 0&&c!=null&&f(t,["tunedModelDisplayName"],c);const p=u(i,["description"]);t!==void 0&&p!=null&&f(t,["description"],p);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const k=u(i,["epochCount"]);t!==void 0&&k!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],k)}else if(g==="PREFERENCE_TUNING"){const k=u(i,["epochCount"]);t!==void 0&&k!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],k)}else if(g==="DISTILLATION"){const k=u(i,["epochCount"]);t!==void 0&&k!=null&&f(t,["distillationSpec","hyperParameters","epochCount"],k)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const k=u(i,["learningRateMultiplier"]);t!==void 0&&k!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],k)}else if(y==="PREFERENCE_TUNING"){const k=u(i,["learningRateMultiplier"]);t!==void 0&&k!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],k)}else if(y==="DISTILLATION"){const k=u(i,["learningRateMultiplier"]);t!==void 0&&k!=null&&f(t,["distillationSpec","hyperParameters","learningRateMultiplier"],k)}let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const k=u(i,["exportLastCheckpointOnly"]);t!==void 0&&k!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],k)}else if(h==="PREFERENCE_TUNING"){const k=u(i,["exportLastCheckpointOnly"]);t!==void 0&&k!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],k)}else if(h==="DISTILLATION"){const k=u(i,["exportLastCheckpointOnly"]);t!==void 0&&k!=null&&f(t,["distillationSpec","exportLastCheckpointOnly"],k)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const k=u(i,["adapterSize"]);t!==void 0&&k!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],k)}else if(v==="PREFERENCE_TUNING"){const k=u(i,["adapterSize"]);t!==void 0&&k!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],k)}else if(v==="DISTILLATION"){const k=u(i,["adapterSize"]);t!==void 0&&k!=null&&f(t,["distillationSpec","hyperParameters","adapterSize"],k)}let S=u(o,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const k=u(i,["tuningMode"]);t!==void 0&&k!=null&&f(t,["supervisedTuningSpec","tuningMode"],k)}const E=u(i,["customBaseModel"]);t!==void 0&&E!=null&&f(t,["customBaseModel"],E);let A=u(o,["config","method"]);if(A===void 0&&(A="SUPERVISED_FINE_TUNING"),A==="SUPERVISED_FINE_TUNING"){const k=u(i,["batchSize"]);t!==void 0&&k!=null&&f(t,["supervisedTuningSpec","hyperParameters","batchSize"],k)}let N=u(o,["config","method"]);if(N===void 0&&(N="SUPERVISED_FINE_TUNING"),N==="SUPERVISED_FINE_TUNING"){const k=u(i,["learningRate"]);t!==void 0&&k!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRate"],k)}const I=u(i,["labels"]);t!==void 0&&I!=null&&f(t,["labels"],I);const D=u(i,["beta"]);t!==void 0&&D!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],D);const P=u(i,["baseTeacherModel"]);t!==void 0&&P!=null&&f(t,["distillationSpec","baseTeacherModel"],P);const z=u(i,["tunedTeacherModelSource"]);t!==void 0&&z!=null&&f(t,["distillationSpec","tunedTeacherModelSource"],z);const Y=u(i,["sftLossWeightMultiplier"]);t!==void 0&&Y!=null&&f(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],Y);const H=u(i,["outputUri"]);t!==void 0&&H!=null&&f(t,["outputUri"],H);const X=u(i,["encryptionSpec"]);return t!==void 0&&X!=null&&f(t,["encryptionSpec"],X),a}function ON(i,t){const o={},a=u(i,["baseModel"]);a!=null&&f(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(o,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&eR(c);const p=u(i,["config"]);return p!=null&&PN(p,o),o}function FN(i,t){const o={},a=u(i,["baseModel"]);a!=null&&f(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(o,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&tR(c,o,t);const p=u(i,["config"]);return p!=null&&BN(p,o,t),o}function YN(i,t){const o={},a=u(i,["name"]);return a!=null&&f(o,["_url","name"],a),o}function JN(i,t){const o={},a=u(i,["name"]);return a!=null&&f(o,["_url","name"],a),o}function KN(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const p=u(i,["filter"]);return t!==void 0&&p!=null&&f(t,["_query","filter"],p),a}function XN(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const p=u(i,["filter"]);return t!==void 0&&p!=null&&f(t,["_query","filter"],p),a}function QN(i,t){const o={},a=u(i,["config"]);return a!=null&&KN(a,o),o}function ZN(i,t){const o={},a=u(i,["config"]);return a!=null&&XN(a,o),o}function $N(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const c=u(i,["tunedModels"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>hy(g))),f(o,["tuningJobs"],p)}return o}function WN(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const c=u(i,["tuningJobs"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>ju(g))),f(o,["tuningJobs"],p)}return o}function jN(i,t){const o={},a=u(i,["name"]);a!=null&&f(o,["model"],a);const r=u(i,["name"]);return r!=null&&f(o,["endpoint"],r),o}function eR(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(o,["examples","examples"],r)}return o}function tR(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}else if(r==="DISTILLATION"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&f(t,["distillationSpec","promptDatasetUri"],p)}let c=u(o,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(c==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}else if(c==="DISTILLATION"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&f(t,["distillationSpec","promptDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function hy(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const c=u(i,["state"]);c!=null&&f(o,["state"],Ig(c));const p=u(i,["createTime"]);p!=null&&f(o,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&f(o,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&f(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&f(o,["updateTime"],h);const v=u(i,["description"]);v!=null&&f(o,["description"],v);const S=u(i,["baseModel"]);S!=null&&f(o,["baseModel"],S);const E=u(i,["_self"]);return E!=null&&f(o,["tunedModel"],jN(E)),o}function ju(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const c=u(i,["state"]);c!=null&&f(o,["state"],Ig(c));const p=u(i,["createTime"]);p!=null&&f(o,["createTime"],p);const g=u(i,["startTime"]);g!=null&&f(o,["startTime"],g);const y=u(i,["endTime"]);y!=null&&f(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&f(o,["updateTime"],h);const v=u(i,["error"]);v!=null&&f(o,["error"],v);const S=u(i,["description"]);S!=null&&f(o,["description"],S);const E=u(i,["baseModel"]);E!=null&&f(o,["baseModel"],E);const A=u(i,["tunedModel"]);A!=null&&f(o,["tunedModel"],A);const N=u(i,["preTunedModel"]);N!=null&&f(o,["preTunedModel"],N);const I=u(i,["supervisedTuningSpec"]);I!=null&&f(o,["supervisedTuningSpec"],I);const D=u(i,["preferenceOptimizationSpec"]);D!=null&&f(o,["preferenceOptimizationSpec"],D);const P=u(i,["distillationSpec"]);P!=null&&f(o,["distillationSpec"],P);const z=u(i,["tuningDataStats"]);z!=null&&f(o,["tuningDataStats"],z);const Y=u(i,["encryptionSpec"]);Y!=null&&f(o,["encryptionSpec"],Y);const H=u(i,["partnerModelTuningSpec"]);H!=null&&f(o,["partnerModelTuningSpec"],H);const X=u(i,["customBaseModel"]);X!=null&&f(o,["customBaseModel"],X);const k=u(i,["experiment"]);k!=null&&f(o,["experiment"],k);const J=u(i,["labels"]);J!=null&&f(o,["labels"],J);const le=u(i,["outputUri"]);le!=null&&f(o,["outputUri"],le);const Z=u(i,["pipelineJob"]);Z!=null&&f(o,["pipelineJob"],Z);const ue=u(i,["serviceAccount"]);ue!=null&&f(o,["serviceAccount"],ue);const he=u(i,["tunedModelDisplayName"]);he!=null&&f(o,["tunedModelDisplayName"],he);const ve=u(i,["veoTuningSpec"]);return ve!=null&&f(o,["veoTuningSpec"],ve),o}function nR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const c=u(i,["metadata"]);c!=null&&f(o,["metadata"],c);const p=u(i,["done"]);p!=null&&f(o,["done"],p);const g=u(i,["error"]);return g!=null&&f(o,["error"],g),o}function Uu(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&f(o,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&f(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iR extends yn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new hi(gn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},o),{preTunedModel:r});return c.baseModel=void 0,await this.tuneInternal(c)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),c=await this.tuneMldevInternal(r);let p="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?p=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(p=c.name.split("/operations/")[0]),{name:p,state:qu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=JN(t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>ju(v))}else{const h=YN(t);return g=ee("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>hy(v))}}async listInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ZN(t);return g=ee("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=WN(v),E=new Ph;return Object.assign(E,S),E})}else{const h=QN(t);return g=ee("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=$N(v),E=new Ph;return Object.assign(E,S),E})}}async cancel(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=HN(t);return g=ee("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=qN(v),E=new Bh;return Object.assign(E,S),E})}else{const h=VN(t);return g=ee("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=zN(v),E=new Bh;return Object.assign(E,S),E})}}async tuneInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=FN(t,t);return c=ee("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>ju(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ON(t);return c=ee("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>nR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oR{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const lR=1024*1024*8,aR=3,sR=1e3,rR=2,Za="x-goog-upload-status";async function uR(i,t,o){var a;const r=await gy(i,t,o),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Za])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function cR(i,t,o){var a;const r=await gy(i,t,o),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Za])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=xg(c),g=new ac;return Object.assign(g,p),g}async function gy(i,t,o){var a,r;let c=0,p=0,g=new Bu(new Response),y="upload";for(c=i.size;p<c;){const h=Math.min(lR,c-p),v=i.slice(p,p+h);p+h>=c&&(y+=", finalize");let S=0,E=sR;for(;S<aR&&(g=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Za]));)S++,await dR(E),E=E*rR;if(p+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Za])!=="active")break;if(c<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function fR(i){return{size:i.size,type:i.type}}function dR(i){return new Promise(t=>setTimeout(t,i))}class pR{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await uR(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await cR(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await fR(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mR{create(t,o,a){return new hR(t,o,a)}}class hR{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hg="x-goog-api-key";class gR{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(hg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(hg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yR="gl-node/";class mc{get interactions(){var t;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const o=this.httpOptions;o!=null&&o.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const a=new et({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:o==null?void 0:o.timeout,maxRetries:(t=o==null?void 0:o.retryOptions)===null||t===void 0?void 0:t.attempts});return this._interactions=a.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=lS(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new gR(this.apiKey);this.apiClient=new fx({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:yR+"web",uploader:new pR,downloader:new oR}),this.models=new wx(this.apiClient),this.live=new Ax(this.apiClient,r,new mR),this.batches=new kE(this.apiClient),this.chats=new y_(this.models,this.apiClient),this.caches=new m_(this.apiClient),this.files=new b_(this.apiClient),this.operations=new Ix(this.apiClient),this.authTokens=new Kx(this.apiClient),this.tunings=new iR(this.apiClient),this.fileSearchStores=new tN(this.apiClient)}}const vR=[{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro (Zeki & Stabil)"},{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash (Hzl)"}],TR=[{id:"imagen-4.0-generate-001",name:"Imagen 4.0 (Stabil izim)"},{id:"gemini-2.5-flash-image",name:"Gemini 2.5 Flash (Grsel)"}],hc="gemini-2.5-pro",yy="imagen-4.0-generate-001",SR=`You are an expert linguist and memory coach specializing in the "Keyword Mnemonic Method" for teaching Arabic vocabulary to Turkish speakers.

YOUR GOAL:
When the user provides a word (in Arabic or Turkish), you must generate a 4-line memory aid based on the pronunciation of the Arabic word.

INSTRUCTIONS:
1. Analyze the input.
   - If it is a Turkish word (e.g., "Araba"), treat it as the Meaning and find the **most precise and contextually accurate** Arabic (Fusha/MSA) translation.
   - **CRITICAL:** Strictly avoid generic synonyms that lose specific meaning. Always select the specific term over the general one (e.g., for 'Herkes', use '' instead of '').
   - If it is Arabic script (e.g., "") or clearly an Arabic transliteration (e.g., "Kitab"), treat it as the Arabic Word and find the Turkish meaning.
2. Analyze the pronunciation of the Arabic word.
3. Find a **Real, Concrete, Visualizable Turkish Noun** (Sound-Alike) that sounds similar to the Arabic pronunciation. **CRITICAL:** The keyword MUST be a real noun (object, animal, person) found in the dictionary. **DO NOT** use conjugated verbs (e.g., 'Atn', 'Gidin'), abstract grammar particles, adjectives, or nonsense syllables. If an exact phonetic match isn't a concrete noun, choose the closest real object that creates a strong visual image.
4. Create an absurd, vivid, or funny sentence (story) that links the Turkish Meaning and the Turkish Sound-Alike Keyword.

OUTPUT FORMAT (Strictly 4 lines, no extra text):
[Turkish Meaning]
[Arabic Word] ([Turkish Pronunciation])
[TURKISH SOUND-ALIKE KEYWORD (IN UPPERCASE)]
[The Memory Story Sentence]

RULES:
- Line 1: Turkish Meaning ONLY. Do not include English translations, synonyms in brackets, or parentheses. (e.g., Output "Ben", NOT "Ben (I)" or "Ben/I").
- Line 2: The Arabic word in Arabic script, followed by the Turkish pronunciation in parentheses. Example: " (Kitab)".
- Line 3 (Keyword): MUST be a concrete noun (e.g., "Elma", "Ta"). NO verbs (e.g., "Geldi"), NO abstract words.
- Line 4 (Story): The story must be strictly in Turkish. Do NOT include English translations, words, or explanations in parentheses (e.g. NEVER write "Ben (I)").
- Always prioritize the Arabic pronunciation (phonetics) to find the keyword.
- The story must be short and visual.
- Output strictly 4 lines.
- Line 3 (keyword) and Line 4 (story) will be combined with "" in the MNEMONIC STORY field of the Create Card modal.
- The generated card will first appear in the Library panel and can be activated for spaced repetition review.
- Remember: The speaker button (top-right of flashcard) plays the Arabic word only.`,vy=async(i,t=hc)=>{const o=new mc({apiKey:"AIzaSyByNOQhliNkeUIT_jJXSyYndwi6YUUcAN0"});try{const r=(await o.models.generateContent({model:t,contents:`User Input: ${i}`,config:{systemInstruction:SR,temperature:.7}})).text;if(!r)throw new Error("No response from AI");const c=r.trim().split(`
`).filter(p=>p.trim()!=="");if(c.length<4)throw new Error("AI returned incomplete data format. Please try again.");return{turkishMeaning:c[0].trim(),arabicWord:c[1].trim(),keyword:c[2].trim(),story:c[3].trim(),imagePrompt:""}}catch(a){console.error("Gemini API Error:",a);const r=a.message||a.toString();throw r.includes("429")||r.includes("RESOURCE_EXHAUSTED")?new Error("Daily AI quota exceeded. Please try again later or check your API plan."):r.includes("503")||r.includes("500")?new Error("AI service is temporarily unavailable. Please try again in a moment."):new Error(r||"Failed to generate content.")}},Ty=async(i,t,o,a=hc)=>{var c;const r=new mc({apiKey:"AIzaSyByNOQhliNkeUIT_jJXSyYndwi6YUUcAN0"});try{const p=`Create a detailed, realistic, and vivid English image generation prompt for the following Turkish mnemonic story. 
    The story links the meaning '${o}' to the keyword '${t}'.
    
    Story: "${i}"
    
    Output ONLY the English prompt. Do not add any conversational text.`;return((c=(await r.models.generateContent({model:a,contents:p})).text)==null?void 0:c.trim())||""}catch(p){throw console.error("Prompt Gen Error:",p),new Error("Failed to generate prompt.")}},Sy=async(i,t=yy)=>{var a,r,c;const o=new mc({apiKey:"AIzaSyByNOQhliNkeUIT_jJXSyYndwi6YUUcAN0"});try{const p=await o.models.generateContent({model:t,contents:{parts:[{text:i}]}});for(const g of((c=(r=(a=p.candidates)==null?void 0:a[0])==null?void 0:r.content)==null?void 0:c.parts)||[])if(g.inlineData)return`data:${g.inlineData.mimeType};base64,${g.inlineData.data}`;throw new Error("No image generated")}catch(p){throw console.error("Gemini Image Gen Error:",p),new Error("Failed to generate image. Please try again.")}},at=[];for(let i=0;i<256;++i)at.push((i+256).toString(16).slice(1));function ER(i,t=0){return(at[i[t+0]]+at[i[t+1]]+at[i[t+2]]+at[i[t+3]]+"-"+at[i[t+4]]+at[i[t+5]]+"-"+at[i[t+6]]+at[i[t+7]]+"-"+at[i[t+8]]+at[i[t+9]]+"-"+at[i[t+10]]+at[i[t+11]]+at[i[t+12]]+at[i[t+13]]+at[i[t+14]]+at[i[t+15]]).toLowerCase()}let Lu;const _R=new Uint8Array(16);function CR(){if(!Lu){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Lu=crypto.getRandomValues.bind(crypto)}return Lu(_R)}const AR=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gg={randomUUID:AR};function xR(i,t,o){var r;i=i||{};const a=i.random??((r=i.rng)==null?void 0:r.call(i))??CR();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,ER(a)}function $a(i,t,o){return gg.randomUUID&&!i?gg.randomUUID():xR(i)}const NR=({isOpen:i,onClose:t,onSave:o,selectedVoiceURI:a,folders:r=[],textModel:c,imageModel:p,initialFolderId:g=""})=>{const[y,h]=Q.useState("input"),[v,S]=Q.useState(""),[E,A]=Q.useState(!1),[N,I]=Q.useState(null),[D,P]=Q.useState(0),z=["Consulting the linguist...","Analyzing Arabic phonetics...","Finding the perfect sound-alike...","Crafting a surreal story..."],[Y,H]=Q.useState(""),[X,k]=Q.useState(""),[J,le]=Q.useState(""),[Z,ue]=Q.useState(""),[he,ve]=Q.useState(""),[$,te]=Q.useState(""),[se,b]=Q.useState(g),[K,ne]=Q.useState(!1),[de,xe]=Q.useState(!1);if(Q.useEffect(()=>{if(y!=="preview")return;const W=Te=>{var He;const Ye=(He=Te.clipboardData)==null?void 0:He.items;if(Ye){for(const Tn of Ye)if(Tn.type.indexOf("image")!==-1){Te.preventDefault();const Kn=Tn.getAsFile();if(Kn){const Xn=new FileReader;Xn.onloadend=()=>te(Xn.result),Xn.readAsDataURL(Kn)}return}}};return window.addEventListener("paste",W),()=>window.removeEventListener("paste",W)},[y]),Q.useEffect(()=>{let W;return E&&(P(0),W=setInterval(()=>{P(Te=>(Te+1)%z.length)},2e3)),()=>clearInterval(W)},[E]),Q.useEffect(()=>{i&&b(g)},[i,g]),!i)return null;const M=async()=>{if(v.trim()){A(!0),I(null);try{const W=await vy(v,c);H(W.turkishMeaning),k(W.arabicWord),le(W.keyword),ue(W.story),ve(W.imagePrompt),h("preview")}catch(W){I(W.message||"Failed to generate content. Please try again.")}finally{A(!1)}}},F=async()=>{if(Z.trim()){xe(!0);try{let W=he;if(!W.trim())try{W=await Ty(Z,J,Y,c),ve(W)}catch(Ye){console.error("Prompt gen error",Ye),W=Z}const Te=await Sy(W,p);te(Te)}catch{alert("Failed to generate image. Please check your connection.")}finally{xe(!1)}}},j=()=>{const W={id:$a(),folderId:se||void 0,turkishMeaning:Y,arabicWord:X,keyword:J,story:Z,imagePrompt:he,imageUrl:$||void 0,status:"library",intervalIndex:0,nextReviewTime:0};o(W),ie(),t()},ie=()=>{h("input"),S(""),H(""),k(""),le(""),ue(""),ve(""),te(""),b(g),I(null),ne(!1),xe(!1)},pe=()=>ic(null,X,a);return _.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[_.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity",onClick:t}),_.jsxs("div",{className:"relative bg-[#F2F2F7] w-full max-w-lg rounded-[20px] shadow-2xl flex flex-col max-h-[95vh] overflow-hidden animate-in fade-in zoom-in-95 duration-300",children:[_.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between sticky top-0 z-10 shrink-0",children:[_.jsx("button",{onClick:()=>{ie(),t()},className:"text-[#007AFF] text-[17px] active:opacity-50 transition-opacity",children:"Cancel"}),_.jsx("h2",{className:"text-[17px] font-semibold text-black absolute left-1/2 -translate-x-1/2",children:y==="input"?"New Card":"Edit Card"}),_.jsx("div",{className:"w-[50px]"})]}),_.jsx("div",{className:"overflow-y-auto p-4 [&::-webkit-scrollbar]:hidden",children:E?_.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[_.jsxs("div",{className:"relative mb-6",children:[_.jsx("div",{className:"absolute inset-0 bg-blue-400/20 rounded-full animate-ping"}),_.jsx("div",{className:"relative bg-white p-4 rounded-full shadow-lg",children:_.jsx(Hu,{className:"w-8 h-8 text-[#007AFF] animate-spin"})})]}),_.jsx("p",{className:"text-[17px] font-semibold text-gray-900 mb-2",children:"Creating..."}),_.jsx("p",{className:"text-[15px] text-gray-500 text-center h-6 animate-pulse px-4",children:z[D]})]}):y==="input"?_.jsxs("div",{className:"flex flex-col gap-6",children:[_.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-200/50",children:[_.jsxs("div",{className:"p-4 flex items-center gap-3",children:[_.jsx("span",{className:"text-[17px] text-gray-900 w-16 font-normal",children:"Word"}),_.jsx("input",{type:"text",value:v,onChange:W=>S(W.target.value),placeholder:"Turkish or Arabic...",className:"flex-1 text-[17px] text-gray-900 outline-none bg-transparent",onKeyDown:W=>W.key==="Enter"&&M(),autoFocus:!0}),v.length>0&&_.jsx("button",{onClick:()=>S(""),className:"text-gray-400",children:_.jsx(ao,{size:18})})]}),r.length>0&&_.jsxs("div",{className:"px-4 pb-3 flex items-center gap-3 border-t border-gray-100 pt-3",children:[_.jsx(Pa,{size:18,className:"text-gray-400"}),_.jsxs("select",{value:se,onChange:W=>b(W.target.value),className:"bg-transparent text-[15px] text-gray-600 outline-none w-full",children:[_.jsx("option",{value:"",children:"No Folder (General)"}),r.map(W=>_.jsx("option",{value:W.id,children:W.name},W.id))]})]})]}),N&&_.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-xl text-center border border-red-100",children:N}),_.jsx("div",{className:"space-y-3",children:_.jsx("button",{onClick:M,disabled:!v.trim(),className:`w-full py-3.5 rounded-xl font-semibold text-[17px] text-white transition-all active:scale-[0.98] ${v.trim()?"bg-[#007AFF] shadow-sm":"bg-gray-300"}`,children:"Generate"})})]}):_.jsxs("div",{className:"space-y-3",children:[r.length>0&&_.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200/60 overflow-hidden px-3 h-11 flex items-center",children:[_.jsxs("label",{className:"w-20 text-[15px] text-gray-500 shrink-0 flex items-center gap-2",children:[_.jsx(Pa,{size:14})," Folder"]}),_.jsxs("select",{value:se,onChange:W=>b(W.target.value),className:"flex-1 text-[15px] outline-none bg-transparent",children:[_.jsx("option",{value:"",children:"General"}),r.map(W=>_.jsx("option",{value:W.id,children:W.name},W.id))]})]}),_.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200/60 overflow-hidden divide-y divide-gray-100/80",children:[_.jsxs("div",{className:"flex items-center h-11 px-3",children:[_.jsx("label",{className:"w-20 text-[15px] text-gray-500 shrink-0",children:"Meaning"}),_.jsx("input",{type:"text",value:Y,onChange:W=>H(W.target.value),className:"flex-1 text-[16px] outline-none bg-transparent"})]}),_.jsxs("div",{className:"flex items-center h-11 px-3",children:[_.jsx("label",{className:"w-20 text-[15px] text-gray-500 shrink-0",children:"Arabic"}),_.jsxs("div",{className:"flex-1 flex gap-2 items-center",children:[_.jsx("input",{type:"text",value:X,onChange:W=>k(W.target.value),className:"flex-1 text-[20px] font-amiri outline-none bg-transparent text-left",dir:"rtl"}),_.jsx("div",{className:"w-px h-4 bg-gray-200 mx-1"}),_.jsx("button",{onClick:pe,className:"text-[#007AFF] hover:bg-blue-50 p-1.5 rounded-full active:scale-90 active:bg-blue-100 transition-all",children:_.jsx(Ba,{size:18})})]})]})]}),_.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200/60 overflow-hidden divide-y divide-gray-100/80",children:[_.jsxs("div",{className:"flex items-center h-11 px-3",children:[_.jsx("label",{className:"w-20 text-[15px] text-gray-500 shrink-0",children:"Keyword"}),_.jsx("input",{type:"text",value:J,onChange:W=>le(W.target.value),className:"flex-1 text-[16px] font-medium outline-none bg-transparent"})]}),_.jsxs("div",{className:"p-3",children:[_.jsx("label",{className:"block text-[11px] font-bold text-gray-400 uppercase mb-1",children:"Story"}),_.jsx("textarea",{value:Z,onChange:W=>ue(W.target.value),className:"w-full text-[15px] outline-none bg-transparent resize-none min-h-[60px]"})]})]}),_.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200/60 overflow-hidden p-1",children:_.jsx("div",{className:"relative w-full h-48 bg-gray-50 rounded-lg overflow-hidden border border-gray-100 flex flex-col items-center justify-center text-center",children:de?_.jsxs("div",{className:"flex flex-col items-center justify-center text-[#007AFF]",children:[_.jsx(Hu,{className:"animate-spin mb-2",size:32}),_.jsx("span",{className:"text-[13px] font-medium animate-pulse",children:"Painting your story..."})]}):$?_.jsxs(_.Fragment,{children:[_.jsx("img",{src:$,alt:"Mnemonic",className:"w-full h-full object-cover"}),_.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[_.jsx("button",{onClick:F,className:"bg-black/50 hover:bg-black/70 text-white p-2 rounded-full backdrop-blur-sm transition-all",title:"Regenerate",children:_.jsx(IT,{size:14})}),_.jsx("button",{onClick:()=>te(""),className:"bg-black/50 hover:bg-black/70 text-white p-2 rounded-full backdrop-blur-sm transition-all",title:"Remove",children:_.jsx(ao,{size:14})})]})]}):_.jsxs("div",{className:"flex flex-col items-center gap-3 p-4",children:[_.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-50 flex items-center justify-center text-purple-500 mb-1",children:_.jsx(nc,{size:24})}),_.jsxs("div",{className:"space-y-1 max-w-[200px]",children:[_.jsx("button",{onClick:F,disabled:!Z,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-full text-[15px] font-bold shadow-sm transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:"Generate Image"}),_.jsx("p",{className:"text-[11px] text-gray-400",children:"Based on your story"})]})]})})}),_.jsx("div",{className:"pt-1",children:_.jsx("button",{onClick:j,className:"w-full py-3 bg-[#007AFF] hover:bg-[#006ee6] text-white rounded-xl text-[17px] font-bold shadow-sm active:scale-[0.98] transition-all",children:"Save Card"})})]})})]})]})},RR=({isOpen:i,onClose:t,onSave:o,folders:a=[],textModel:r,imageModel:c,initialFolderId:p=""})=>{const[g,y]=Q.useState(""),[h,v]=Q.useState(p),[S,E]=Q.useState("idle"),[A,N]=Q.useState([]),[I,D]=Q.useState(0),[P,z]=Q.useState([]),[Y,H]=Q.useState(0),[X,k]=Q.useState(""),J=Q.useRef(!1);Q.useEffect(()=>{i&&(v(p),E("idle"),N([]),D(0),z([]),y(""),H(0),k(""),J.current=!1)},[i,p]);const le=()=>{E("idle"),J.current=!1,t()},Z=()=>{const $=g.split(`
`).map(te=>te.trim()).filter(te=>te.length>0);$.length!==0&&(N($),D(0),z([]),E("generating"),J.current=!0)},ue=()=>{E("paused"),J.current=!1},he=($,te,se)=>{z(b=>[{id:$a(),word:$,status:te,message:se,timestamp:Date.now()},...b])};if(Q.useEffect(()=>{if(!i)return;let $;return S==="generating"?(async()=>{if(!J.current)return;if(I>=A.length){E("done"),J.current=!1;return}const se=A[I];try{k("Analyizing & Writing Story...");const b=await vy(se,r);k("Designing Image Prompt...");const K=await Ty(b.story,b.keyword,b.turkishMeaning,r);k("Painting Image...");const ne=await Sy(K,c),de={id:$a(),folderId:h||void 0,turkishMeaning:b.turkishMeaning,arabicWord:b.arabicWord,keyword:b.keyword,story:b.story,imagePrompt:K,imageUrl:ne,status:"library",intervalIndex:0,nextReviewTime:0};o(de),he(se,"success")}catch(b){console.error(b),he(se,"error",b.message||"Generation failed")}if(I<A.length-1){const b=Math.floor(Math.random()*6+10);H(b),E("waiting"),k("")}else E("done"),J.current=!1,k("")})():S==="waiting"&&($=setInterval(()=>{H(se=>se<=1?(clearInterval($),D(b=>b+1),E("generating"),0):se-1)},1e3)),()=>clearInterval($)},[S,A,I,h,r,c,i,o]),!i)return null;const ve=S==="generating"||S==="waiting";return _.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[_.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity",onClick:ve?void 0:le}),_.jsxs("div",{className:"relative bg-[#F2F2F7] w-full max-w-lg rounded-[20px] shadow-2xl flex flex-col max-h-[85vh] overflow-hidden animate-in fade-in zoom-in-95 duration-300",children:[_.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between sticky top-0 z-10 shrink-0",children:[ve?_.jsx("div",{className:"w-[50px]"}):_.jsx("button",{onClick:le,className:"text-[#007AFF] text-[17px] active:opacity-50 transition-opacity",children:"Close"}),_.jsxs("h2",{className:"text-[17px] font-semibold text-black absolute left-1/2 -translate-x-1/2 flex items-center gap-2",children:[_.jsx(Tg,{size:18})," Bulk Create"]}),_.jsx("div",{className:"w-[50px]"})]}),_.jsx("div",{className:"flex-grow overflow-hidden flex flex-col",children:S==="idle"?_.jsxs("div",{className:"p-4 flex flex-col h-full gap-4",children:[_.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200/50 flex flex-col flex-grow",children:[_.jsx("label",{className:"text-sm font-semibold text-gray-500 mb-2 block",children:"Paste words (one per line)"}),_.jsx("textarea",{className:"flex-grow w-full resize-none outline-none text-[16px] text-gray-900 placeholder:text-gray-300 font-mono leading-relaxed",placeholder:`Araba
Kitap
Kalem`,value:g,onChange:$=>y($.target.value),autoFocus:!0})]}),a.length>0&&_.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200/60 overflow-hidden px-3 h-12 flex items-center",children:[_.jsxs("label",{className:"w-24 text-[15px] font-medium text-gray-500 shrink-0 flex items-center gap-2",children:[_.jsx(Pa,{size:16})," Save to"]}),_.jsxs("select",{value:h,onChange:$=>v($.target.value),className:"flex-1 text-[15px] outline-none bg-transparent h-full text-gray-900",children:[_.jsx("option",{value:"",children:"General (No Folder)"}),a.map($=>_.jsx("option",{value:$.id,children:$.name},$.id))]})]}),_.jsxs(ul,{onClick:Z,disabled:!g.trim(),children:[_.jsx(Dm,{size:18,fill:"currentColor"}),"Start Processing"]})]}):_.jsxs("div",{className:"flex flex-col h-full",children:[_.jsxs("div",{className:"bg-white p-6 border-b border-gray-100 flex flex-col items-center justify-center gap-3",children:[S==="done"?_.jsxs("div",{className:"text-green-500 flex flex-col items-center animate-in zoom-in",children:[_.jsx(Vu,{size:48,className:"mb-2"}),_.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Completed"})]}):_.jsxs("div",{className:"relative w-full max-w-[200px] text-center",children:[_.jsxs("div",{className:"text-3xl font-bold text-gray-900 font-mono mb-1",children:[I+1," ",_.jsx("span",{className:"text-gray-300",children:"/"})," ",A.length]}),_.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden mt-3",children:_.jsx("div",{className:"h-full bg-[#007AFF] transition-all duration-500",style:{width:`${I/A.length*100}%`}})})]}),_.jsxs("div",{className:"h-8 flex items-center justify-center",children:[S==="generating"&&_.jsxs("span",{className:"flex items-center gap-2 text-[#007AFF] font-medium animate-pulse",children:[_.jsx(Hu,{size:16,className:"animate-spin"}),X||"Generating..."]}),S==="waiting"&&_.jsxs("span",{className:"flex items-center gap-2 text-orange-500 font-medium",children:[_.jsx(fl,{size:16}),"Cooling down... ",Y,"s"]}),S==="done"&&_.jsx("span",{className:"text-gray-500 text-sm",children:"All words processed."}),S==="paused"&&_.jsx("span",{className:"text-red-500 font-medium",children:"Paused"})]})]}),_.jsxs("div",{className:"flex-grow overflow-y-auto p-4 bg-gray-50 space-y-2 font-mono text-sm",children:[P.length===0&&_.jsx("div",{className:"text-gray-400 text-center mt-10",children:"Logs will appear here..."}),P.map($=>_.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-gray-100 flex items-start gap-3 animate-in slide-in-from-top-1",children:[_.jsxs("div",{className:"mt-0.5",children:[$.status==="success"&&_.jsx(Vu,{size:16,className:"text-green-500"}),$.status==="error"&&_.jsx(dT,{size:16,className:"text-red-500"})]}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[_.jsx("span",{className:"font-bold text-gray-900 truncate",children:$.word}),_.jsx("span",{className:"text-[10px] text-gray-400",children:new Date($.timestamp).toLocaleTimeString()})]}),$.status==="error"?_.jsx("p",{className:"text-red-600 text-xs",children:$.message}):_.jsx("p",{className:"text-green-600 text-xs",children:"Card & Image created"})]})]},$.id))]}),_.jsx("div",{className:"p-4 bg-white border-t border-gray-200",children:S==="done"?_.jsx(ul,{onClick:le,children:"Done"}):S==="paused"?_.jsxs(ul,{onClick:()=>{E("generating"),J.current=!0},children:[_.jsx(Dm,{size:18,fill:"currentColor"})," Resume"]}):_.jsxs(ul,{onClick:ue,className:"!bg-red-50 !text-red-600 hover:!bg-red-100",children:[_.jsx(kT,{size:16,fill:"currentColor"})," Stop"]})})]})})]})]})},MR=({isOpen:i,onClose:t,selectedVoiceURI:o,onVoiceSelect:a,textModel:r,imageModel:c,onTextModelSelect:p,onImageModelSelect:g})=>{const[y,h]=Q.useState([]),[v,S]=Q.useState(null),E=Q.useRef(null),[A,N]=Q.useState("ai"),I=Q.useRef(0);if(Q.useEffect(()=>{let z=!0;const Y=()=>{if(!z)return;const k=Date.now();if(k-I.current<500)return;I.current=k;const J=BT();h(le=>le.length===J.length&&le.length>0?le:J)};Y();const H=setInterval(Y,2e3),X=setTimeout(()=>clearInterval(H),1e4);if(window.speechSynthesis){const k=()=>Y();return window.speechSynthesis.addEventListener("voiceschanged",k),()=>{z=!1,clearInterval(H),clearTimeout(X),window.speechSynthesis.removeEventListener("voiceschanged",k)}}else return()=>{z=!1,clearInterval(H),clearTimeout(X)}},[]),!i)return null;const D=z=>{if(E.current===z.voiceURI){window.speechSynthesis&&window.speechSynthesis.cancel(),S(null),E.current=null;return}S(z.voiceURI),E.current=z.voiceURI,ic(null,"     ",z.voiceURI,void 0,()=>{E.current===z.voiceURI&&(S(null),E.current=null)})},P=z=>{const H=z.replace("_","-").split("-"),X=H.length>1?H[1]:null;return X?{SA:"Saudi Arabia",EG:"Egypt",AE:"UAE",QA:"Qatar",JO:"Jordan",LB:"Lebanon",KW:"Kuwait",MA:"Morocco",DZ:"Algeria",TN:"Tunisia",OM:"Oman",IQ:"Iraq",BH:"Bahrain",LY:"Libya",SY:"Syria",YE:"Yemen"}[X.toUpperCase()]||X.toUpperCase():"General"};return _.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[_.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity",onClick:t}),_.jsxs("div",{className:"relative bg-white w-full max-w-sm rounded-[24px] shadow-2xl flex flex-col max-h-[75vh] overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[_.jsxs("div",{className:"px-5 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[_.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Settings"}),_.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 active:scale-90 transition-transform",children:_.jsx(ao,{size:20})})]}),_.jsx("div",{className:"px-4 pt-4",children:_.jsxs("div",{className:"flex bg-gray-100/80 p-1 rounded-xl",children:[_.jsxs("button",{onClick:()=>N("ai"),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-sm font-semibold transition-all ${A==="ai"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:[_.jsx(Im,{size:16})," AI Models"]}),_.jsxs("button",{onClick:()=>N("voice"),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-sm font-semibold transition-all ${A==="voice"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:[_.jsx(Ba,{size:16})," Voices"]})]})}),_.jsxs("div",{className:"flex-grow overflow-y-auto p-4 space-y-4",children:[A==="ai"&&_.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center gap-2 px-2",children:[_.jsx(Im,{size:16,className:"text-gray-400"}),_.jsx("label",{className:"text-[12px] font-bold text-gray-400 uppercase tracking-widest",children:"Text Generation"})]}),_.jsx("div",{className:"bg-gray-50 rounded-2xl border border-gray-100 overflow-hidden divide-y divide-gray-100",children:vR.map(z=>_.jsxs("button",{onClick:()=>p(z.id),className:`w-full flex items-center justify-between p-4 transition-colors ${r===z.id?"bg-blue-50/50":"hover:bg-white"}`,children:[_.jsx("span",{className:`text-[15px] font-semibold ${r===z.id?"text-[#007AFF]":"text-gray-800"}`,children:z.name}),_.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${r===z.id?"bg-[#007AFF] border-[#007AFF]":"border-gray-200"}`,children:r===z.id&&_.jsx(io,{size:12,className:"text-white",strokeWidth:3})})]},z.id))})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center gap-2 px-2",children:[_.jsx(xT,{size:16,className:"text-gray-400"}),_.jsx("label",{className:"text-[12px] font-bold text-gray-400 uppercase tracking-widest",children:"Image Generation"})]}),_.jsx("div",{className:"bg-gray-50 rounded-2xl border border-gray-100 overflow-hidden divide-y divide-gray-100",children:TR.map(z=>_.jsxs("button",{onClick:()=>g(z.id),className:`w-full flex items-center justify-between p-4 transition-colors ${c===z.id?"bg-blue-50/50":"hover:bg-white"}`,children:[_.jsx("span",{className:`text-[15px] font-semibold ${c===z.id?"text-[#007AFF]":"text-gray-800"}`,children:z.name}),_.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${c===z.id?"bg-[#007AFF] border-[#007AFF]":"border-gray-200"}`,children:c===z.id&&_.jsx(io,{size:12,className:"text-white",strokeWidth:3})})]},z.id))})]})]}),A==="voice"&&_.jsxs("div",{className:"space-y-1 animate-in slide-in-from-right-4 duration-300",children:[_.jsx("p",{className:"text-[12px] font-bold text-gray-400 uppercase tracking-widest px-2 mb-2",children:"Voice Model"}),y.length===0?_.jsxs("div",{className:"text-center py-8 flex flex-col items-center justify-center text-gray-400 italic text-sm border-2 border-dashed border-gray-100 rounded-2xl",children:[_.jsx(CT,{size:24,className:"mb-2 opacity-50"}),"No Arabic voices found.",_.jsx("span",{className:"text-[10px] mt-1 text-gray-300",children:"Check device settings"})]}):_.jsx("div",{className:"bg-gray-50 rounded-2xl border border-gray-100 divide-y divide-gray-100 overflow-hidden",children:y.map(z=>{const Y=o===z.voiceURI,H=v===z.voiceURI;return _.jsxs("div",{className:`flex items-center justify-between p-4 transition-colors cursor-pointer ${Y?"bg-blue-50/50":"hover:bg-white"}`,onClick:()=>a(z.voiceURI),children:[_.jsxs("div",{className:"flex-grow min-w-0 pr-4",children:[_.jsx("p",{className:`text-[15px] font-semibold truncate ${Y?"text-[#007AFF]":"text-gray-800"}`,children:z.name.replace("Arabic","").replace("Google","").trim()||z.name}),_.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[_.jsx("span",{className:"text-[11px] text-gray-400 uppercase bg-gray-200/50 px-1.5 py-0.5 rounded",children:P(z.lang)}),z.localService&&_.jsx("span",{className:"text-[11px] text-green-600/70 uppercase bg-green-50 px-1.5 py-0.5 rounded",children:"Offline"})]})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("button",{onClick:X=>{X.stopPropagation(),D(z)},className:`p-2 rounded-full active:scale-90 transition-all ${H?"bg-[#007AFF] text-white shadow-md":"bg-gray-100 text-gray-400 hover:text-[#007AFF] hover:bg-blue-50"}`,children:_.jsx(Ba,{size:16,className:H?"animate-pulse":""})}),_.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all ${Y?"bg-[#007AFF] border-[#007AFF] scale-110":"border-gray-200"}`,children:Y&&_.jsx(io,{size:12,className:"text-white",strokeWidth:3})})]})]},z.voiceURI)})}),_.jsx("div",{className:"mt-4 bg-blue-50/50 p-4 rounded-xl border border-blue-100",children:_.jsxs("p",{className:"text-[13px] text-blue-800 leading-relaxed",children:[_.jsx("strong",{children:"Tip:"})," You can download high-quality voices in your device settings under ",_.jsx("em",{children:"Accessibility"})," or ",_.jsx("em",{children:"Text-to-speech"}),"."]})})]})]}),_.jsx("div",{className:"p-4 bg-gray-50/50 border-t border-gray-100",children:_.jsx("button",{onClick:t,className:"w-full py-3 bg-white border border-gray-200 text-gray-900 rounded-xl font-bold active:scale-[0.98] transition-all shadow-sm",children:"Done"})})]})]})},bR=({onFinish:i})=>{const[t,o]=Q.useState(!0);return Q.useEffect(()=>{const a=setTimeout(()=>{o(!1),setTimeout(i,500)},1500);return()=>clearTimeout(a)},[i]),_.jsx("div",{className:`fixed inset-0 z-[100] bg-white flex flex-col items-center justify-center transition-opacity duration-500 ${t?"opacity-100":"opacity-0 pointer-events-none"}`,children:_.jsxs("div",{className:"relative flex flex-col items-center",children:[_.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-2xl flex items-center justify-center shadow-lg mb-6 transform transition-transform duration-700 hover:scale-105",children:_.jsx("span",{className:"text-white text-4xl font-amiri font-bold",children:""})}),_.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Arabic Mnemonic"}),_.jsxs("div",{className:"mt-2 flex items-center gap-2 text-gray-400 text-sm",children:[_.jsx(nc,{size:14}),_.jsx("span",{children:"Loading Library..."})]})]})})},wR=()=>_.jsxs("div",{className:"fixed inset-0 z-[-1] bg-[#F2F2F7] overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 via-gray-50 to-indigo-50/50"}),_.jsx("div",{className:"absolute inset-0 opacity-[0.015] bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"})]});function gc(i){return new Promise((t,o)=>{i.oncomplete=i.onsuccess=()=>t(i.result),i.onabort=i.onerror=()=>o(i.error)})}function IR(i,t){let o;const a=()=>{if(o)return o;const r=indexedDB.open(i);return r.onupgradeneeded=()=>r.result.createObjectStore(t),o=gc(r),o.then(c=>{c.onclose=()=>o=void 0},()=>{}),o};return(r,c)=>a().then(p=>c(p.transaction(t,r).objectStore(t)))}let Gu;function Ey(){return Gu||(Gu=IR("keyval-store","keyval")),Gu}function ku(i,t=Ey()){return t("readonly",o=>gc(o.get(i)))}function rl(i,t,o=Ey()){return o("readwrite",a=>(a.put(t,i),gc(a.transaction)))}function DR(){const[i,t]=Q.useState([]),[o,a]=Q.useState([]),[r,c]=Q.useState(null),[p,g]=Q.useState({selectedVoiceURI:"",textModel:hc,imageModel:yy}),[y,h]=Q.useState(!1),[v,S]=Q.useState(!1),[E,A]=Q.useState(!1),[N,I]=Q.useState("library"),[D,P]=Q.useState(!0),[z,Y]=Q.useState(!1);Q.useEffect(()=>{(async()=>{try{let te=await ku("arabic-mnemonic-cards");if(!te)try{const K=localStorage.getItem("arabic-mnemonic-cards");K&&(te=JSON.parse(K),te&&await rl("arabic-mnemonic-cards",te))}catch(K){console.error("Migration error (Cards):",K)}te&&t(te);let se=await ku("arabic-mnemonic-folders");se&&a(se);let b=await ku("arabic-mnemonic-settings");if(!b)try{const K=localStorage.getItem("arabic-mnemonic-settings");K&&(b=JSON.parse(K),b&&await rl("arabic-mnemonic-settings",b))}catch(K){console.error("Migration error (Settings):",K)}b&&g(K=>({...K,...b}))}catch(te){console.error("Critical error loading data:",te)}finally{Y(!0)}})()},[]),Q.useEffect(()=>{if(!z)return;const $=setTimeout(()=>{rl("arabic-mnemonic-cards",i).catch(te=>console.error("Failed to save cards to IDB:",te))},1e3);return()=>clearTimeout($)},[i,z]),Q.useEffect(()=>{z&&rl("arabic-mnemonic-folders",o).catch($=>console.error("Failed to save folders to IDB:",$))},[o,z]),Q.useEffect(()=>{z&&(rl("arabic-mnemonic-settings",p).catch($=>console.error("Failed to save settings to IDB:",$)),localStorage.setItem("arabic-mnemonic-settings",JSON.stringify(p)))},[p,z]),Q.useEffect(()=>{window.speechSynthesis&&window.speechSynthesis.getVoices()},[]);const H=Q.useCallback($=>{t(te=>[$,...te]),I("library")},[]),X=Q.useCallback($=>{const te={id:$a(),name:$,createdAt:Date.now()};a(se=>[...se,te])},[]),k=Q.useCallback($=>{window.confirm("Delete this folder? Cards inside will remain but become uncategorized.")&&(a(te=>te.filter(se=>se.id!==$)),r===$&&c(null))},[r]),J=Q.useCallback($=>{t(te=>te.map(se=>se.id===$.id?{...se,status:"active",intervalIndex:0,nextReviewTime:Date.now()+Ha[0]}:se)),I("active")},[]),le=Q.useCallback($=>{t(te=>te.map(se=>se.id===$?{...se,status:"library"}:se))},[]),Z=Q.useCallback($=>{t(te=>te.map(se=>se.id===$.id?$:se))},[]),ue=Q.useCallback($=>{t(te=>te.filter(se=>se.id!==$))},[]),he=Q.useCallback($=>{$.length!==0&&window.confirm(`Are you sure you want to delete ${$.length} cards?`)&&t(te=>te.filter(se=>!$.includes(se.id)))},[]),ve=i.filter($=>$.status==="active").length;return _.jsxs(_.Fragment,{children:[D&&_.jsx(bR,{onFinish:()=>P(!1)}),_.jsx(wR,{}),_.jsxs("div",{className:"flex flex-col h-full w-full overflow-hidden relative text-gray-900",children:[_.jsxs("div",{className:"flex-grow overflow-hidden relative",children:[N==="library"&&_.jsx(KT,{cards:i,folders:o,onAddCard:()=>h(!0),onOpenBulk:()=>S(!0),onOpenSettings:()=>A(!0),onActivateCard:J,onDeleteCard:ue,onBulkDelete:he,onCreateFolder:X,onDeleteFolder:k,selectedFolderId:r,onSelectFolder:c}),N==="active"&&_.jsx(QT,{cards:i,folders:o,onUpdateCard:Z,onDeleteCard:ue,onDeactivateCard:le})]}),_.jsxs("nav",{className:"bg-[#F9F9F9] border-t border-gray-200 pb-[calc(16px+env(safe-area-inset-bottom))] pt-2 flex-none flex items-stretch z-20 shadow-[0_-1px_0_rgba(0,0,0,0.05)] h-auto min-h-[80px]",children:[_.jsxs("button",{onClick:()=>I("library"),className:`flex-1 flex flex-col items-center justify-center gap-1 transition-colors duration-200 py-1 ${N==="library"?"text-[#007AFF]":"text-gray-400"}`,children:[_.jsx(uT,{size:24,strokeWidth:N==="library"?2.5:2}),_.jsx("span",{className:"text-[10px] font-medium",children:"Library"})]}),_.jsxs("button",{onClick:()=>I("active"),className:`flex-1 flex flex-col items-center justify-center gap-1 transition-colors duration-200 relative py-1 ${N==="active"?"text-[#007AFF]":"text-gray-400"}`,children:[_.jsxs("div",{className:"relative",children:[_.jsx(fl,{size:24,strokeWidth:N==="active"?2.5:2}),ve>0&&_.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full border-2 border-[#F9F9F9]"})]}),_.jsx("span",{className:"text-[10px] font-medium",children:"Active Queue"})]})]}),_.jsx(NR,{isOpen:y,onClose:()=>h(!1),onSave:H,selectedVoiceURI:p.selectedVoiceURI,folders:o,textModel:p.textModel,imageModel:p.imageModel,initialFolderId:r||""}),_.jsx(RR,{isOpen:v,onClose:()=>S(!1),onSave:H,folders:o,textModel:p.textModel,imageModel:p.imageModel,initialFolderId:r||""}),E&&_.jsx(MR,{isOpen:E,onClose:()=>A(!1),selectedVoiceURI:p.selectedVoiceURI,onVoiceSelect:$=>g(te=>({...te,selectedVoiceURI:$})),textModel:p.textModel,imageModel:p.imageModel,onTextModelSelect:$=>g(te=>({...te,textModel:$})),onImageModelSelect:$=>g(te=>({...te,imageModel:$}))})]})]})}class UR extends yg.Component{constructor(t){super(t),this.state={hasError:!1,error:null},this.props=t}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,o){console.error("Uncaught error:",t,o)}render(){var t;return this.state.hasError?_.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50 p-6 text-center",children:[_.jsx("div",{className:"bg-red-100 p-4 rounded-full mb-4",children:_.jsx(zT,{className:"text-red-600 w-8 h-8"})}),_.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),_.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"The application encountered an error."}),_.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-left w-full max-w-md overflow-auto max-h-60",children:_.jsx("p",{className:"font-mono text-xs text-red-500 whitespace-pre-wrap break-all",children:(t=this.state.error)==null?void 0:t.toString()})}),_.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 px-6 py-2 bg-gray-900 text-white rounded-lg font-medium active:scale-95 transition-transform",children:"Reload App"})]}):this.props.children}}const _y=document.getElementById("root");if(!_y)throw new Error("Could not find root element to mount to");const LR=nT.createRoot(_y);LR.render(_.jsx(yg.StrictMode,{children:_.jsx(UR,{children:_.jsx(DR,{})})}));
